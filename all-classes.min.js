function geoSuccess(a){now.reqUpdLocation({lat:a.coords.latitude,lon:a.coords.longitude}),now.reqConvoBox({"public":!0,"private":!0,rad:20})}function geoFail(a){Ext.getCmp("btnCreateNew").setDisabled(!0),Ext.getCmp("btnCreateNew").setText("Create disabled"),Ext.getCmp("tfMessage").setDisabled(!0),Ext.getCmp("tfMessage").setValue("Posting disabled"),Ext.getCmp("btnSay").setDisabled(!0),Ext.getCmp("btnUserList").setHandler(function(){Ext.Msg.alert("User List Disabled","Geolocation must be active to access user list.")}),Ext.getCmp("sfChannelType").on("change",function(a,b){b.data.value=="local"?Ext.Msg.alert("Local Channels Disabled","Geolocation must be active to access local channels.",function(){Ext.getCmp("sfChannelType").setValue("history")}):b.data.value=="private"&&Ext.Msg.alert("Private Channels Disabled","Geolocation must be active to access private channels.",function(){Ext.getCmp("sfChannelType").setValue("history")})}),Ext.Msg.alert("Geolocation failed!","Please check your phone and browser settings.",function(){Ext.getCmp("sfChannelType").setValue("history")})}function nowReady(){now.core.socketio.on("disconnect",function(){now.core.socketio.on("connect",function(){ScrollToEnd("listChannel",1e3),now.core.socketio.on("connect",function(){})})})}function addChannel(a){var b="miles";a.distance<=.5&&(a.distance=a.distance*1760,b="yards"),storeChannelList.add({id:a.id,name:a.name,rangeLabel:a.rangeLabel,userCount:a.userCount,age:a.age,distance:Math.round(a.distance),distanceLabel:b,score:a.score,updated:a.updated,isPrivate:a.private,isLocked:a.locked})}function processConvoList(){storeChannelList.removeAll();if(convoMode=="local"||convoMode=="private")dsRoomList!=undefined&&dsRoomList.each(function(a){switch(convoMode){case"local":!a.private&&!a.global&&storeChannelList.findExact("id",a.id)==-1&&addChannel(a);break;case"private":a.private&&!a.global&&storeChannelList.findExact("id",a.id)==-1&&addChannel(a)}}),storeChannelList.sort("score","ASC");else if(convoMode=="global"||convoMode=="history")dsStaticRooms!=undefined&&dsStaticRooms.each(function(a){switch(convoMode){case"global":a.global&&storeChannelList.findExact("id",a.id)==-1&&addChannel(a);break;case"history":a.history&&storeChannelList.findExact("id",a.id)==-1&&addChannel(a)}}),storeChannelList.sort("updated","DESC");selectActiveChannel()}function postMsg(a,b){if(b!=""){var c={cid:a,text:b};now.reqPost(c)}}function addMsg(a){storeMessageList.add({id:a.id,thumb:a.thumb,text:a.text,username:a.username,time:getTimeString(a.creation),location:a.location,isOwn:a.isOwn})}function getRoom(a){switch(convoMode){case"local":case"private":return dsRoomList.data[a];case"history":case"global":return dsStaticRooms.data[a]}}function getTimeString(a){var b;a!=undefined?b=new Date(a):b=new Date;var c=b.getHours(),d=b.getMinutes(),e,f,g="";return c>=12?g="PM":g="AM",c>12?c-=12:c==0&&(c=12),d<10&&(d="0"+d),e=b.getMonth()+1,f=b.getDate(),e+"/"+f+" "+c+":"+d+" "+g}function defaultActiveItemChange(a,b,c){Ext.getCmp("tabChannel").setActiveItem(0),b.id=="listChannelList"&&selectActiveChannel()}function selectActiveChannel(){if(activeChannel!=undefined){var a=storeChannelList.findExact("id",activeChannel);a!=-1&&(Ext.getCmp("listChannelList").setDisableSelection(!1),Ext.getCmp("listChannelList").select(a),Ext.getCmp("listChannelList").setDisableSelection(!0))}}Ext.define("Ext.data.Operation",{config:{synchronous:!0,action:null,filters:null,sorters:null,grouper:null,start:null,limit:null,batch:null,callback:null,scope:null,resultSet:null,records:null,request:null,response:null,withCredentials:null,params:null,url:null,page:null,node:null,model:undefined,addRecords:!1},started:!1,running:!1,complete:!1,success:undefined,exception:!1,error:undefined,constructor:function(a){this.initConfig(a)},applyModel:function(a){return typeof a=="string"&&(a=Ext.data.ModelManager.getModel(a),a||Ext.Logger.error("Model with name "+arguments[0]+" doesnt exist.")),a&&!a.prototype.isModel&&Ext.isObject(a)&&(a=Ext.data.ModelManager.registerType(a.storeId||a.id||Ext.id(),a)),a||Ext.Logger.warn("Unless you define your model using metadata, an Operation needs to have a model defined."),a},getRecords:function(){var a=this.getResultSet();return this._records||(a?a.getRecords():[])},setStarted:function(){this.started=!0,this.running=!0},setCompleted:function(){this.complete=!0,this.running=!1},setSuccessful:function(){this.success=!0},setException:function(a){this.exception=!0,this.success=!1,this.running=!1,this.error=a},hasException:function(){return this.exception===!0},getError:function(){return this.error},isStarted:function(){return this.started===!0},isRunning:function(){return this.running===!0},isComplete:function(){return this.complete===!0},wasSuccessful:function(){return this.isComplete()&&this.success===!0},allowWrite:function(){return this.getAction()!="read"},process:function(a,b,c,d){return b.getSuccess()===!1?!1:(this.setResponse(d),this.setResultSet(b),this.setCompleted(),this.setSuccessful(),this["process"+Ext.String.capitalize(a)].call(this,b,c,d))},processRead:function(a){var b=a.getRecords(),c=[],d=this.getModel(),e=b.length,f,g;for(f=0;f<e;f++)g=b[f],c.push(new d(g.data,g.id,g.node));return this.setRecords(c),!0},processCreate:function(a){var b=a.getRecords(),c=this.getRecords(),d=b.length,e,f,g;for(e=0;e<d;e++)g=b[e],g.clientId===null&&c.length==1&&b.length==1?f=c[e]:f=this.findCurrentRecord(g.clientId),f?this.updateRecord(f,g):Ext.Logger.warn("Unable to match the record that came back from the server.");return!0},processUpdate:function(a){var b=a.getRecords(),c=this.getRecords(),d=b.length,e,f,g;for(e=0;e<d;e++)g=b[e],f=c[e],f?this.updateRecord(f,g):Ext.Logger.warn("Unable to match the updated record that came back from the server.");return!0},processDestroy:function(a){var b=a.getRecords(),c=b.length,d,e,f;for(d=0;d<c;d++)f=b[d],e=this.findCurrentRecord(f.id),e?(e.setIsErased(!0),e.notifyStores("afterErase",e)):Ext.Logger.warn("Unable to match the destroyed record that came back from the server.")},findCurrentRecord:function(a){var b=this.getRecords(),c=b.length,d,e;for(d=0;d<c;d++){e=b[d];if(e.getId()===a)return e}},updateRecord:function(a,b){var c=b.data,d=b.id;a.beginEdit(),a.set(c),d!==null&&a.setId(d),a.endEdit(!0),a.commit()}},function(){Ext.deprecateProperty(this,"group","grouper")}),Ext.define("Ext.event.ListenerStack",{currentOrder:"current",length:0,constructor:function(){return this.listeners={before:[],current:[],after:[]},this.lateBindingMap={},this},add:function(a,b,c,d){var e=this.lateBindingMap,f=this.getAll(d),g=f.length,h,i,j;if(typeof a=="string"&&b.isIdentifiable){j=b.getId(),h=e[j];if(h){if(h[a])return!1;h[a]=!0}else e[j]=h={},h[a]=!0}else if(g>0)while(g--){i=f[g];if(i.fn===a&&i.scope===b)return i.options=c,!1}return i=this.create(a,b,c,d),c&&c.prepend?(delete c.prepend,f.unshift(i)):f.push(i),this.length++,!0},getAt:function(a,b){return this.getAll(b)[a]},getAll:function(a){return a||(a=this.currentOrder),this.listeners[a]},count:function(a){return this.getAll(a).length},create:function(a,b,c,d){return{stack:this,fn:a,firingFn:!1,boundFn:!1,isLateBinding:typeof a=="string",scope:b,options:c||{},order:d}},remove:function(a,b,c){var d=this.getAll(c),e=d.length,f=!1,g=this.lateBindingMap,h,i;if(e>0)while(e--){h=d[e];if(h.fn===a&&h.scope===b){d.splice(e,1),f=!0,this.length--,typeof a=="string"&&b.isIdentifiable&&(i=b.getId(),g[i]&&g[i][a]&&delete g[i][a]);break}}return f}}),Ext.define("Ext.event.Controller",{isFiring:!1,listenerStack:null,constructor:function(a){return this.firingListeners=[],this.firingArguments=[],this.setInfo(a),this},setInfo:function(a){this.info=a},getInfo:function(){return this.info},setListenerStacks:function(a){this.listenerStacks=a},fire:function(a,b){var c=this.listenerStacks,d=this.firingListeners,e=this.firingArguments,f=d.push,g=c.length,h,i,j,k,l=!1,m=!1,n;d.length=0,b&&(b.order!=="after"?l=!0:m=!0);if(g===1)h=c[0].listeners,i=h.before,j=h.current,k=h.after,i.length>0&&f.apply(d,i),l&&f.call(d,b),j.length>0&&f.apply(d,j),m&&f.call(d,b),k.length>0&&f.apply(d,k);else{for(n=0;n<g;n++)i=c[n].listeners.before,i.length>0&&f.apply(d,i);l&&f.call(d,b);for(n=0;n<g;n++)j=c[n].listeners.current,j.length>0&&f.apply(d,j);m&&f.call(d,b);for(n=0;n<g;n++)k=c[n].listeners.after,k.length>0&&f.apply(d,k)}return d.length===0?this:(a||(a=[]),e.length=0,e.push.apply(e,a),e.push(null,this),this.doFire(),this)},doFire:function(){var a=this.firingListeners,b=this.firingArguments,c=b.length-2,d,e,f,g,h,i,j,k,l,m,n;this.isPausing=!1,this.isPaused=!1,this.isStopped=!1,this.isFiring=!0;for(d=0,e=a.length;d<e;d++){f=a[d],g=f.options,h=f.fn,i=f.firingFn,j=f.boundFn,k=f.isLateBinding,l=f.scope,k&&j&&j!==l[h]&&(j=!1,i=!1);if(!j){if(k){j=l[h];if(!j)continue}else j=h;f.boundFn=j}i||(i=j,g.buffer&&(i=Ext.Function.createBuffered(i,g.buffer,l)),g.delay&&(i=Ext.Function.createDelayed(i,g.delay,l)),f.firingFn=i),b[c]=g,m=b,g.args&&(m=g.args.concat(m)),g.single===!0&&f.stack.remove(h,l,f.order),n=i.apply(l,m),n===!1&&this.stop();if(this.isStopped)break;if(this.isPausing){this.isPaused=!0,a.splice(0,d+1);return}}this.isFiring=!1,this.listenerStacks=null,a.length=0,b.length=0,this.connectingController=null},connect:function(a){this.connectingController=a},resume:function(){var a=this.connectingController;return this.isPausing=!1,this.isPaused&&this.firingListeners.length>0&&(this.isPaused=!1,this.doFire()),a&&a.resume(),this},isInterrupted:function(){return this.isStopped||this.isPaused},stop:function(){var a=this.connectingController;return this.isStopped=!0,a&&(this.connectingController=null,a.stop()),this.isFiring=!1,this.listenerStacks=null,this},pause:function(){var a=this.connectingController;return this.isPausing=!0,a&&a.pause(),this}}),Ext.define("Ext.event.publisher.Publisher",{targetType:"",idSelectorRegex:/^#([\w\-]+)$/i,constructor:function(){var a=this.handledEvents,b,c,d,e;b=this.handledEventsMap={};for(c=0,d=a.length;c<d;c++)e=a[c],b[e]=!0;return this.subscribers={},this},handles:function(a){var b=this.handledEventsMap;return!!b[a]||!!b["*"]||a==="*"},getHandledEvents:function(){return this.handledEvents},setDispatcher:function(a){this.dispatcher=a},subscribe:function(){return!1},unsubscribe:function(){return!1},unsubscribeAll:function(){return delete this.subscribers,this.subscribers={},this},notify:function(){return!1},getTargetType:function(){return this.targetType},dispatch:function(a,b,c){this.dispatcher.doDispatchEvent(this.targetType,a,b,c)}}),Ext.define("Ext.data.identifier.Simple",{alias:"data.identifier.simple",statics:{AUTO_ID:1},config:{prefix:"ext-record-"},constructor:function(a){this.initConfig(a)},generate:function(a){return this._prefix+this.self.AUTO_ID++}}),Ext.define("Ext.util.Sorter",{isSorter:!0,config:{property:null,sorterFn:null,root:null,transform:null,direction:"ASC",id:undefined},constructor:function(a){this.initConfig(a)},applySorterFn:function(a){return!a&&!this.getProperty()&&Ext.Logger.error("A Sorter requires either a property or a sorterFn."),a},applyProperty:function(a){return!a&&!this.getSorterFn()&&Ext.Logger.error("A Sorter requires either a property or a sorterFn."),a},applyId:function(a){return a||(a=this.getProperty(),a||(a=Ext.id(null,"ext-sorter-"))),a},createSortFunction:function(a){var b=this,c=b.getDirection().toUpperCase()=="DESC"?-1:1;return function(d,e){return c*a.call(b,d,e)}},defaultSortFn:function(a,b){var c=this,d=c._transform,e=c._root,f,g,h=c._property;return e!==null&&(a=a[e],b=b[e]),f=a[h],g=b[h],d&&(f=d(f),g=d(g)),f>g?1:f<g?-1:0},updateDirection:function(){this.updateSortFn()},updateSortFn:function(){this.sort=this.createSortFunction(this.getSorterFn()||this.defaultSortFn)},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),"ASC","DESC"))}}),Ext.define("Ext.ComponentManager",{alternateClassName:"Ext.ComponentMgr",singleton:!0,constructor:function(){var a={};this.all={map:a,getArray:function(){var b=[],c;for(c in a)b.push(a[c]);return b}},this.map=a},register:function(a){var b=a.getId();this.map[b]&&Ext.Logger.warn("Registering a component with a id (`"+b+"`) which has already been used. Please ensure the existing component has been destroyed (`Ext.Component#destroy()`."),this.map[a.getId()]=a},unregister:function(a){delete this.map[a.getId()]},isRegistered:function(a){return this.map[a]!==undefined},get:function(a){return this.map[a]},create:function(a,b){if(a.isComponent)return a;if(Ext.isString(a))return Ext.createByAlias("widget."+a);var c=a.xtype||b;return Ext.createByAlias("widget."+c,a)},registerType:Ext.emptyFn}),Ext.define("Ext.event.Event",{alternateClassName:"Ext.EventObject",isStopped:!1,set:function(a,b){if(arguments.length===1&&typeof a!="string"){var c=a;for(a in c)c.hasOwnProperty(a)&&(this[a]=c[a])}else this[a]=c[a]},stopEvent:function(){return this.stopPropagation()},stopPropagation:function(){return this.isStopped=!0,this}}),Ext.define("Ext.mixin.Mixin",{onClassExtended:function(a,b){var c=b.mixinConfig,d,e,f;c&&(d=a.superclass.mixinConfig,d&&(c=b.mixinConfig=Ext.merge({},d,c)),b.mixinId=c.id,e=c.beforeHooks,f=c.hooks||c.afterHooks,(e||f)&&Ext.Function.interceptBefore(b,"onClassMixedIn",function(a){var b=this.prototype;e&&Ext.Object.each(e,function(c,d){a.override(d,function(){if(b[c].apply(this,arguments)!==!1)return this.callOverridden(arguments)})}),f&&Ext.Object.each(f,function(c,d){a.override(d,function(){var a=this.callOverridden(arguments);return b[c].apply(this,arguments),a})})}))}}),Ext.define("Ext.util.Filter",{isFilter:!0,config:{property:null,value:null,filterFn:Ext.emptyFn,anyMatch:!1,exactMatch:!1,caseSensitive:!1,root:null,id:undefined,scope:null},applyId:function(a){return a||(this.getProperty()&&(a=this.getProperty()+"-"+String(this.getValue())),a||(a=Ext.id(null,"ext-filter-"))),a},constructor:function(a){this.initConfig(a)},applyFilterFn:function(a){if(a===Ext.emptyFn){a=this.getInitialConfig("filter");if(a)return a;var b=this.getValue();return!this.getProperty()&&!b&&b!==0?(Ext.Logger.error("A Filter requires either a property and value, or a filterFn to be set"),Ext.emptyFn):this.createFilterFn()}return a},createFilterFn:function(){var a=this,b=a.createValueMatcher();return function(c){var d=a.getRoot(),e=a.getProperty();return d&&(c=c[d]),b.test(c[e])}},createValueMatcher:function(){var a=this,b=a.getValue(),c=a.getAnyMatch(),d=a.getExactMatch(),e=a.getCaseSensitive(),f=Ext.String.escapeRegex;if(b===null||b===undefined||!b.exec)b=String(b),c===!0?b=f(b):(b="^"+f(b),d===!0&&(b+="$")),b=new RegExp(b,e?"":"i");return b}}),Ext.define("Ext.data.SortTypes",{singleton:!0,stripTagsRE:/<\/?[^>]+>/gi,none:function(a){return a},asText:function(a){return String(a).replace(this.stripTagsRE,"")},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){return a?Ext.isDate(a)?a.getTime():Date.parse(String(a)):0},asFloat:function(a){return a=parseFloat(String(a).replace(/,/g,"")),isNaN(a)?0:a},asInt:function(a){return a=parseInt(String(a).replace(/,/g,""),10),isNaN(a)?0:a}}),Ext.define("Ext.util.Inflector",{singleton:!0,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^person$/,"people"],[/^man$/,"men"],[/^(child)$/,"$1ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/people$/i,"person"],[/s$/i,""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(a,b){this.singulars.unshift([a,b])},plural:function(a,b){this.plurals.unshift([a,b])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(a){return Ext.Array.indexOf(this.uncountable,a)!=-1},pluralize:function(a){if(this.isTransnumeral(a))return a;var b=this.plurals,c=b.length,d,e,f;for(f=0;f<c;f++){d=b[f],e=d[0];if(e==a||e.test&&e.test(a))return a.replace(e,d[1])}return a},singularize:function(a){if(this.isTransnumeral(a))return a;var b=this.singulars,c=b.length,d,e,f;for(f=0;f<c;f++){d=b[f],e=d[0];if(e==a||e.test&&e.test(a))return a.replace(e,d[1])}return a},classify:function(a){return Ext.String.capitalize(this.singularize(a))},ordinalize:function(a){var b=parseInt(a,10),c=b%10,d=b%100;if(11<=d&&d<=13)return a+"th";switch(c){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd";default:return a+"th"}}},function(){var a={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"},b;for(b in a)this.plural(b,a[b]),this.singular(a[b],b)}),Ext.define("Ext.data.Error",{config:{field:null,message:""},constructor:function(a){this.initConfig(a)}}),Ext.define("Ext.behavior.Behavior",{constructor:function(a){this.component=a,a.on("destroy","onComponentDestroy",this)},onComponentDestroy:Ext.emptyFn}),Ext.define("Ext.data.Request",{config:{action:null,params:null,method:"GET",url:null,operation:null,proxy:null,disableCaching:!1,headers:{},callbackKey:null,jsonP:null,jsonData:null,xmlData:null,withCredentials:null,callback:null,scope:null,timeout:3e4,records:null,directFn:null,args:null},constructor:function(a){this.initConfig(a)}}),Ext.define("Ext.util.Sortable",{isSortable:!0,defaultSortDirection:"ASC",requires:["Ext.util.Sorter"],initSortable:function(){var a=this,b=a.sorters;a.sorters=Ext.create("Ext.util.AbstractMixedCollection",!1,function(a){return a.id||a.property}),b&&a.sorters.addAll(a.decodeSorters(b))},sort:function(a,b,c,d){var e=this,f,g,h;return Ext.isArray(a)?(d=c,c=b,h=a):Ext.isObject(a)?(d=c,c=b,h=[a]):Ext.isString(a)&&(f=e.sorters.get(a),f?b===undefined?f.toggle():f.setDirection(b):(f={property:a,direction:b},h=[f])),h&&h.length&&(h=e.decodeSorters(h),Ext.isString(c)?c==="prepend"?(a=e.sorters.clone().items,e.sorters.clear(),e.sorters.addAll(h),e.sorters.addAll(a)):e.sorters.addAll(h):(e.sorters.clear(),e.sorters.addAll(h)),d!==!1&&e.onBeforeSort(h)),d!==!1&&(a=e.sorters.items,a.length&&(g=function(b,c){var d=a[0].sort(b,c),e=a.length,f;for(f=1;f<e;f++)d=d||a[f].sort.call(this,b,c);return d},e.doSort(g))),a},onBeforeSort:Ext.emptyFn,decodeSorters:function(a){Ext.isArray(a)||(a===undefined?a=[]:a=[a]);var b=a.length,c=Ext.util.Sorter,d=this.model?this.model.prototype.fields:null,e,f,g;for(g=0;g<b;g++)f=a[g],f instanceof c||(Ext.isString(f)&&(f={property:f}),Ext.applyIf(f,{root:this.sortRoot,direction:"ASC"}),f.fn&&(f.sorterFn=f.fn),typeof f=="function"&&(f={sorterFn:f}),d&&!f.transform&&(e=d.get(f.property),f.transform=e?e.sortType:undefined),a[g]=Ext.create("Ext.util.Sorter",f));return a},getSorters:function(){return this.sorters.items}}),Ext.define("Ext.XTemplateParser",{constructor:function(a){Ext.apply(this,a)},doTpl:Ext.emptyFn,parse:function(a){var b=this,c=a.length,d={elseif:"elif"},e=b.topRe,f=b.actionsRe,g,h,i,j,k,l,m,n,o,p,q;b.level=0,b.stack=h=[];for(g=0;g<c;g=p){e.lastIndex=g,j=e.exec(a);if(!j){b.doText(a.substring(g,c));break}o=j.index,p=e.lastIndex,g<o&&b.doText(a.substring(g,o));if(j[1])p=a.indexOf("%}",o+2),b.doEval(a.substring(o+2,p)),p+=2;else if(j[2])p=a.indexOf("]}",o+2),b.doExpr(a.substring(o+2,p)),p+=2;else if(j[3])b.doTag(j[3]);else if(j[4]){q=null;while((n=f.exec(j[4]))!==null)i=n[2]||n[3],i&&(i=Ext.String.htmlDecode(i),k=n[1],k=d[k]||k,q=q||{},l=q[k],typeof l=="string"?q[k]=[l,i]:l?q[k].push(i):q[k]=i);q?q["if"]?(b.doIf(q["if"],q),h.push({type:"if"})):q["switch"]?(b.doSwitch(q["switch"],q),h.push({type:"switch"})):q["case"]?b.doCase(q["case"],q):q.elif?b.doElseIf(q.elif,q):q["for"]?(++b.level,b.doFor(q["for"],q),h.push({type:"for",actions:q})):q.exec&&(b.doExec(q.exec,q),h.push({type:"exec",actions:q})):b.elseRe.test(j[4])?b.doElse():b.defaultRe.test(j[4])?b.doDefault():(b.doTpl(),h.push({type:"tpl"}))}else m=h.pop(),b.doEnd(m.type,m.actions),m.type=="for"&&--b.level}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]*)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|exec|switch|case|eval)\s*\=\s*(?:(?:["]([^"]*)["])|(?:[']([^']*)[']))\s*/g,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/}),Ext.define("Ext.util.Point",{radianToDegreeConstant:180/Math.PI,statics:{fromEvent:function(a){var b=a.changedTouches,c=b&&b.length>0?b[0]:a;return this.fromTouch(c)},fromTouch:function(a){return new this(a.pageX,a.pageY)},from:function(a){return a?a instanceof this?a:new this(a.x,a.y):new this(0,0)}},constructor:function(a,b){return typeof a=="undefined"&&(a=0),typeof b=="undefined"&&(b=0),this.x=a,this.y=b,this},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,arguments)},copyFrom:function(a){return this.x=a.x,this.y=a.y,this},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(a){return this.x===a.x&&this.y===a.y},isCloseTo:function(a,b){typeof b=="number"&&(b={x:b},b.y=b.x);var c=a.x,d=a.y,e=b.x,f=b.y;return this.x<=c+e&&this.x>=c-e&&this.y<=d+f&&this.y>=d-f},isWithin:function(){return this.isCloseTo.apply(this,arguments)},translate:function(a,b){return this.x+=a,this.y+=b,this},roundedEquals:function(a){return Math.round(this.x)===Math.round(a.x)&&Math.round(this.y)===Math.round(a.y)},getDistanceTo:function(a){var b=this.x-a.x,c=this.y-a.y;return Math.sqrt(b*b+c*c)},getAngleTo:function(a){var b=this.x-a.x,c=this.y-a.y;return Math.atan2(c,b)*this.radianToDegreeConstant}}),Ext.define("Ext.data.writer.Writer",{alias:"writer.base",alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],config:{writeAllFields:!0,nameProperty:"name"},constructor:function(a){this.initConfig(a)},write:function(a){var b=a.getOperation(),c=b.getRecords()||[],d=c.length,e=0,f=[];for(;e<d;e++)f.push(this.getRecordData(c[e]));return this.writeRecords(a,f)},writeDate:function(a,b){var c=a.dateFormat||"timestamp";switch(c){case"timestamp":return b.getTime()/1e3;case"time":return b.getTime();default:return Ext.Date.format(b,c)}},getRecordData:function(a){var b=a.phantom===!0,c=this.getWriteAllFields()||b,d=this.getNameProperty(),e=a.getFields(),f={},g,h,i,j,k,l;if(c)e.each(function(b){l=b.config,l.persist&&(h=l[d]||l.name,k=a.get(l.name),l.type.type=="date"&&(k=this.writeDate(l,k)),f[h]=k)},this);else{g=a.getChanges();for(j in g)g.hasOwnProperty(j)&&(i=e.get(j),l=i.config,l.persist&&(h=l[d]||i.name,k=g[j],l.type.type=="date"&&(k=this.writeDate(l,k)),f[h]=k));b||(f[a.getIdProperty()]=a.getId())}return f},onClassExtended:function(a,b,c){var d=this,e=d.prototype.config,f=b.config||{},g;for(g in e)g in b&&(f[g]=b[g],delete b[g],Ext.Logger.deprecate(g+" is deprecated as a property directly on the Writer prototype. "+"Please put it inside the config object."));b.config=f}}),Ext.define("Ext.fx.State",{isAnimatable:{"background-color":!0,"background-image":!0,"background-position":!0,"border-bottom-color":!0,"border-bottom-width":!0,"border-color":!0,"border-left-color":!0,"border-left-width":!0,"border-right-color":!0,"border-right-width":!0,"border-spacing":!0,"border-top-color":!0,"border-top-width":!0,"border-width":!0,bottom:!0,color:!0,crop:!0,"font-size":!0,"font-weight":!0,height:!0,left:!0,"letter-spacing":!0,"line-height":!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"max-height":!0,"max-width":!0,"min-height":!0,"min-width":!0,opacity:!0,"outline-color":!0,"outline-offset":!0,"outline-width":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,right:!0,"text-indent":!0,"text-shadow":!0,top:!0,"vertical-align":!0,visibility:!0,width:!0,"word-spacing":!0,"z-index":!0,zoom:!0,transform:!0},constructor:function(a){this.data={},this.set(a)},setConfig:function(a){return this.set(a),this},setRaw:function(a){return this.data=a,this},clear:function(){return this.setRaw({})},setTransform:function(a,b){var c=this.data,d=Ext.isArray(b),e=c.transform,f,g;e||(e=c.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0});if(typeof a=="string")switch(a){case"translate":if(d){f=b.length;if(f==0)break;e.translateX=b[0];if(f==1)break;e.translateY=b[1];if(f==2)break;e.translateZ=b[2]}else e.translateX=b;break;case"rotate":if(d){f=b.length;if(f==0)break;e.rotateX=b[0];if(f==1)break;e.rotateY=b[1];if(f==2)break;e.rotateZ=b[2]}else e.rotate=b;break;case"scale":if(d){f=b.length;if(f==0)break;e.scaleX=b[0];if(f==1)break;e.scaleY=b[1];if(f==2)break;e.scaleZ=b[2]}else e.scaleX=b,e.scaleY=b;break;case"skew":if(d){f=b.length;if(f==0)break;e.skewX=b[0];if(f==1)break;e.skewY=b[1]}else e.skewX=b;break;default:e[a]=b}else for(g in a)a.hasOwnProperty(g)&&(b=a[g],this.setTransform(g,b))},set:function(a,b){var c=this.data,d;if(typeof a!="string")for(d in a)b=a[d],d==="transform"?this.setTransform(b):c[d]=b;else a==="transform"?this.setTransform(b):c[a]=b;return this},unset:function(a){var b=this.data;return b.hasOwnProperty(a)&&delete b[a],this},getData:function(){return this.data}}),Ext.define("Ext.data.ResultSet",{config:{loaded:!0,count:null,total:null,success:!1,records:null,message:null},constructor:function(a){this.initConfig(a)},applyCount:function(a){return!a&&a!==0?this.getRecords().length:a},updateRecords:function(a){this.setCount(a.length)}}),Ext.define("Ext.fx.easing.Abstract",{config:{startTime:0,startValue:0},isEasing:!0,isEnded:!1,constructor:function(a){return this.initConfig(a),this},applyStartTime:function(a){return a||(a=Ext.Date.now()),a},updateStartTime:function(a){this.reset()},reset:function(){this.isEnded=!1},getValue:Ext.emptyFn}),Ext.define("Ext.fx.easing.Momentum",{extend:"Ext.fx.easing.Abstract",config:{acceleration:30,friction:0,startVelocity:0},alpha:0,updateFriction:function(a){var b=Math.log(1-a/10);this.theta=b,this.alpha=b/this.getAcceleration()},updateStartVelocity:function(a){this.velocity=a*this.getAcceleration()},updateAcceleration:function(a){this.velocity=this.getStartVelocity()*a,this.alpha=this.theta/a},getValue:function(){return this.getStartValue()-this.velocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var a=Ext.Date.now()-this.getStartTime();return Math.exp(a*this.alpha)},getVelocity:function(){return this.getFrictionFactor()*this.velocity}}),Ext.define("Ext.fx.easing.Bounce",{extend:"Ext.fx.easing.Abstract",config:{springTension:.3,acceleration:30,startVelocity:0},getValue:function(){var a=Ext.Date.now()-this.getStartTime(),b=a/this.getAcceleration(),c=b*Math.pow(Math.E,-this.getSpringTension()*b);return this.getStartValue()+this.getStartVelocity()*c}}),Ext.define("Ext.event.Dispatcher",{requires:["Ext.event.ListenerStack","Ext.event.Controller"],statics:{getInstance:function(){return this.instance||(this.instance=new this),this.instance},setInstance:function(a){return this.instance=a,this}},config:{publishers:{}},wildcard:"*",constructor:function(a){return this.listenerStacks={},this.activePublishers={},this.publishersCache={},this.noActivePublishers=[],this.controller=null,this.initConfig(a),this},getListenerStack:function(a,b,c,d){var e=this.listenerStacks,f=e[a],g;d=Boolean(d);if(!f){if(!d)return null;e[a]=f={}}f=f[b];if(!f){if(!d)return null;e[a][b]=f={}}g=f[c];if(!g){if(!d)return null;f[c]=g=new Ext.event.ListenerStack}return g},getController:function(a,b,c,d){var e=this.controller,f={targetType:a,target:b,eventName:c};return e||(this.controller=e=new Ext.event.Controller),e.isFiring&&(e=new Ext.event.Controller),e.setInfo(f),d&&e!==d&&e.connect(d),e},applyPublishers:function(a){var b,c;this.publishersCache={};for(b in a)a.hasOwnProperty(b)&&(c=a[b],this.registerPublisher(c));return a},registerPublisher:function(a){var b=this.activePublishers,c=a.getTargetType(),d=b[c];return d||(b[c]=d=[]),d.push(a),a.setDispatcher(this),this},getCachedActivePublishers:function(a,b){var c=this.publishersCache,d;return(d=c[a])&&(d=d[b])?d:null},cacheActivePublishers:function(a,b,c){var d=this.publishersCache;return d[a]||(d[a]={}),d[a][b]=c,c},getActivePublishers:function(a,b){var c,d,e,f,g;if(c=this.getCachedActivePublishers(a,b))return c;d=this.activePublishers[a];if(d){c=[];for(e=0,f=d.length;e<f;e++)g=d[e],g.handles(b)&&c.push(g)}else c=this.noActivePublishers;return this.cacheActivePublishers(a,b,c)},hasListener:function(a,b,c){var d=this.getListenerStack(a,b,c);return d?d.count()>0:!1},addListener:function(a,b,c){var d=this.getActivePublishers(a,c),e=d.length,f;if(e>0)for(f=0;f<e;f++)d[f].subscribe(b,c);return this.doAddListener.apply(this,arguments)},doAddListener:function(a,b,c,d,e,f,g){var h=this.getListenerStack(a,b,c,!0);return h.add(d,e,f,g)},removeListener:function(a,b,c){var d=this.getActivePublishers(a,c),e=d.length,f;if(e>0)for(f=0;f<e;f++)d[f].unsubscribe(b,c);return this.doRemoveListener.apply(this,arguments)},doRemoveListener:function(a,b,c,d,e,f){var g=this.getListenerStack(a,b,c);return g===null?!1:g.remove(d,e,f)},clearListeners:function(a,b,c){var d=this.listenerStacks,e=arguments.length,f,g,h,i;if(e===3)d[a]&&d[a][b]&&(this.removeListener(a,b,c),delete d[a][b][c]);else if(e===2){if(d[a]){f=d[a][b];if(f){for(c in f)if(f.hasOwnProperty(c)){g=this.getActivePublishers(a,c);for(h=0,e=g.length;h<e;h++)g[h].unsubscribe(b,c,!0)}delete d[a][b]}}}else if(e===1){g=this.activePublishers[a];for(h=0,e=g.length;h<e;h++)g[h].unsubscribeAll();delete d[a]}else{g=this.activePublishers;for(a in g)if(g.hasOwnProperty(a)){i=g[a];for(h=0,e=i.length;h<e;h++)i[h].unsubscribeAll()}delete this.listenerStacks,this.listenerStacks={}}return this},dispatchEvent:function(a,b,c){var d=this.getActivePublishers(a,c),e=d.length,f;if(e>0)for(f=0;f<e;f++)d[f].notify(b,c);return this.doDispatchEvent.apply(this,arguments)},doDispatchEvent:function(a,b,c,d,e,f){var g=this.getListenerStack(a,b,c),h=this.getWildcardListenerStacks(a,b,c),i;if(g===null||g.length==0){if(h.length==0&&!e)return}else h.push(g);return i=this.getController(a,b,c,f),i.setListenerStacks(h),i.fire(d,e),!i.isInterrupted()},getWildcardListenerStacks:function(a,b,c){var d=[],e=this.wildcard,f=c!==e,g=b!==e,h;return f&&(h=this.getListenerStack(a,b,e))&&d.push(h),g&&(h=this.getListenerStack(a,e,c))&&d.push(h),d}}),Ext.define("Ext.util.Grouper",{extend:"Ext.util.Sorter",isGrouper:!0,config:{groupFn:null,sortProperty:null,sorterFn:function(a,b){var c=this.getSortProperty(),d,e,f,g;return d=this.getGroupFn(),e=d.call(this,a),f=d.call(this,b),c?e!==f?this.defaultSortFn.call(this,a,b):0:e>f?1:e<f?-1:0}},defaultSortFn:function(a,b){var c=this,d=c._transform,e=c._root,f,g,h=c._sortProperty;return e!==null&&(a=a[e],b=b[e]),f=a[h],g=b[h],d&&(f=d(f),g=d(g)),f>g?1:f<g?-1:0},updateProperty:function(a){this.setGroupFn(this.standardGroupFn)},standardGroupFn:function(a){var b=this.getRoot(),c=this.getProperty(),d=a;return b&&(d=a[b]),d[c]},getGroupString:function(a){var b=this.getGroupFn().call(this,a);return typeof b!="undefined"?b.toString():""}}),Ext.define("Ext.event.Dom",{extend:"Ext.event.Event",constructor:function(a){var b=a.target,c;return b&&b.nodeType!==1&&(b=b.parentNode),c=a.changedTouches,c?(c=c[0],this.pageX=c.pageX,this.pageY=c.pageY):(this.pageX=a.pageX,this.pageY=a.pageY),this.browserEvent=this.event=a,this.target=this.delegatedTarget=b,this.type=a.type,this.timeStamp=this.time=a.timeStamp,typeof this.time!="number"&&(this.time=(new Date(this.time)).getTime()),this},stopEvent:function(){return this.preventDefault(),this.callParent()},preventDefault:function(){this.browserEvent.preventDefault()},getPageX:function(){return this.browserEvent.pageX},getPageY:function(){return this.browserEvent.pageY},getXY:function(){return this.xy||(this.xy=[this.getPageX(),this.getPageY()]),this.xy},getTarget:function(a,b,c){return arguments.length===0?this.delegatedTarget:a?Ext.fly(this.target).findParent(a,b,c):c?Ext.get(this.target):this.target},getTime:function(){return this.time},setDelegatedTarget:function(a){this.delegatedTarget=a},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn}}),Ext.define("Ext.event.publisher.Dom",{extend:"Ext.event.publisher.Publisher",requires:["Ext.env.Browser","Ext.Element","Ext.event.Dom"],targetType:"element",idOrClassSelectorRegex:/^([#|\.])([\w\-]+)$/,handledEvents:["click","focus","blur","mousemove","mousedown","mouseup","mouseover","mouseout","keyup","keydown","keypress","submit","transitionend","animationstart","animationend"],classNameSplitRegex:/\s+/,SELECTOR_ALL:"*",constructor:function(){var a=this.getHandledEvents(),b={},c,d,e,f;this.doBubbleEventsMap={click:!0,submit:!0,mousedown:!0,mousemove:!0,mouseup:!0,mouseover:!0,mouseout:!0,transitionend:!0},this.onEvent=Ext.Function.bind(this.onEvent,this);for(c=0,d=a.length;c<d;c++)e=a[c],f=this.getVendorEventName(e),b[f]=e,this.attachListener(f);return this.eventNameMap=b,this.callParent()},getSubscribers:function(a){var b=this.subscribers,c=b[a];return c||(c=b[a]={id:{$length:0},className:{$length:0},selector:[],all:0,$length:0}),c},getVendorEventName:function(a){return a==="transitionend"?a=Ext.browser.getVendorProperyName("transitionEnd"):a==="animationstart"?a=Ext.browser.getVendorProperyName("animationStart"):a==="animationend"&&(a=Ext.browser.getVendorProperyName("animationEnd")),a},attachListener:function(a){return document.addEventListener(a,this.onEvent,!this.doesEventBubble(a)),this},removeListener:function(a){return document.removeEventListener(a,this.onEvent,!this.doesEventBubble(a)),this},doesEventBubble:function(a){return!!this.doBubbleEventsMap[a]},subscribe:function(a,b){if(!this.handles(b))return!1;var c=a.match(this.idOrClassSelectorRegex),d=this.getSubscribers(b),e=d.id,f=d.className,g=d.selector,h,i;if(c!==null){h=c[1],i=c[2];if(h==="#"){if(e.hasOwnProperty(i))return e[i]++,!0;e[i]=1,e.$length++}else{if(f.hasOwnProperty(i))return f[i]++,!0;f[i]=1,f.$length++}}else if(a===this.SELECTOR_ALL)d.all++;else{if(g.hasOwnProperty(a))return g[a]++,!0;g[a]=1,g.push(a)}return d.$length++,!0},unsubscribe:function(a,b,c){if(!this.handles(b))return!1;var d=a.match(this.idOrClassSelectorRegex),e=this.getSubscribers(b),f=e.id,g=e.className,h=e.selector,i,j;c=Boolean(c);if(d!==null){i=d[1],j=d[2];if(i==="#"){if(!f.hasOwnProperty(j)||!c&&--f[j]>0)return!0;delete f[j],f.$length--}else{if(!g.hasOwnProperty(j)||!c&&--g[j]>0)return!0;delete g[j],g.$length--}}else if(a===this.SELECTOR_ALL)c?e.all=0:e.all--;else{if(!h.hasOwnProperty(a)||!c&&--h[a]>0)return!0;delete h[a],Ext.Array.remove(h,a)}return e.$length--,!0},getElementTarget:function(a){if(a.nodeType!==1){a=a.parentNode;if(!a||a.nodeType!==1)return null}return a},getBubblingTargets:function(a){var b=[];if(!a)return b;do b[b.length]=a,a=a.parentNode;while(a&&a.nodeType===1);return b},dispatch:function(a,b,c){c.push(c[0].target),this.callParent(arguments)},publish:function(a,b,c){var d=this.getSubscribers(a),e;if(d.$length===0||!this.doPublish(d,a,b,c))e=this.getSubscribers("*"),e.$length>0&&this.doPublish(e,a,b,c);return this},doPublish:function(a,b,c,d){var e=a.id,f=a.className,g=a.selector,h=e.$length>0,i=f.$length>0,j=g.length>0,k=a.all>0,l={},m=[d],n=!1,o=this.classNameSplitRegex,p,q,r,s,t,u,v,w,x;for(p=0,q=c.length;p<q;p++){t=c[p],d.setDelegatedTarget(t),h&&(u=t.id,u&&e.hasOwnProperty(u)&&(n=!0,this.dispatch("#"+u,b,m)));if(i){v=t.className;if(v){w=v.split(o);for(r=0,s=w.length;r<s;r++)v=w[r],l[v]||(l[v]=!0,f.hasOwnProperty(v)&&(n=!0,this.dispatch("."+v,b,m)))}}if(d.isStopped)return n}if(k&&!n){d.setDelegatedTarget(d.browserEvent.target),n=!0,this.dispatch(this.SELECTOR_ALL,b,m);if(d.isStopped)return n}if(j)for(r=0,s=c.length;r<s;r++){t=c[r];for(p=0,q=g.length;p<q;p++){x=g[p],this.matchesSelector(t,x)&&(d.setDelegatedTarget(t),n=!0,this.dispatch(x,b,m));if(d.isStopped)return n}}return n},matchesSelector:function(a,b){return"webkitMatchesSelector"in a?a.webkitMatchesSelector(b):Ext.DomQuery.is(a,b)},onEvent:function(a){var b=this.eventNameMap[a.type];if(!b||this.getSubscribersCount(b)===0)return;var c=this.getElementTarget(a.target),d;if(!c)return;this.doesEventBubble(b)?d=this.getBubblingTargets(c):d=[c],this.publish(b,d,new Ext.event.Dom(a))},hasSubscriber:function(a,b){if(!this.handles(b))return!1;var c=a.match(this.idOrClassSelectorRegex),d=this.getSubscribers(b),e,f;return c!==null?(e=c[1],f=c[2],e==="#"?d.id.hasOwnProperty(f):d.className.hasOwnProperty(f)):d.selector.hasOwnProperty(a)&&Ext.Array.indexOf(d.selector,a)!==-1},getSubscribersCount:function(a){return this.handles(a)?this.getSubscribers(a).$length+this.getSubscribers("*").$length:0}}),Ext.define("Ext.mixin.Observable",{requires:["Ext.event.Dispatcher"],extend:"Ext.mixin.Mixin",mixins:["Ext.mixin.Identifiable"],mixinConfig:{id:"observable",hooks:{destroy:"destroy"}},alternateClassName:"Ext.util.Observable",isObservable:!0,observableType:"observable",validIdRegex:/^([\w\-]+)$/,observableIdPrefix:"#",listenerOptionsRegex:/^(?:delegate|single|delay|buffer|args|prepend)$/,config:{listeners:null,bubbleEvents:null},constructor:function(a){this.initConfig(a)},applyListeners:function(a){a&&this.addListener(a)},applyBubbleEvents:function(a){a&&this.enableBubble(a)},getOptimizedObservableId:function(){return this.observableId},getObservableId:function(){if(!this.observableId){var a=this.getUniqueId();a.match(this.validIdRegex)||Ext.Logger.error("Invalid unique id of '"+a+"' for this object",this),this.observableId=this.observableIdPrefix+a,this.getObservableId=this.getOptimizedObservableId}return this.observableId},getOptimizedEventDispatcher:function(){return this.eventDispatcher},getEventDispatcher:function(){return this.eventDispatcher||(this.eventDispatcher=Ext.event.Dispatcher.getInstance(),this.getEventDispatcher=this.getOptimizedEventDispatcher,this.getListeners(),this.getBubbleEvents()),this.eventDispatcher},getManagedListeners:function(a,b){var c=a.getUniqueId(),d=this.managedListeners;return d||(this.managedListeners=d={}),d[c]||(d[c]={},a.doAddListener("destroy","clearManagedListeners",this,{single:!0,args:[a]})),d[c][b]||(d[c][b]=[]),d[c][b]},getUsedSelectors:function(){var a=this.usedSelectors;return a||(a=this.usedSelectors=[],a.$map={}),a},fireEvent:function(a){var b=Array.prototype.slice.call(arguments,1);return this.doFireEvent(a,b)},fireAction:function(a,b,c,d,e,f){var g=typeof c,h;return b===undefined&&(b=[]),g!="undefined"&&(h={fn:c,isLateBinding:g=="string",scope:d||this,options:e||{},order:f}),this.doFireEvent(a,b,h)},doFireEvent:function(a,b,c,d){if(this.eventFiringSuspended)return;var e=this.getObservableId(),f=this.getEventDispatcher();return f.dispatchEvent(this.observableType,e,a,b,c,d)},doAddListener:function(a,b,c,d,e){var f=c&&c!==this&&c.isIdentifiable,g=this.getUsedSelectors(),h=g.$map,i=this.getObservableId(),j,k,l;return d||(d={}),c||(c=this),d.delegate&&(l=d.delegate,i+=" "+l),i in h||(h[i]=!0,g.push(i)),j=this.addDispatcherListener(i,a,b,c,d,e),j&&f&&(k=this.getManagedListeners(c,a),k.push({delegate:l,scope:c,fn:b,order:e})),j},addDispatcherListener:function(a,b,c,d,e,f){return this.getEventDispatcher().addListener(this.observableType,a,b,c,d,e,f)},doRemoveListener:function(a,b,c,d,e){var f=c&&c!==this&&c.isIdentifiable,g=this.getObservableId(),h,i,j,k,l,m;d&&d.delegate&&(m=d.delegate,g+=" "+m),c||(c=this),h=this.removeDispatcherListener(g,a,b,c,e);if(h&&f){i=this.getManagedListeners(c,a);for(j=0,k=i.length;j<k;j++){l=i[j];if(l.fn===b&&l.scope===c&&l.delegate===m&&l.order===e){i.splice(j,1);break}}}return h},removeDispatcherListener:function(a,b,c,d,e){return this.getEventDispatcher().removeListener(this.observableType,a,b,c,d,e)},clearManagedListeners:function(a){var b=this.managedListeners,c,d,e,f,g,h,i,j;if(!b)return this;if(a){typeof a!="string"?c=a.getUniqueId():c=a,d=b[c];for(f in d)if(d.hasOwnProperty(f)){e=d[f];for(g=0,h=e.length;g<h;g++)i=e[g],j={},i.delegate&&(j.delegate=i.delegate),this.doRemoveListener(f,i.fn,i.scope,j,i.order)&&(g--,h--)}return delete b[c],this}for(c in b)b.hasOwnProperty(c)&&this.clearManagedListeners(c)},changeListener:function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p;if(typeof c!="undefined"){if(typeof b!="string"){for(m=0,n=b.length;m<n;m++)k=b[m],a.call(this,k,c,d,e,f);return this}a.call(this,b,c,d,e,f)}else if(Ext.isArray(b)){h=b;for(m=0,n=h.length;m<n;m++)o=h[m],a.call(this,o.event,o.fn,o.scope,o,o.order)}else{i=this.listenerOptionsRegex,e=b,g=[],h=[],j={};for(k in e){l=e[k];if(k==="scope"){d=l;continue}if(k==="order"){f=l;continue}if(!i.test(k)){p=typeof l;if(p!="string"&&p!="function"){a.call(this,k,l.fn,l.scope||d,l,l.order||f);continue}g.push(k),h.push(l)}else j[k]=l}for(m=0,n=g.length;m<n;m++)a.call(this,g[m],h[m],d,j,f)}},addListener:function(a,b,c,d,e){return this.changeListener(this.doAddListener,a,b,c,d,e)},addBeforeListener:function(a,b,c,d){return this.addListener(a,b,c,d,"before")},addAfterListener:function(a,b,c,d){return this.addListener(a,b,c,d,"after")},removeListener:function(a,b,c,d,e){return this.changeListener(this.doRemoveListener,a,b,c,d,e)},removeBeforeListener:function(a,b,c,d){return this.removeListener(a,b,c,d,"before")},removeAfterListener:function(a,b,c,d){return this.removeListener(a,b,c,d,"after")},clearListeners:function(){var a=this.getUsedSelectors(),b=this.getEventDispatcher(),c,d,e;for(c=0,d=a.length;c<d;c++)e=a[c],b.clearListeners(this.observableType,e)},hasListener:function(a){return this.getEventDispatcher().hasListener(this.observableType,this.getObservableId(),a)},suspendEvents:function(a){this.eventFiringSuspended=!0},resumeEvents:function(){this.eventFiringSuspended=!1},relayEvents:function(a,b,c){var d,e,f,g;typeof c=="undefined"&&(c=""),typeof b=="string"&&(b=[b]);if(Ext.isArray(b))for(d=0,e=b.length;d<e;d++)f=b[d],g=c+f,a.addListener(f,this.createEventRelayer(g),this);else for(f in b)b.hasOwnProperty(f)&&(g=c+b[f],a.addListener(f,this.createEventRelayer(g),this));return this},relayEvent:function(a,b,c,d,e){var f=typeof b,g=a[a.length-1],h=g.getInfo().eventName,i;return a=Array.prototype.slice.call(a,0,-2),a[0]=this,f!="undefined"&&(i={fn:b,scope:c||this,options:d||{},order:e,isLateBinding:f=="string"}),this.doFireEvent(h,a,i,g)},createEventRelayer:function(a){return function(){return this.doFireEvent(a,Array.prototype.slice.call(arguments,0,-2))}},enableBubble:function(a){var b=this.isBubblingEnabled,c,d,e;b||(b=this.isBubblingEnabled={}),typeof a=="string"&&(a=Ext.Array.clone(arguments));for(c=0,d=a.length;c<d;c++)e=a[c],b[e]||(b[e]=!0,this.addListener(e,this.createEventBubbler(e),this))},createEventBubbler:function(a){return function b(){var c="getBubbleTarget"in this?this.getBubbleTarget():null;c&&c!==this&&c.isObservable&&c.fireAction(a,Array.prototype.slice.call(arguments,0,-2),b,c,null,"after")}},getBubbleTarget:function(){return!1},destroy:function(){this.observableId&&(this.fireEvent("destroy",this),this.clearListeners(),this.clearManagedListeners())},addEvents:Ext.emptyFn},function(){this.createAlias({on:"addListener",un:"removeListener",onBefore:"addBeforeListener",onAfter:"addAfterListener",unBefore:"removeBeforeListener",unAfter:"removeAfterListener"}),Ext.deprecateClassMethod(this,"addEvents",function(){},"addEvents() is deprecated. It's no longer needed to add events before firing"),Ext.deprecateClassMethod(this,"addManagedListener",function(a,b,c,d,e){return a.addListener(b,c,d,e)},"addManagedListener() / mon() is deprecated, simply use addListener() / on(). All listeners are now automatically managed where necessary."),Ext.deprecateClassMethod(this,"removeManagedListener",function(a,b,c,d){return a.removeListener(b,c,d)},"removeManagedListener() / mun() is deprecated, simply use removeListener() / un(). All listeners are now automatically managed where necessary."),this.createAlias({mon:"addManagedListener",mun:"removeManagedListener"})}),Ext.define("Ext.Evented",{alternateClassName:"Ext.EventedBase",mixins:["Ext.mixin.Observable"],statics:{generateSetter:function(a){var b=a.internal,c=a.apply,d=a.changeEvent,e=a.doSet;return function(f){var g=this.initialized,h=this[b],i=this[c];if(i){f=i.call(this,f,h);if(typeof f=="undefined")return this}return f!==h&&(g?this.fireAction(d,[this,f,h],this.doSet,this,{nameMap:a}):(this[b]=f,this[e].call(this,f,h))),this}}},initialized:!1,constructor:function(a){this.initialConfig=a,this.initialize()},initialize:function(){this.initConfig(this.initialConfig),this.initialized=!0},doSet:function(a,b,c,d){var e=d.nameMap;a[e.internal]=b,a[e.doSet].call(this,b,c)},onClassExtended:function(a,b){if(!b.hasOwnProperty("eventedConfig"))return;var c=Ext.Class,d=b.config,e=b.eventedConfig,f,g;b.config=d?Ext.applyIf(d,e):e;for(f in e)e.hasOwnProperty(f)&&(g=c.getConfigNameMap(f),b[g.set]=this.generateSetter(g))}}),Ext.define("Ext.mixin.Sortable",{extend:"Ext.mixin.Mixin",requires:["Ext.util.Sorter"],mixinConfig:{id:"sortable"},config:{sorters:null,defaultSortDirection:"ASC",sortRoot:null},dirtySortFn:!1,sortFn:null,sorted:!1,applySorters:function(a,b){return b||(b=this.createSortersCollection()),b.clear(),this.sorted=!1,a&&this.addSorters(a),b},createSortersCollection:function(){return this._sorters=Ext.create("Ext.util.Collection",function(a){return a.getId()}),this._sorters},addSorter:function(a,b){this.addSorters([a],b)},addSorters:function(a,b){var c=this.getSorters();return this.insertSorters(c?c.length:0,a,b)},insertSorter:function(a,b,c){return this.insertSorters(a,[b],c)},insertSorters:function(a,b,c){Ext.isArray(b)||(b=[b]);var d=b.length,e=c||this.getDefaultSortDirection(),f=this.getSortRoot(),g=this.getSorters(),h=[],i,j,k,l;g||(g=this.createSortersCollection());for(j=0;j<d;j++){k=b[j],i={direction:e,root:f};if(typeof k=="string"){l=g.get(k);if(!!l){c?l.setDirection(c):l.toggle();continue}i.property=k}else if(Ext.isFunction(k))i.sorterFn=k;else if(Ext.isObject(k)){if(!!k.isSorter){h.push(k),k.getRoot()||k.setRoot(f);continue}k.fn&&(k.sorterFn=k.fn,delete k.fn),i=Ext.apply(i,k)}else Ext.Logger.warn("Invalid sorter specified:",k);k=Ext.create("Ext.util.Sorter",i),h.push(k)}for(j=0,d=h.length;j<d;j++)g.insert(a+j,h[j]);return this.dirtySortFn=!0,g.length&&(this.sorted=!0),g},removeSorter:function(a){return this.removeSorters([a])},removeSorters:function(a){Ext.isArray(a)||(a=[a]);var b=a.length,c=this.getSorters(),d,e;for(d=0;d<b;d++)e=a[d],typeof e=="string"?c.removeAtKey(e):typeof e=="function"?c.each(function(a){a.getSorterFn()===e&&c.remove(a)}):e.isSorter&&c.remove(e);c.length||(this.sorted=!1)},updateSortFn:function(){var a=this.getSorters().items;return this.sortFn=function(b,c){var d=a.length,e,f;for(f=0;f<d;f++){e=a[f].sort.call(this,b,c);if(e!==0)break}return e},this.dirtySortFn=!1,this.sortFn},getSortFn:function(){return this.dirtySortFn?this.updateSortFn():this.sortFn},sort:function(a){return Ext.Array.sort(a,this.getSortFn()),a},findInsertionIndex:function(a,b,c){var d=0,e=a.length-1,f=c||this.getSortFn(),g,h;while(d<=e)g=d+e>>1,h=f(b,a[g]),h>=0?d=g+1:h<0&&(e=g-1);return d}}),Ext.define("Ext.mixin.Filterable",{extend:"Ext.mixin.Mixin",requires:["Ext.util.Filter"],mixinConfig:{id:"filterable"},config:{filters:null,filterRoot:null},dirtyFilterFn:!1,filterFn:null,filtered:!1,applyFilters:function(a,b){return b||(b=this.createFiltersCollection()),b.clear(),this.filtered=!1,this.dirtyFilterFn=!0,a&&this.addFilters(a),b},createFiltersCollection:function(){return this._filters=Ext.create("Ext.util.Collection",function(a){return a.getId()}),this._filters},addFilter:function(a){this.addFilters([a])},addFilters:function(a){var b=this.getFilters();return this.insertFilters(b?b.length:0,a)},insertFilter:function(a,b){return this.insertFilters(a,[b])},insertFilters:function(a,b){Ext.isArray(b)||(b=[b]);var c=b.length,d=this.getFilterRoot(),e=this.getFilters(),f=[],g,h,i;e||(e=this.createFiltersCollection());for(h=0;h<c;h++){i=b[h],g={root:d};if(Ext.isFunction(i))g.filterFn=i;else if(Ext.isObject(i)){if(!!i.isFilter){f.push(i),i.getRoot()||i.setRoot(d);continue}i.fn&&(i.filterFn=i.fn,delete i.fn),g=Ext.apply(g,i)}else Ext.Logger.warn("Invalid filter specified:",i);i=Ext.create("Ext.util.Filter",g),f.push(i)}for(h=0,c=f.length;h<c;h++)e.insert(a+h,f[h]);return this.dirtyFilterFn=!0,e.length&&(this.filtered=!0),e},removeFilters:function(a){Ext.isArray(a)||(a=[a]);var b=a.length,c=this.getFilters(),d,e;for(d=0;d<b;d++)e=a[d],typeof e=="string"?c.each(function(a){a.getProperty()===e&&c.remove(a)}):typeof e=="function"?c.each(function(a){a.getFilterFn()===e&&c.remove(a)}):e.isFilter?c.remove(e):e.property!==undefined&&e.value!==undefined&&c.each(function(a){a.getProperty()===e.property&&a.getValue()===e.value&&c.remove(a)});c.length||(this.filtered=!1)},updateFilterFn:function(){var a=this.getFilters().items;return this.filterFn=function(b){var c=!0,d=a.length,e;for(e=0;e<d;e++){var f=a[e],g=f.getFilterFn(),h=f.getScope()||this;c=c&&g.call(h,b)}return c},this.dirtyFilterFn=!1,this.filterFn},filter:function(a){return this.getFilters().length?Ext.Array.filter(a,this.getFilterFn()):a},isFiltered:function(a){return this.getFilters().length?!this.getFilterFn()(a):!1},getFilterFn:function(){return this.dirtyFilterFn?this.updateFilterFn():this.filterFn}}),Ext.define("Ext.util.Collection",{config:{autoFilter:!0,autoSort:!0},mixins:{sortable:"Ext.mixin.Sortable",filterable:"Ext.mixin.Filterable"},constructor:function(a,b){var c=this;c.all=[],c.items=[],c.keys=[],c.indices={},c.map={},c.length=0,a&&(c.getKey=a),this.initConfig(b)},updateAutoSort:function(a,b){b===!1&&a&&this.items.length&&this.sort()},updateAutoFilter:function(a,b){b===!1&&a&&this.all.length&&this.runFilters()},insertSorters:function(){return this.mixins.sortable.insertSorters.apply(this,arguments),this.getAutoSort()&&this.items.length&&this.sort(),this},removeSorters:function(a){return this.mixins.sortable.removeSorters.call(this,a),this.sorted&&this.getAutoSort()&&this.items.length&&this.sort(),this},applyFilters:function(a){var b=this.mixins.filterable.applyFilters.call(this,a);return!a&&this.all.length&&this.getAutoFilter()&&this.filter(),b},addFilters:function(a){return this.mixins.filterable.addFilters.call(this,a),this.items.length&&this.getAutoFilter()&&this.runFilters(),this},removeFilters:function(a){return this.mixins.filterable.removeFilters.call(this,a),this.filtered&&this.all.length&&this.getAutoFilter()&&this.filter(),this},filter:function(a,b,c,d){if(a)return Ext.isString(a)?(this.addFilters({property:a,value:b,anyMatch:c,caseSensitive:d}),this.items):(this.addFilters(a),this.items);this.items=this.mixins.filterable.filter.call(this,this.all.slice()),this.updateAfterFilter(),this.sorted&&this.getAutoSort()&&this.sort()},runFilters:function(){this.items=this.mixins.filterable.filter.call(this,this.items),this.updateAfterFilter()},updateAfterFilter:function(){var a=this.items,b=this.keys,c=this.indices={},d=a.length,e,f,g;b.length=0;for(e=0;e<d;e++)f=a[e],g=this.getKey(f),c[g]=e,b[e]=g;this.length=a.length,this.dirtyIndices=!1},sort:function(a,b){var c=this.items,d=this.keys,e=this.indices,f=c.length,g,h,i;if(a)return this.addSorters(a,b),this.items;for(g=0;g<f;g++)c[g]._current_key=d[g];this.handleSort(c);for(g=0;g<f;g++)h=c[g],i=h._current_key,d[g]=i,e[i]=g,delete h._current_key;this.dirtyIndices=!0},handleSort:function(a){this.mixins.sortable.sort.call(this,a)},add:function(a,b){var c=this,d=this.filtered,e=this.sorted,f=this.all,g=this.items,h=this.keys,i=this.indices,j=this.mixins.filterable,k=g.length,l=k;arguments.length==1&&(b=a,a=c.getKey(b));if(typeof a!="undefined"&&a!==null){if(typeof c.map[a]!="undefined")return c.replace(a,b);c.map[a]=b}return f.push(b),d&&this.getAutoFilter()&&j.isFiltered.call(c,b)?null:(c.length++,e&&this.getAutoSort()&&(l=this.findInsertionIndex(g,b)),l!==k?(this.dirtyIndices=!0,Ext.Array.splice(h,l,0,a),Ext.Array.splice(g,l,0,b)):(i[a]=k,h.push(a),g.push(b)),b)},getKey:function(a){return a.id},replace:function(a,b){var c=this,d=c.sorted,e=c.filtered,f=c.mixins.filterable,g=c.items,h=c.keys,i=c.all,j=c.map,k=null,l=g.length,m,n,o;arguments.length==1?(b=a,a=o=c.getKey(b)):o=c.getKey(b),m=j[a];if(typeof a=="undefined"||a===null||typeof m=="undefined")return c.add(o,b);c.map[o]=b,o!==a&&delete c.map[a];if(d&&c.getAutoSort()){Ext.Array.remove(g,m),Ext.Array.remove(h,a),Ext.Array.remove(i,m),i.push(b),c.dirtyIndices=!0;if(e&&c.getAutoFilter()){if(f.isFiltered.call(c,b))return l!==g.length&&c.length--,null;l===g.length&&(c.length++,k=b)}n=this.findInsertionIndex(g,b),Ext.Array.splice(h,n,0,o),Ext.Array.splice(g,n,0,b)}else{if(e){if(c.getAutoFilter()&&f.isFiltered.call(c,b))return g.indexOf(m)!==-1&&(Ext.Array.remove(g,m),Ext.Array.remove(h,a),c.length--,c.dirtyIndices=!0),null;if(g.indexOf(m)===-1)return g.push(b),h.push(o),c.indices[o]=c.length,c.length++,b}n=c.items.indexOf(m),h[n]=o,g[n]=b,this.dirtyIndices=!0}return k},addAll:function(a){var b=this,c=b.filtered,d=b.sorted,e=b.all,f=b.items,g=b.keys,h=b.map,i=b.getAutoFilter(),j=b.getAutoSort(),k=[],l=[],m=b.mixins.filterable,n=[],o,p,q,r;if(Ext.isObject(a))for(p in a)a.hasOwnProperty(p)&&(l.push(f[p]),k.push(p));else{l=a,o=a.length;for(q=0;q<o;q++)k.push(b.getKey(a[q]))}for(q=0;q<o;q++){p=k[q],r=l[q];if(typeof p!="undefined"&&p!==null){if(typeof h[p]!="undefined"){b.replace(p,r);continue}h[p]=r}e.push(r);if(c&&i&&m.isFiltered.call(b,r))continue;b.length++,g.push(p),f.push(r),n.push(r)}return n.length?(b.dirtyIndices=!0,d&&j&&b.sort(),n):null},each:function(a,b){var c=this.items.slice(),d=0,e=c.length,f;for(;d<e;d++){f=c[d];if(a.call(b||f,f,d,e)===!1)break}},eachKey:function(a,b){var c=this.keys,d=this.items,e=c.length,f;for(f=0;f<e;f++)a.call(b||window,c[f],d[f],f,e)},findBy:function(a,b){var c=this.keys,d=this.items,e=0,f=d.length;for(;e<f;e++)if(a.call(b||window,d[e],c[e]))return d[e];return null},filterBy:function(a,b){var c=this,d=new this.self,e=c.keys,f=c.all,g=f.length,h;d.getKey=c.getKey;for(h=0;h<g;h++)a.call(b||c,f[h],e[h])&&d.add(e[h],f[h]);return d},insert:function(a,b,c){var d=this,e=this.sorted,f=this.filtered;return arguments.length==2&&(c=b,b=d.getKey(c)),d.containsKey(b)&&d.removeAtKey(b),a>=d.length||e&&d.getAutoSort()?d.add(b,c):(this.all.push(c),typeof b!="undefined"&&b!==null&&(d.map[b]=c),f&&this.getAutoFilter()&&this.mixins.filterable.isFiltered.call(d,c)?null:(d.length++,Ext.Array.splice(d.items,a,0,c),Ext.Array.splice(d.keys,a,0,b),d.dirtyIndices=!0,c))},insertAll:function(a,b){if(a>=this.items.length||this.sorted&&this.getAutoSort())return this.addAll(b);var c=this,d=this.filtered,e=this.sorted,f=this.all,g=this.items,h=this.keys,i=this.map,j=this.getAutoFilter(),k=this.getAutoSort(),l=[],m=[],n=[],o=this.mixins.filterable,p=!1,q,r,s,t;e&&this.getAutoSort()&&Ext.Logger.error("Inserting a collection of items into a sorted Collection is invalid. Please just add these items or remove the sorters.");if(Ext.isObject(b))for(r in b)b.hasOwnProperty(r)&&(m.push(g[r]),l.push(r));else{m=b,q=b.length;for(s=0;s<q;s++)l.push(c.getKey(b[s]))}for(s=0;s<q;s++){r=l[s],t=m[s],typeof r!="undefined"&&r!==null&&(c.containsKey(r)&&c.removeAtKey(r),i[r]=t),f.push(t);if(d&&j&&o.isFiltered.call(c,t))continue;c.length++,Ext.Array.splice(g,a+s,0,t),Ext.Array.splice(h,a+s,0,r),p=!0,n.push(t)}return p?(this.dirtyIndices=!0,e&&k&&this.sort(),n):null},remove:function(a){var b=this.items.indexOf(a);return b===-1?(Ext.Array.remove(this.all,a),a):this.removeAt(this.items.indexOf(a))},removeAll:function(a){if(a){var b=a.length,c;for(c=0;c<b;c++)this.remove(a[c])}return this},removeAt:function(a){var b=this,c=b.items,d=b.keys,e=this.all,f,g;return a<b.length&&a>=0?(f=c[a],g=d[a],typeof g!="undefined"&&delete b.map[g],Ext.Array.erase(c,a,1),Ext.Array.erase(d,a,1),Ext.Array.remove(e,f),b.length--,this.dirtyIndices=!0,f):!1},removeAtKey:function(a){return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},indexOf:function(a){this.dirtyIndices&&this.updateIndices();var b=this.indices[this.getKey(a)];return b===undefined?-1:b},indexOfKey:function(a){this.dirtyIndices&&this.updateIndices();var b=this.indices[a];return b===undefined?-1:b},updateIndices:function(){var a=this.items,b=a.length,c=this.indices={},d,e,f;for(d=0;d<b;d++)e=a[d],f=this.getKey(e),c[f]=d;this.dirtyIndices=!1},get:function(a){var b=this,c=b.map[a],d;return c!==undefined?d=c:typeof a=="number"&&(d=b.items[a]),typeof d!="function"||b.getAllowFunctions()?d:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(a){var b=this.getKey(a);return b?this.containsKey(b):Ext.Array.contains(this.items,a)},containsKey:function(a){return typeof this.map[a]!="undefined"},clear:function(){var a=this;a.length=0,a.items.length=0,a.keys.length=0,a.all.length=0,a.map={}},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},getRange:function(a,b){var c=this,d=c.items,e=[],f;if(d.length<1)return e;a=a||0,b=Math.min(typeof b=="undefined"?c.length-1:b,c.length-1);if(a<=b)for(f=a;f<=b;f++)e[e.length]=d[f];else for(f=a;f>=b;f--)e[e.length]=d[f];return e},findIndexBy:function(a,b,c){var d=this,e=d.keys,f=d.items,g=c||0,h=f.length;for(;g<h;g++)if(a.call(b||d,f[g],e[g]))return g;return-1},clone:function(){var a=this,b=new this.self,c=a.keys,d=a.items,e=0,f=d.length;for(;e<f;e++)b.add(c[e],d[e]);return b.getKey=a.getKey,b}}),Ext.define("Ext.data.StoreManager",{extend:"Ext.util.Collection",alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:!0,uses:["Ext.data.ArrayStore"],register:function(){for(var a=0,b;b=arguments[a];a++)this.add(b)},unregister:function(){for(var a=0,b;b=arguments[a];a++)this.remove(this.lookup(b))},lookup:function(a){if(Ext.isArray(a)){var b=["field1"],c=!Ext.isArray(a[0]),d=a,e,f;if(c){d=[];for(e=0,f=a.length;e<f;++e)d.push([a[e]])}else for(e=2,f=a[0].length;e<=f;++e)b.push("field"+e);return Ext.create("Ext.data.ArrayStore",{data:d,fields:b,autoDestroy:!0,autoCreated:!0,expanded:c})}return Ext.isString(a)?this.get(a):a instanceof Ext.data.Store?a:Ext.factory(a,Ext.data.Store,null,"store")},getKey:function(a){return a.getStoreId()}},function(){Ext.regStore=function(a,b){var c;return Ext.isObject(a)?b=a:b instanceof Ext.data.Store?b.setStoreId(a):b.storeId=a,b instanceof Ext.data.Store?c=b:c=Ext.create("Ext.data.Store",b),Ext.data.StoreManager.register(c)},Ext.getStore=function(a){return Ext.data.StoreManager.lookup(a)}}),Ext.define("Ext.data.Errors",{extend:"Ext.util.Collection",requires:"Ext.data.Error",isValid:function(){return this.length===0},getByField:function(a){var b=[],c,d;for(d=0;d<this.length;d++)c=this.items[d],c.getField()==a&&b.push(c);return b},add:function(){var a=arguments.length==1?arguments[0]:arguments[1];return a instanceof Ext.data.Error||(a=Ext.create("Ext.data.Error",{field:a.field||a.name,message:a.error||a.message})),this.callParent([a])}}),Ext.define("Ext.mixin.Selectable",{extend:"Ext.mixin.Mixin",mixinConfig:{id:"selectable",hooks:{updateStore:"updateStore"}},config:{disableSelection:null,mode:"SINGLE",allowDeselect:!1,lastSelected:null,lastFocused:null,deselectOnContainerClick:!0},modes:{SINGLE:!0,SIMPLE:!0,MULTI:!0},selectableEventHooks:{addrecords:"onSelectionStoreAdd",removerecords:"onSelectionStoreRemove",updaterecord:"onSelectionStoreUpdate",load:"refreshSelection",refresh:"refreshSelection"},constructor:function(){this.selected=new Ext.util.MixedCollection,this.callParent(arguments)},applyMode:function(a){return a=a?a.toUpperCase():"SINGLE",this.modes[a]?a:"SINGLE"},updateStore:function(a,b){var c=this,d=Ext.apply({},c.selectableEventHooks,{scope:c});b&&Ext.isObject(b)&&b.isStore&&(b.autoDestroy?b.destroy():b.un(d)),a&&(a.on(d),c.refreshSelection())},selectAll:function(a){var b=this,c=b.getStore().getRange(),d=c.length,e=0;for(;e<d;e++)b.select(c[e],!0,a)},deselectAll:function(a){var b=this,c=b.getStore().getRange();b.deselect(c,a),b.selected.clear(),b.setLastSelected(null),b.setLastFocused(null)},selectWithEvent:function(a){var b=this,c=b.isSelected(a);switch(b.getMode()){case"MULTI":case"SIMPLE":c?b.deselect(a):b.select(a,!0);break;case"SINGLE":b.getAllowDeselect()&&c?b.deselect(a):b.select(a,!1)}},selectRange:function(a,b,c,d){var e=this,f=e.getStore(),g=f.indexOf(a),h=f.indexOf(b),i=0,j,k,l;if(e.getDisableSelection())return;g>h&&(j=h,h=g,g=j);for(l=g;l<=h;l++)e.isSelected(f.getAt(l))&&i++;d?k=d=="up"?g:h:k=-1;for(l=g;l<=h;l++)i==h-g+1?l!=k&&e.deselect(l,!0):e.select(l,!0)},select:function(a,b,c){var d=this,e;if(d.getDisableSelection())return;typeof a=="number"&&(a=[d.getStore().getAt(a)]);if(!a)return;d.getMode()=="SINGLE"&&a?(e=a.length?a[0]:a,d.doSingleSelect(e,c)):d.doMultiSelect(a,b,c)},doSingleSelect:function(a,b){var c=this,d=c.selected;if(c.getDisableSelection())return;if(c.isSelected(a))return;d.getCount()>0&&c.deselect(c.getLastSelected(),b),d.add(a),c.setLastSelected(a),c.onItemSelect(a,b),c.setLastFocused(a),c.fireSelectionChange(!b)},doMultiSelect:function(a,b,c){if(a===null||this.getDisableSelection())return;a=Ext.isArray(a)?a:[a];var d=this,e=d.selected,f=a.length,g=!1,h=0,i;!b&&e.getCount()>0&&(g=!0,d.deselect(d.getSelection(),!0));for(;h<f;h++){i=a[h];if(b&&d.isSelected(i))continue;g=!0,d.setLastSelected(i),e.add(i),c||d.setLastFocused(i),d.onItemSelect(i,c)}this.fireSelectionChange(g&&!c)},deselect:function(a,b){var c=this;if(c.getDisableSelection())return;a=Ext.isArray(a)?a:[a];var d=c.selected,e=!1,f=0,g=c.getStore(),h=a.length,i;for(;f<h;f++)i=a[f],typeof i=="number"&&(i=g.getAt(i)),d.remove(i)&&(c.getLastSelected()==i&&c.setLastSelected(d.last()),e=!0),i&&c.onItemDeselect(i,b);c.fireSelectionChange(e&&!b)},updateLastFocused:function(a,b){this.onLastFocusChanged(b,a)},fireSelectionChange:function(a){var b=this;a&&b.fireAction("beforeselectionchange",[b],function(){b.fireEvent("selectionchange",b,b.getSelection())})},getSelection:function(){return this.selected.getRange()},isSelected:function(a){return a=Ext.isNumber(a)?this.getStore().getAt(a):a,this.selected.indexOf(a)!==-1},hasSelection:function(){return this.selected.getCount()>0},refreshSelection:function(){var a=this,b=a.getSelection();a.deselectAll(!0),b.length&&a.select(b,!1,!0)},onSelectionStoreClear:function(){var a=this,b=a.selected;b.getCount()>0&&(b.clear(),a.setLastSelected(null),a.setLastFocused(null),a.fireSelectionChange(!0))},onSelectionStoreRemove:function(a,b){var c=this,d=c.selected;if(c.getDisableSelection())return;d.remove(b)&&(c.getLastSelected()==b&&c.setLastSelected(null),c.getLastFocused()==b&&c.setLastFocused(null),c.fireSelectionChange(!0))},getSelectionCount:function(){return this.selected.getCount()},onSelectionStoreAdd:Ext.emptyFn,onSelectionStoreUpdate:Ext.emptyFn,onItemSelect:Ext.emptyFn,onItemDeselect:Ext.emptyFn,onLastFocusChanged:Ext.emptyFn,onEditorKey:Ext.emptyFn},function(){this.override({constructor:function(a){if(a&&a.hasOwnProperty("locked")){var b=a.locked;a.disableSelection=b,delete a.locked}this.callParent([a])}}),Ext.deprecateClassMethod(this,{isLocked:"getDisableSelection",getSelectionMode:"getMode",doDeselect:"deselect",doSelect:"select",bind:"setStore",clearSelections:"deselectAll",getCount:"getSelectionCount"})}),Ext.define("Ext.AbstractComponent",{extend:"Ext.Evented",onClassExtended:function(a,b){if(!b.hasOwnProperty("cachedConfig"))return;var c=a.prototype,d=b.config,e=b.cachedConfig,f=c.cachedConfigList,g=c.hasCachedConfig,h,i;delete b.cachedConfig,c.cachedConfigList=f=f?f.slice():[],c.hasCachedConfig=g=g?Ext.Object.chain(g):{},d||(b.config=d={});for(h in e)e.hasOwnProperty(h)&&(i=e[h],g[h]||(g[h]=!0,f.push(h)),d[h]=i)},getElementConfig:Ext.emptyFn,referenceAttributeName:"reference",referenceSelector:"[reference]",addReferenceNode:function(a,b){Ext.Object.defineProperty(this,a,{get:function(){var c;return delete this[a],this[a]=c=new Ext.Element(b),c},configurable:!0})},initElement:function(){var a=this.self.prototype,b=this.getId(),c=[],d=!0,e=this.referenceAttributeName,f=!1,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;a.hasOwnProperty("renderTemplate")?(g=this.renderTemplate.cloneNode(!0),h=g.firstChild):(d=!1,f=!0,g=document.createDocumentFragment(),h=Ext.Element.create(this.getElementConfig(),!0),g.appendChild(h)),j=g.querySelectorAll(this.referenceSelector);for(k=0,l=j.length;k<l;k++)m=j[k],n=m.getAttribute(e),d&&m.removeAttribute(e),n=="element"?(m.id=b,this.element=i=new Ext.Element(m)):this.addReferenceNode(n,m),c.push(n);this.referenceList=c,this.innerElement||(this.innerElement=i),h===i.dom?this.renderElement=i:this.addReferenceNode("renderElement",h);if(f){o=Ext.Class.configNameCache,p=this.config,q=this.cachedConfigList,r=this.initConfigList,s=this.initConfigMap,t=[];for(k=0,l=q.length;k<l;k++)v=q[k],w=o[v],s[v]&&(s[v]=!1,Ext.Array.remove(r,v)),p[v]!==null&&(t.push(v),this[w.get]=this[w.initGet]);for(k=0,l=t.length;k<l;k++)v=t[k],w=o[v],x=w.internal,this[x]=null,this[w.set].call(this,p[v]),delete this[w.get],a[x]=this[x];h=this.renderElement.dom,a.renderTemplate=g=document.createDocumentFragment(),g.appendChild(h.cloneNode(!0)),u=g.querySelectorAll("[id]");for(k=0,l=u.length;k<l;k++)i=u[k],i.removeAttribute("id");for(k=0,l=c.length;k<l;k++)n=c[k],this[n].dom.removeAttribute("reference")}return this}}),Ext.define("Ext.mixin.Traversable",{extend:"Ext.mixin.Mixin",mixinConfig:{id:"traversable"},setParent:function(a){return this.parent=a,this},hasParent:function(){return Boolean(this.parent)},getParent:function(){return this.parent},getAncestors:function(){var a=[],b=this.getParent();while(b)a.push(b),b=b.getParent();return a},getAncestorIds:function(){var a=[],b=this.getParent();while(b)a.push(b.getId()),b=b.getParent();return a}}),Ext.define("Ext.data.Types",{singleton:!0,requires:["Ext.data.SortTypes"],stripRe:/[\$,%]/g,dashesRe:/-/g,iso8601TestRe:/\d\dT\d\d/,iso8601SplitRe:/[- :T\.Z\+]/},function(){var a=this,b=Ext.data.SortTypes;Ext.apply(a,{AUTO:{convert:function(a){return a},sortType:b.none,type:"auto"},STRING:{convert:function(a){return a===undefined||a===null?this.getAllowNull()?null:"":String(a)},sortType:b.asUCString,type:"string"},INT:{convert:function(b){return b!==undefined&&b!==null&&b!==""?typeof b=="number"?parseInt(b,10):parseInt(String(b).replace(a.stripRe,""),10):this.getAllowNull()?null:0},sortType:b.none,type:"int"},FLOAT:{convert:function(b){return b!==undefined&&b!==null&&b!==""?typeof b=="number"?b:parseFloat(String(b).replace(a.stripRe,""),10):this.getAllowNull()?null:0},sortType:b.none,type:"float"},BOOL:{convert:function(a){return a!==undefined&&a!==null&&a!==""||!this.getAllowNull()?a===!0||a==="true"||a==1:null},sortType:b.none,type:"bool"},DATE:{convert:function(b){var c=this.getDateFormat(),d;return b?Ext.isDate(b)?b:c?c=="timestamp"?new Date(b*1e3):c=="time"?new Date(parseInt(b,10)):Ext.Date.parse(b,c):(d=new Date(Date.parse(b)),isNaN(d)&&(a.iso8601TestRe.test(b)&&(d=b.split(a.iso8601SplitRe),d=new Date(d[0],d[1]-1,d[2],d[3],d[4],d[5])),isNaN(d)&&(d=new Date(Date.parse(b.replace(this.dashesRe,"/"))),isNaN(d)&&Ext.Logger.warn("Cannot parse the passed value ("+b+") into a valid date"))),isNaN(d)?null:d):null},sortType:b.asDate,type:"date"}}),Ext.apply(a,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})}),Ext.define("Ext.data.Field",{requires:["Ext.data.Types","Ext.data.SortTypes"],alias:"data.field",isField:!0,config:{name:null,type:"auto",convert:undefined,dateFormat:null,allowNull:!0,defaultValue:undefined,mapping:null,sortType:undefined,sortDir:"ASC",allowBlank:!0,persist:!0,encode:null,decode:null},constructor:function(a){Ext.isString(a)&&(a={name:a}),this.initConfig(a)},applyType:function(a){var b=Ext.data.Types,c=b.AUTO;return a?Ext.isString(a)?b[a.toUpperCase()]||c:a:c},updateType:function(a,b){var c=this.getConvert();b&&c===b.convert&&this.setConvert(a.convert)},applySortType:function(a){var b=Ext.data.SortTypes,c=this.getType(),d=c.sortType;return a?Ext.isString(a)?b[a]||d:a:d},applyConvert:function(a){var b=this.getType().convert;return a&&a!==b?(this._hasCustomConvert=!0,a):(this._hasCustomConvert=!1,b)},hasCustomConvert:function(){return this._hasCustomConvert}},function(){Ext.deprecateProperty(this,"useNull","allowNull")}),Ext.define("Ext.XTemplateCompiler",{extend:"Ext.XTemplateParser",useEval:Ext.isGecko,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(a){var b=this,c=b.generate(a);return b.useEval?b.evalTpl(c):(new Function("Ext",c))(Ext)},generate:function(a){var b=this;b.body=["var c0=values, p0=parent, n0=xcount, i0=xindex;\n"],b.funcs=["var fm=Ext.util.Format;"],b.switches=[],b.parse(a),b.funcs.push((b.useEval?"$=":"return")+" function ("+b.fnArgs+") {",b.body.join(""),"}");var c=b.funcs.join("\n");return c},doText:function(a){a=a.replace(this.aposRe,"\\'"),a=a.replace(this.newLineRe,"\\n"),this.body.push("out.push('",a,"')\n")},doExpr:function(a){this.body.push("out.push(String(",a,"))\n")},doTag:function(a){this.doExpr(this.parseTag(a))},doElse:function(){this.body.push("} else {\n")},doEval:function(a){this.body.push(a,"\n")},doIf:function(a,b){var c=this;c.propNameRe.test(a)?c.body.push("if (",c.parseTag(a),") {\n"):c.body.push("if (",c.addFn(a),c.callFn,") {\n"),b.exec&&c.doExec(b.exec)},doElseIf:function(a,b){var c=this;c.propNameRe.test(a)?c.body.push("} else if (",c.parseTag(a),") {\n"):c.body.push("} else if (",c.addFn(a),c.callFn,") {\n"),b.exec&&c.doExec(b.exec)},doSwitch:function(a){var b=this;b.propNameRe.test(a)?b.body.push("switch (",b.parseTag(a),") {\n"):b.body.push("switch (",b.addFn(a),b.callFn,") {\n"),b.switches.push(0)},doCase:function(a){var b=this,c=Ext.isArray(a)?a:[a],d=b.switches.length-1,e,f;b.switches[d]?b.body.push("break;\n"):b.switches[d]++;for(f=0,d=c.length;f<d;++f)e=b.intRe.exec(c[f]),c[f]=e?e[1]:"'"+c[f].replace(b.aposRe,"\\'")+"'";b.body.push("case ",c.join(": case "),":\n")},doDefault:function(){var a=this,b=a.switches.length-1;a.switches[b]?a.body.push("break;\n"):a.switches[b]++,a.body.push("default:\n")},doEnd:function(a,b){var c=this,d=c.level-1;a=="for"?(b.exec&&c.doExec(b.exec),c.body.push("}\n"),c.body.push("parent=p",d,";values=r",d+1,";xcount=n",d,";xindex=i",d,"\n")):(a=="if"||a=="switch")&&c.body.push("}\n")},doFor:function(a,b){var c=this,d=c.addFn(a),e=c.level,f=e-1;c.body.push("var c",e,"=",d,c.callFn,", a",e,"=Ext.isArray(c",e,"),p",e,"=(parent=c",f,"),r",e,"=values\n","for (var i",e,"=0,n",e,"=a",e,"?c",e,".length:(c",e,"?1:0), xcount=n",e,";i",e,"<n"+e+";++i",e,"){\n","values=a",e,"?c",e,"[i",e,"]:c",e,"\n","xindex=i",e,"+1\n")},doExec:function(a,b){var c=this,d="f"+c.funcs.length;c.funcs.push("function "+d+"("+c.fnArgs+") {"," try { with(values) {","  "+a," }} catch(e) {}","}"),c.body.push(d+c.callFn+"\n")},addFn:function(a){var b=this,c="f"+b.funcs.length;return a==="."?b.funcs.push("function "+c+"("+b.fnArgs+") {"," return values","}"):a===".."?b.funcs.push("function "+c+"("+b.fnArgs+") {"," return parent","}"):b.funcs.push("function "+c+"("+b.fnArgs+") {"," try { with(values) {","  return("+a+")"," }} catch(e) {}","}"),c},parseTag:function(a){var b=this.tagRe.exec(a),c=b[1],d=b[2],e=b[3],f=b[4],g;return c=="."?g='Ext.Array.indexOf(["string", "number", "boolean"], typeof values) > -1 || Ext.isDate(values) ? values : ""':c=="#"?g="xindex":c.substr(0,7)=="parent."?g=c:c.indexOf(".")!==-1&&c.indexOf("-")===-1?g="values."+c:g="values['"+c+"']",f&&(g="("+g+f+")"),d&&this.useFormat?(e=e?","+e:"",d.substr(0,5)!="this."?d="fm."+d+"(":d+="("):(e="",d="("+g+" === undefined ? '' : "),d+g+e+")"},evalTpl:function($){return eval($),$},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?/},function(){var a=this.prototype;a.fnArgs="out,values,parent,xindex,xcount",a.callFn=".call(this,"+a.fnArgs+")"}),Ext.define("Ext.util.LineSegment",{requires:["Ext.util.Point"],constructor:function(a,b){var c=Ext.util.Point;this.point1=c.from(a),this.point2=c.from(b)},intersects:function(a){var b=this.point1,c=this.point2,d=a.point1,e=a.point2,f=b.x,g=c.x,h=d.x,i=e.x,j=b.y,k=c.y,l=d.y,m=e.y,n=(f-g)*(l-m)-(j-k)*(h-i),o,p;return n==0?null:(o=((h-i)*(f*k-j*g)-(f-g)*(h*m-l*i))/n,p=((l-m)*(f*k-j*g)-(j-k)*(h*m-l*i))/n,o<Math.min(f,g)||o>Math.max(f,g)||o<Math.min(h,i)||o>Math.max(h,i)||p<Math.min(j,k)||p>Math.max(j,k)||p<Math.min(l,m)||p>Math.max(l,m)?null:new Ext.util.Point(o,p))},toString:function(){return this.point1.toString()+" "+this.point2.toString()}}),Ext.define("Ext.data.writer.Json",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",config:{root:undefined,encode:!1,allowSingle:!0,encodeRequest:!1},applyRoot:function(a){return!a&&(this.getEncode()||this.getEncodeRequest())&&(a="data"),a},writeRecords:function(a,b){var c=this.getRoot(),d=a.getParams(),e=this.getAllowSingle(),f;return this.getAllowSingle()&&b&&b.length==1&&(b=b[0]),this.getEncodeRequest()?(f=a.getJsonData()||{},b&&(b.length||e&&Ext.isObject(b))&&(f[c]=b),a.setJsonData(Ext.apply(f,d||{})),a.setParams(null),a.setMethod("POST"),a):!b||!(b.length||e&&Ext.isObject(b))?a:(this.getEncode()?c?d[c]=Ext.encode(b):Ext.Logger.error("Must specify a root when using encode"):(f=a.getJsonData()||{},c?f[c]=b:f=b,a.setJsonData(f)),a)}}),Ext.define("Ext.data.Batch",{mixins:{observable:"Ext.mixin.Observable"},config:{autoStart:!1,pauseOnException:!0,proxy:null},current:-1,total:0,isRunning:!1,isComplete:!1,hasException:!1,constructor:function(a){var b=this;b.initConfig(a),b.operations=[]},add:function(a){this.total++,a.setBatch(this),this.operations.push(a)},start:function(){this.hasException=!1,this.isRunning=!0,this.runNextOperation()},runNextOperation:function(){this.runOperation(this.current+1)},pause:function(){this.isRunning=!1},runOperation:function(a){var b=this,c=b.operations,d=c[a],e;d===undefined?(b.isRunning=!1,b.isComplete=!0,b.fireEvent("complete",b,c[c.length-1])):(b.current=a,e=function(a){var c=a.hasException();c?(b.hasException=!0,b.fireEvent("exception",b,a)):b.fireEvent("operationcomplete",b,a),c&&b.getPauseOnException()?b.pause():(a.setCompleted(),b.runNextOperation())},d.setStarted(),b.getProxy()[d.getAction()](d,e,b))}}),Ext.define("Ext.util.HashMap",{mixins:{observable:"Ext.mixin.Observable"},constructor:function(a){this.callParent(),this.mixins.observable.constructor.call(this),this.clear(!0)},getCount:function(){return this.length},getData:function(a,b){return b===undefined&&(b=a,a=this.getKey(b)),[a,b]},getKey:function(a){return a.id},add:function(a,b){var c=this,d;if(c.containsKey(a))throw new Error("This key already exists in the HashMap");return d=this.getData(a,b),a=d[0],b=d[1],c.map[a]=b,++c.length,c.fireEvent("add",c,a,b),b},replace:function(a,b){var c=this,d=c.map,e;return c.containsKey(a)||c.add(a,b),e=d[a],d[a]=b,c.fireEvent("replace",c,a,b,e),b},remove:function(a){var b=this.findKey(a);return b!==undefined?this.removeByKey(b):!1},removeByKey:function(a){var b=this,c;return b.containsKey(a)?(c=b.map[a],delete b.map[a],--b.length,b.fireEvent("remove",b,a,c),!0):!1},get:function(a){return this.map[a]},clear:function(a){var b=this;return b.map={},b.length=0,a!==!0&&b.fireEvent("clear",b),b},containsKey:function(a){return this.map[a]!==undefined},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(a){var b=[],c,d=this.map;for(c in d)d.hasOwnProperty(c)&&b.push(a?c:d[c]);return b},each:function(a,b){var c=Ext.apply({},this.map),d,e=this.length;b=b||this;for(d in c)if(c.hasOwnProperty(d)&&a.call(b,d,c[d],e)===!1)break;return this},clone:function(){var a=new Ext.util.HashMap,b=this.map,c;a.suspendEvents();for(c in b)b.hasOwnProperty(c)&&a.add(c,b[c]);return a.resumeEvents(),a},findKey:function(a){var b,c=this.map;for(b in c)if(c.hasOwnProperty(b)&&c[b]===a)return b;return undefined}}),Ext.define("Ext.AbstractManager",{requires:["Ext.util.HashMap"],typeName:"type",constructor:function(a){Ext.apply(this,a||{}),this.all=Ext.create("Ext.util.HashMap"),this.types={}},get:function(a){return this.all.get(a)},register:function(a){this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(a,b){this.types[a]=b,b[this.typeName]=a},isRegistered:function(a){return this.types[a]!==undefined},create:function(a,b){var c=a[this.typeName]||a.type||b,d=this.types[c];return d==undefined&&Ext.Error.raise("The '"+c+"' type has not been registered with this manager"),new d(a)},onAvailable:function(a,b,c){var d=this.all,e;d.containsKey(a)?(e=d.get(a),b.call(c||e,e)):d.on("add",function(e,f,g){f==a&&(b.call(c||g,g),d.un("add",b,c))})},each:function(a,b){this.all.each(a,b||this)},getCount:function(){return this.all.getCount()}}),Ext.define("Ext.data.ModelManager",{extend:"Ext.AbstractManager",alternateClassName:["Ext.ModelMgr","Ext.ModelManager"],singleton:!0,modelNamespace:null,registerType:function(a,b){var c=b.prototype,d;return c&&c.isModel?d=b:(b={extend:b.extend||"Ext.data.Model",config:b},d=Ext.define(a,b)),this.types[a]=d,d},onModelDefined:Ext.emptyFn,getModel:function(a){var b=a;return typeof b=="string"&&(b=this.types[b],!b&&this.modelNamespace&&(b=this.types[this.modelNamespace+"."+b])),b},create:function(a,b,c){var d=typeof b=="function"?b:this.types[b||a.name];return new d(a,c)}},function(){Ext.regModel=function(){return Ext.Logger.deprecate('Ext.regModel has been deprecated. Models can now be created by extending Ext.data.Model: Ext.define("MyModel", {extend: "Ext.data.Model", fields: []});.'),this.ModelManager.registerType.apply(this.ModelManager,arguments)}}),Ext.define("Ext.data.association.Association",{alternateClassName:"Ext.data.Association",requires:["Ext.data.ModelManager"],config:{ownerModel:null,ownerName:undefined,associatedModel:null,associatedName:undefined,associationKey:undefined,primaryKey:"id",reader:null,type:null,name:undefined},statics:{create:function(a){return a.isAssociation?a:(Ext.isString(a)&&(a={type:a}),a.type=a.type.toLowerCase(),Ext.factory(a,Ext.data.association.Association,null,"association"))}},constructor:function(a){this.initConfig(a)},applyName:function(a){return a||(a=this.getAssociatedName()),a},applyOwnerModel:function(a){var b=Ext.data.ModelManager.getModel(a);return b===undefined&&Ext.Logger.error("The configured ownerModel was not valid (you tried "+a+")"),b},applyOwnerName:function(a){return a||(a=this.getOwnerModel().modelName),a=a.slice(a.lastIndexOf(".")+1),a},updateOwnerModel:function(a,b){b&&this.setOwnerName(a.modelName)},applyAssociatedModel:function(a){var b=Ext.data.ModelManager.types[a];return b===undefined&&Ext.Logger.error("The configured associatedModel was not valid (you tried "+a+")"),b},applyAssociatedName:function(a){return a||(a=this.getAssociatedModel().modelName),a=a.slice(a.lastIndexOf(".")+1),a},updateAssociatedModel:function(a,b){b&&this.setAssociatedName(a.modelName)},applyReader:function(a){return a&&(Ext.isString(a)&&(a={type:a}),a.isReader||Ext.applyIf(a,{type:"json"})),Ext.factory(a,Ext.data.Reader,this.getReader(),"reader")},updateReader:function(a){a.setModel(this.getAssociatedModel())},onClassExtended:function(a,b,c){var d=this,e=d.prototype.config,f=b.config||{},g;for(g in e)g in b&&(f[g]=b[g],delete b[g],Ext.Logger.deprecate(g+" is deprecated as a property directly on the Association prototype. "+"Please put it inside the config object."));b.config=f}}),Ext.define("Ext.data.association.HasMany",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.HasManyAssociation",requires:["Ext.util.Inflector"],alias:"association.hasmany",config:{foreignKey:undefined,store:undefined,storeName:undefined,filterProperty:null,autoLoad:!1},constructor:function(a){a=a||{},a.storeConfig&&(Ext.Logger.warn("storeConfig is deprecated on an association. Instead use the store configuration."),a.store=a.storeConfig,delete a.storeConfig),this.callParent([a])},applyName:function(a){return a||(a=Ext.util.Inflector.pluralize(this.getAssociatedName().toLowerCase())),a},applyStoreName:function(a){return a||(a=this.getName()+"Store"),a},applyForeignKey:function(a){if(!a){var b=this.getInverseAssociation();b?a=b.getForeignKey():a=this.getOwnerName().toLowerCase()+"_id"}return a},applyAssociationKey:function(a){if(!a){var b=this.getAssociatedName();a=Ext.util.Inflector.pluralize(b[0].toLowerCase()+b.slice(1))}return a},updateForeignKey:function(a,b){var c=this.getAssociatedModel().getFields(),d=c.get(a);d||(d=new Ext.data.Field({name:a}),c.add(d),c.isDirty=!0),b&&(d=c.get(b),d&&(c.remove(d),c.isDirty=!0))},applyStore:function(a){var b=this,c=b,d=b.getAssociatedModel(),e=b.getStoreName(),f=b.getForeignKey(),g=b.getPrimaryKey(),h=b.getFilterProperty(),i=b.getAutoLoad();return function(){var b=this,j,k,l={};return b[e]===undefined&&(h?k={property:h,value:b.get(h),exactMatch:!0}:k={property:f,value:b.get(g),exactMatch:!0},l[f]=b.get(g),j=Ext.apply({},a,{model:d,filters:[k],remoteFilter:!0,modelDefaults:l}),b[e]=Ext.create("Ext.data.Store",j),i&&b[e].load(function(a,d){c.updateInverseInstances(b)})),b[e]}},updateStore:function(a){this.getOwnerModel().prototype[this.getName()]=a},read:function(a,b,c){var d=a[this.getName()](),e=b.read(c).getRecords();d.add(e),this.updateInverseInstances(a)},updateInverseInstances:function(a){var b=a[this.getName()](),c=this.getInverseAssociation();c&&b.each(function(b){b[c.getInstanceName()]=a})},getInverseAssociation:function(){var a=this.getOwnerModel().modelName;return this.getAssociatedModel().associations.findBy(function(b){return b.getType().toLowerCase()==="belongsto"&&b.getAssociatedModel().modelName===a})}},function(){Ext.deprecateProperty(this,"storeConfig","store")}),Ext.define("Ext.data.association.BelongsTo",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.BelongsToAssociation",alias:"association.belongsto",config:{foreignKey:undefined,getterName:undefined,setterName:undefined,instanceName:undefined},applyForeignKey:function(a){return a||(a=this.getAssociatedName().toLowerCase()+"_id"),a},updateForeignKey:function(a,b){var c=this.getOwnerModel().getFields(),d=c.get(a);d||(d=new Ext.data.Field({name:a}),c.add(d),c.isDirty=!0),b&&(d=c.get(b),d&&(c.isDirty=!0,c.remove(d)))},applyInstanceName:function(a){return a||(a=this.getAssociatedName()+"BelongsToInstance"),a},applyAssociationKey:function(a){if(!a){var b=this.getAssociatedName();a=b[0].toLowerCase()+b.slice(1)}return a},applyGetterName:function(a){if(!a){var b=this.getAssociatedName();a="get"+b[0].toUpperCase()+b.slice(1)}return a},applySetterName:function(a){if(!a){var b=this.getAssociatedName();a="set"+b[0].toUpperCase()+b.slice(1)}return a},updateGetterName:function(a,b){var c=this.getOwnerModel().prototype;b&&delete c[b],a&&(c[a]=this.createGetter())},updateSetterName:function(a,b){var c=this.getOwnerModel().prototype;b&&delete c[b],a&&(c[a]=this.createSetter())},createSetter:function(){var a=this,b=a.getForeignKey();return function(c,d,e){var f=a.getInverseAssociation();c&&c.isModel&&(c=c.getId()),this.set(b,c),Ext.isFunction(d)&&(d={callback:d,scope:e||this});if(f){c=Ext.data.Model.cache.get(Ext.data.Model.generateCacheId(f.getOwnerModel().modelName,c));if(c)if(f.getType().toLowerCase()==="hasmany"){var g=c[f.getName()]();g.add(this)}else c[f.getInstanceName()]=this}if(Ext.isObject(d))return this.save(d)}},createGetter:function(){var a=this,b=a.getAssociatedModel(),c=a.getForeignKey(),d=a.getInstanceName();return function(a,e){a=a||{};var f=this,g=f.get(c),h,i,j;i=f[d],i||(i=Ext.data.Model.cache.get(Ext.data.Model.generateCacheId(b.modelName,g)),i&&(f[d]=i));if(a.reload!==!0&&i!==undefined)return j=[i],e=e||f,Ext.callback(a,e,j),Ext.callback(a.success,e,j),Ext.callback(a.failure,e,j),Ext.callback(a.callback,e,j),i;typeof a=="function"&&(a={callback:a,scope:e||f}),h=a.success,a.success=function(a){f[d]=a,h&&h.call(this,arguments)},b.load(g,a)}},read:function(a,b,c){a[this.getInstanceName()]=b.read([c]).getRecords()[0]},getInverseAssociation:function(){var a=this.getOwnerModel().modelName,b=this.getForeignKey();return this.getAssociatedModel().associations.findBy(function(c){var d=c.getType().toLowerCase();return(d==="hasmany"||d==="hasone")&&c.getAssociatedModel().modelName===a&&c.getForeignKey()===b})}}),Ext.define("Ext.data.association.HasOne",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.HasOneAssociation",alias:"association.hasone",config:{foreignKey:undefined,getterName:undefined,setterName:undefined,instanceName:undefined},applyForeignKey:function(a){if(!a){var b=this.getInverseAssociation();b?a=b.getForeignKey():a=this.getOwnerName().toLowerCase()+"_id"}return a},updateForeignKey:function(a,b){var c=this.getAssociatedModel().getFields(),d=c.get(a);d||(d=new Ext.data.Field({name:a}),c.add(d),c.isDirty=!0),b&&(d=c.get(b),d&&(c.remove(d),c.isDirty=!0))},applyInstanceName:function(a){return a||(a=this.getAssociatedName()+"BelongsToInstance"),a},applyAssociationKey:function(a){if(!a){var b=this.getAssociatedName();a=b[0].toLowerCase()+b.slice(1)}return a},applyGetterName:function(a){if(!a){var b=this.getAssociatedName();a="get"+b[0].toUpperCase()+b.slice(1)}return a},applySetterName:function(a){if(!a){var b=this.getAssociatedName();a="set"+b[0].toUpperCase()+b.slice(1)}return a},updateGetterName:function(a,b){var c=this.getOwnerModel().prototype;b&&delete c[b],a&&(c[a]=this.createGetter())},updateSetterName:function(a,b){var c=this.getOwnerModel().prototype;b&&delete c[b],a&&(c[a]=this.createSetter())},createSetter:function(){var a=this,b=a.getForeignKey(),c=a.getInstanceName(),d=a.getAssociatedModel();return function(a,e,f){var g=Ext.data.Model,h;a&&a.isModel&&(a=a.getId()),this.set(b,a),h=g.cache.get(g.generateCacheId(d.modelName,a)),h&&(this[c]=h),Ext.isFunction(e)&&(e={callback:e,scope:f||this});if(Ext.isObject(e))return this.save(e)}},createGetter:function(){var a=this,b=a.getAssociatedModel(),c=a.getForeignKey(),d=a.getInstanceName();return function(a,e){a=a||{};var f=this,g=f.get(c),h,i,j;if(a.reload!==!0&&f[d]!==undefined)return i=f[d],j=[i],e=e||f,Ext.callback(a,e,j),Ext.callback(a.success,e,j),Ext.callback(a.failure,e,j),Ext.callback(a.callback,e,j),i;typeof a=="function"&&(a={callback:a,scope:e||f}),h=a.success,a.success=function(a){f[d]=a,h&&h.call(this,arguments)},b.load(g,a)}},read:function(a,b,c){var d=this.getInverseAssociation(),e=b.read([c]).getRecords()[0];a[this.getInstanceName()]=e,d&&(e[d.getInstanceName()]=a)},getInverseAssociation:function(){var a=this.getOwnerModel().modelName;return this.getAssociatedModel().associations.findBy(function(b){return b.getType().toLowerCase()==="belongsto"&&b.getAssociatedModel().modelName===a})}}),Ext.define("Ext.util.AbstractMixedCollection",{requires:["Ext.util.Filter"],mixins:{observable:"Ext.mixin.Observable"},constructor:function(a,b){var c=this;c.items=[],c.map={},c.keys=[],c.length=0,c.allowFunctions=a===!0,b&&(c.getKey=b),c.mixins.observable.constructor.call(c)},allowFunctions:!1,add:function(a,b){var c=this,d=b,e=a,f;arguments.length==1&&(d=e,e=c.getKey(d));if(typeof e!="undefined"&&e!==null){f=c.map[e];if(typeof f!="undefined")return c.replace(e,d);c.map[e]=d}return c.length++,c.items.push(d),c.keys.push(e),c.fireEvent("add",c.length-1,d,e),d},getKey:function(a){return a.id},replace:function(a,b){var c=this,d,e;return arguments.length==1&&(b=arguments[0],a=c.getKey(b)),d=c.map[a],typeof a=="undefined"||a===null||typeof d=="undefined"?c.add(a,b):(e=c.indexOfKey(a),c.items[e]=b,c.map[a]=b,c.fireEvent("replace",a,d,b),b)},addAll:function(a){var b=this,c=0,d,e,f;if(arguments.length>1||Ext.isArray(a)){d=arguments.length>1?arguments:a;for(e=d.length;c<e;c++)b.add(d[c])}else for(f in a)a.hasOwnProperty(f)&&(b.allowFunctions||typeof a[f]!="function")&&b.add(f,a[f])},each:function(a,b){var c=[].concat(this.items),d=0,e=c.length,f;for(;d<e;d++){f=c[d];if(a.call(b||f,f,d,e)===!1)break}},eachKey:function(a,b){var c=this.keys,d=this.items,e=0,f=c.length;for(;e<f;e++)a.call(b||window,c[e],d[e],e,f)},findBy:function(a,b){var c=this.keys,d=this.items,e=0,f=d.length;for(;e<f;e++)if(a.call(b||window,d[e],c[e]))return d[e];return null},insert:function(a,b,c){var d=this,e=b,f=c;return arguments.length==2&&(f=e,e=d.getKey(f)),d.containsKey(e)&&(d.suspendEvents(),d.removeAtKey(e),d.resumeEvents()),a>=d.length?d.add(e,f):(d.length++,Ext.Array.splice(d.items,a,0,f),typeof e!="undefined"&&e!==null&&(d.map[e]=f),Ext.Array.splice(d.keys,a,0,e),d.fireEvent("add",a,f,e),f)},remove:function(a){return this.removeAt(this.indexOf(a))},removeAll:function(a){return Ext.each(a||[],function(a){this.remove(a)},this),this},removeAt:function(a){var b=this,c,d;return a<b.length&&a>=0?(b.length--,c=b.items[a],Ext.Array.erase(b.items,a,1),d=b.keys[a],typeof d!="undefined"&&delete b.map[d],Ext.Array.erase(b.keys,a,1),b.fireEvent("remove",c,d),c):!1},removeAtKey:function(a){return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},indexOf:function(a){return Ext.Array.indexOf(this.items,a)},indexOfKey:function(a){return Ext.Array.indexOf(this.keys,a)},get:function(a){var b=this,c=b.map[a],d=c!==undefined?c:typeof a=="number"?b.items[a]:undefined;return typeof d!="function"||b.allowFunctions?d:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(a){return Ext.Array.contains(this.items,a)},containsKey:function(a){return typeof this.map[a]!="undefined"},clear:function(){var a=this;a.length=0,a.items=[],a.keys=[],a.map={},a.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(a,b,c,d){var e=this.extractValues(a,b),f=e.length,g=0,h;c=c||0,d=d||d===0?d:f-1;for(h=c;h<=d;h++)g+=e[h];return g},collect:function(a,b,c){var d=this.extractValues(a,b),e=d.length,f={},g=[],h,i,j;for(j=0;j<e;j++)h=d[j],i=String(h),(c||!Ext.isEmpty(h))&&!f[i]&&(f[i]=!0,g.push(h));return g},extractValues:function(a,b){var c=this.items;return b&&(c=Ext.Array.pluck(c,b)),Ext.Array.pluck(c,a)},getRange:function(a,b){var c=this,d=c.items,e=[],f;if(d.length<1)return e;a=a||0,b=Math.min(typeof b=="undefined"?c.length-1:b,c.length-1);if(a<=b)for(f=a;f<=b;f++)e[e.length]=d[f];else for(f=a;f>=b;f--)e[e.length]=d[f];return e},filter:function(a,b,c,d){var e=[],f;if(Ext.isString(a))e.push(Ext.create("Ext.util.Filter",{property:a,value:b,anyMatch:c,caseSensitive:d}));else if(Ext.isArray(a)||a instanceof Ext.util.Filter)e=e.concat(a);return f=function(a){var b=!0,c=e.length,d;for(d=0;d<c;d++){var f=e[d],g=f.getFilterFn(),h=f.getScope();b=b&&g.call(h,a)}return b},this.filterBy(f)},filterBy:function(a,b){var c=this,d=new this.self,e=c.keys,f=c.items,g=f.length,h;d.getKey=c.getKey;for(h=0;h<g;h++)a.call(b||c,f[h],e[h])&&d.add(e[h],f[h]);return d},findIndex:function(a,b,c,d,e){return Ext.isEmpty(b,!1)?-1:(b=this.createValueMatcher(b,d,e),this.findIndexBy(function(c){return c&&b.test(c[a])},null,c))},findIndexBy:function(a,b,c){var d=this,e=d.keys,f=d.items,g=c||0,h=f.length;for(;g<h;g++)if(a.call(b||d,f[g],e[g]))return g;return-1},createValueMatcher:function(a,b,c,d){if(!a.exec){var e=Ext.String.escapeRegex;a=String(a),b===!0?a=e(a):(a="^"+e(a),d===!0&&(a+="$")),a=new RegExp(a,c?"":"i")}return a},clone:function(){var a=this,b=new this.self,c=a.keys,d=a.items,e=0,f=d.length;for(;e<f;e++)b.add(c[e],d[e]);return b.getKey=a.getKey,b}}),Ext.define("Ext.util.MixedCollection",{extend:"Ext.util.AbstractMixedCollection",mixins:{sortable:"Ext.util.Sortable"},constructor:function(){var a=this;a.callParent(arguments),a.mixins.sortable.initSortable.call(a)},doSort:function(a){this.sortBy(a)},_sort:function(a,b,c){var d=this,e,f,g=String(b).toUpperCase()=="DESC"?-1:1,h=[],i=d.keys,j=d.items;c=c||function(a,b){return a-b};for(e=0,f=j.length;e<f;e++)h[h.length]={key:i[e],value:j[e],index:e};Ext.Array.sort(h,function(b,d){var e=c(b[a],d[a])*g;return e===0&&(e=b.index<d.index?-1:1),e});for(e=0,f=h.length;e<f;e++)j[e]=h[e].value,i[e]=h[e].key;d.fireEvent("sort",d)},sortBy:function(a){var b=this,c=b.items,d=b.keys,e=c.length,f=[],g;for(g=0;g<e;g++)f[g]={key:d[g],value:c[g],index:g};Ext.Array.sort(f,function(b,c){var d=a(b.value,c.value);return d===0&&(d=b.index<c.index?-1:1),d});for(g=0;g<e;g++)c[g]=f[g].value,d[g]=f[g].key;b.fireEvent("sort",b,c,d)},reorder:function(a){var b=this,c=b.items,d=0,e=c.length,f=[],g=[],h;b.suspendEvents();for(h in a)f[a[h]]=c[h];for(d=0;d<e;d++)a[d]==undefined&&g.push(c[d]);for(d=0;d<e;d++)f[d]==undefined&&(f[d]=g.shift());b.clear(),b.addAll(f),b.resumeEvents(),b.fireEvent("sort",b)},sortByKey:function(a,b){this._sort("key",a,b||function(a,b){var c=String(a).toUpperCase(),d=String(b).toUpperCase();return c>d?1:c<d?-1:0})}}),Ext.define("Ext.ItemCollection",{extend:"Ext.util.MixedCollection",getKey:function(a){return a.getItemId()},has:function(a){return this.map.hasOwnProperty(a.getId())}}),Ext.define("Ext.data.Connection",{mixins:{observable:"Ext.mixin.Observable"},statics:{requestId:0},config:{url:null,async:!0,method:null,username:"",password:"",disableCaching:!0,disableCachingParam:"_dc",timeout:3e4,extraParams:null,defaultHeaders:null,useDefaultHeader:!0,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest",autoAbort:!1},textAreaRe:/textarea/i,multiPartRe:/multipart\/form-data/i,lineBreakRe:/\r\n/g,constructor:function(a){this.initConfig(a),this.requests={}},request:function(a){a=a||{};var b=this,c=a.scope||window,d=a.username||b.getUsername(),e=a.password||b.getPassword()||"",f,g,h,i,j;return b.fireEvent("beforerequest",b,a)!==!1?(g=b.setOptions(a,c),this.isFormUpload(a)===!0?(this.upload(a.form,g.url,g.data,a),null):((a.autoAbort===!0||b.getAutoAbort())&&b.abort(),j=this.getXhrInstance(),f=a.async!==!1?a.async||b.getAsync():!1,d?j.open(g.method,g.url,f,d,e):j.open(g.method,g.url,f),i=b.setupHeaders(j,a,g.data,g.params),h={id:++this.self.requestId,xhr:j,headers:i,options:a,async:f,timeout:setTimeout(function(){h.timedout=!0,b.abort(h)},a.timeout||b.getTimeout())},b.requests[h.id]=h,f&&(j.onreadystatechange=Ext.Function.bind(b.onStateChange,b,[h])),j.send(g.data),f?h:this.onComplete(h))):(Ext.callback(a.callback,a.scope,[a,undefined,undefined]),null)},upload:function(a,b,c,d){a=Ext.getDom(a),d=d||{};var e=Ext.id(),f=document.createElement("iframe"),g=[],h="multipart/form-data",i={target:a.target,method:a.method,encoding:a.encoding,enctype:a.enctype,action:a.action},j=function(b,c){k=document.createElement("input"),Ext.fly(k).set({type:"hidden",value:c,name:b}),a.appendChild(k),g.push(k)},k;Ext.fly(f).set({id:e,name:e,cls:Ext.baseCSSPrefix+"hide-display",src:Ext.SSL_SECURE_URL}),document.body.appendChild(f),document.frames&&(document.frames[e].name=e),Ext.fly(a).set({target:e,method:"POST",enctype:h,encoding:h,action:b||i.action}),c&&Ext.iterate(Ext.Object.fromQueryString(c),function(a,b){Ext.isArray(b)?Ext.each(b,function(b){j(a,b)}):j(a,b)}),Ext.fly(f).on("load",Ext.Function.bind(this.onUploadComplete,this,[f,d]),null,{single:!0}),a.submit(),Ext.fly(a).set(i),Ext.each(g,function(a){Ext.removeNode(a)})},onUploadComplete:function(a,b){var c=this,d={responseText:"",responseXML:null},e,f;try{e=a.contentWindow.document||a.contentDocument||window.frames[id].document,e&&(e.body&&(this.textAreaRe.test((f=e.body.firstChild||{}).tagName)?d.responseText=f.value:d.responseText=e.body.innerHTML),d.responseXML=e.XMLDocument||e)}catch(g){}c.fireEvent("requestcomplete",c,d,b),Ext.callback(b.success,b.scope,[d,b]),Ext.callback(b.callback,b.scope,[b,!0,d]),setTimeout(function(){Ext.removeNode(a)},100)},isFormUpload:function(a){var b=this.getForm(a);return b?a.isUpload||this.multiPartRe.test(b.getAttribute("enctype")):!1},getForm:function(a){return Ext.getDom(a.form)||null},setOptions:function(a,b){var c=this,d=a.params||{},e=c.getExtraParams(),f=a.urlParams,g=a.url||c.getUrl(),h=a.jsonData,i,j,k;return Ext.isFunction(d)&&(d=d.call(b,a)),Ext.isFunction(g)&&(g=g.call(b,a)),g=this.setupUrl(a,g),g||Ext.Logger.error("No URL specified"),k=a.rawData||a.xmlData||h||null,h&&!Ext.isPrimitive(h)&&(k=Ext.encode(k)),Ext.isObject(d)&&(d=Ext.Object.toQueryString(d)),Ext.isObject(e)&&(e=Ext.Object.toQueryString(e)),d+=e?(d?"&":"")+e:"",f=Ext.isObject(f)?Ext.Object.toQueryString(f):f,d=this.setupParams(a,d),i=(a.method||c.getMethod()||(d||k?"POST":"GET")).toUpperCase(),this.setupMethod(a,i),j=a.disableCaching!==!1?a.disableCaching||c.getDisableCaching():!1,i==="GET"&&j&&(g=Ext.urlAppend(g,(a.disableCachingParam||c.getDisableCachingParam())+"="+(new Date).getTime())),(i=="GET"||k)&&d&&(g=Ext.urlAppend(g,d),d=null),f&&(g=Ext.urlAppend(g,f)),{url:g,method:i,data:k||d||null}},setupUrl:function(a,b){var c=this.getForm(a);return c&&(b=b||c.action),b},setupParams:function(a,b){var c=this.getForm(a),d;return c&&!this.isFormUpload(a)&&(d=Ext.Element.serializeForm(c),b=b?b+"&"+d:d),b},setupMethod:function(a,b){return this.isFormUpload(a)?"POST":b},setupHeaders:function(a,b,c,d){var e=this,f=Ext.apply({},b.headers||{},e.getDefaultHeaders()||{}),g=e.getDefaultPostHeader(),h=b.jsonData,i=b.xmlData,j,k;!f["Content-Type"]&&(c||d)&&(c&&(b.rawData?g="text/plain":i&&Ext.isDefined(i)?g="text/xml":h&&Ext.isDefined(h)&&(g="application/json")),f["Content-Type"]=g),e.getUseDefaultXhrHeader()&&!f["X-Requested-With"]&&(f["X-Requested-With"]=e.getDefaultXhrHeader());try{for(j in f)f.hasOwnProperty(j)&&(k=f[j],a.setRequestHeader(j,k))}catch(l){e.fireEvent("exception",j,k)}return b.withCredentials&&(a.withCredentials=b.withCredentials),f},getXhrInstance:function(){var a=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],b=0,c=a.length,d;for(;b<c;++b)try{d=a[b],d();break}catch(e){}return d}(),isLoading:function(a){if(!a||!a.xhr)return!1;var b=a.xhr.readyState;return b!==0&&b!=4},abort:function(a){var b=this,c=b.requests,d;if(a&&b.isLoading(a))a.xhr.onreadystatechange=null,a.xhr.abort(),b.clearTimeout(a),a.timedout||(a.aborted=!0),b.onComplete(a),b.cleanup(a);else if(!a)for(d in c)c.hasOwnProperty(d)&&b.abort(c[d])},abortAll:function(){this.abort()},onStateChange:function(a){a.xhr.readyState==4&&(this.clearTimeout(a),this.onComplete(a),this.cleanup(a))},clearTimeout:function(a){clearTimeout(a.timeout),delete a.timeout},cleanup:function(a){a.xhr=null,delete a.xhr},onComplete:function(a){var b=this,c=a.options,d,e,f;try{d=b.parseStatus(a.xhr.status),a.timedout&&(d.success=!1)}catch(g){d={success:!1,isException:!1}}return e=d.success,e?(f=b.createResponse(a),b.fireEvent("requestcomplete",b,f,c),Ext.callback(c.success,c.scope,[f,c])):(d.isException||a.aborted||a.timedout?f=b.createException(a):f=b.createResponse(a),b.fireEvent("requestexception",b,f,c),Ext.callback(c.failure,c.scope,[f,c])),Ext.callback(c.callback,c.scope,[c,e,f]),delete b.requests[a.id],f},parseStatus:function(a){a=a==1223?204:a;var b=a>=200&&a<300||a==304||a==0,c=!1;if(!b)switch(a){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:c=!0}return{success:b,isException:c}},createResponse:function(a){var b=a.xhr,c={},d,e,f,g,h,i;a.timedout||a.aborted?(a.success=!1,d=[]):d=b.getAllResponseHeaders().replace(this.lineBreakRe,"\n").split("\n"),e=d.length;while(e--)f=d[e],g=f.indexOf(":"),g>=0&&(h=f.substr(0,g).toLowerCase(),f.charAt(g+1)==" "&&++g,c[h]=f.substr(g+1));return a.xhr=null,delete a.xhr,i={request:a,requestId:a.id,status:b.status,statusText:b.statusText,getResponseHeader:function(a){return c[a.toLowerCase()]},getAllResponseHeaders:function(){return c},responseText:b.responseText,responseXML:b.responseXML},b=null,i},createException:function(a){return{request:a,requestId:a.id,status:a.aborted?-1:0,statusText:a.aborted?"transaction aborted":"communication failure",aborted:a.aborted,timedout:a.timedout}}}),Ext.define("Ext.Ajax",{extend:"Ext.data.Connection",singleton:!0,autoAbort:!1}),function(){function a(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/\{(\d+)\}/g,function(a,c){return b[c]})}Ext.DateExtras={now:Date.now||function(){return+(new Date)},getElapsed:function(a,b){return Math.abs(a-(b||new Date))},useStrict:!1,formatCodeToRegex:function(c,d){var e=b.parseCodes[c];return e&&(e=typeof e=="function"?e():e,b.parseCodes[c]=e),e?Ext.applyIf({c:e.c?a(e.c,d||"{0}"):e.c},e):{g:0,c:null,s:Ext.String.escapeRegex(c)}},parseFunctions:{MS:function(a,b){var c=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),d=(a||"").match(c);return d?new Date(((d[1]||"")+d[2])*1):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(a){return b.monthNames[a].substring(0,3)},getShortDayName:function(a){return b.dayNames[a].substring(0,3)},getMonthNumber:function(a){return b.monthNumbers[a.substring(0,1).toUpperCase()+a.substring(1,3).toLowerCase()]},formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){for(var a="Y-m-dTH:i:sP",c=[],d=0,e=a.length;d<e;++d){var f=a.charAt(d);c.push(f=="T"?"'T'":b.getFormatCode(f))}return c.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(a,c,d,e,f,g,h){e=e||0,f=f||0,g=g||0,h=h||0;var i=b.add(new Date(a<100?100:a,c-1,d,e,f,g,h),b.YEAR,a<100?a-100:0);return a==i.getFullYear()&&c==i.getMonth()+1&&d==i.getDate()&&e==i.getHours()&&f==i.getMinutes()&&g==i.getSeconds()&&h==i.getMilliseconds()},parse:function(a,c,d){var e=b.parseFunctions;return e[c]==null&&b.createParser(c),e[c](a,Ext.isDefined(d)?d:b.useStrict)},parseDate:function(a,c,d){return b.parse(a,c,d)},getFormatCode:function(a){var c=b.formatCodes[a];return c&&(c=typeof c=="function"?c():c,b.formatCodes[a]=c),c||"'"+Ext.String.escape(a)+"'"},createFormat:function(a){var c=[],d=!1,e="";for(var f=0;f<a.length;++f)e=a.charAt(f),!d&&e=="\\"?d=!0:d?(d=!1,c.push("'"+Ext.String.escape(e)+"'")):c.push(b.getFormatCode(e));b.formatFunctions[a]=Ext.functionFactory("return "+c.join("+"))},createParser:function(){var c=["var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,","def = Ext.Date.defaults,","results = String(input).match(Ext.Date.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = Ext.Date.clearTime(new Date);","y = Ext.Number.from(y, Ext.Number.from(def.y, dt.getFullYear()));","m = Ext.Number.from(m, Ext.Number.from(def.m - 1, dt.getMonth()));","d = Ext.Number.from(d, Ext.Number.from(def.d, dt.getDate()));","h  = Ext.Number.from(h, Ext.Number.from(def.h, dt.getHours()));","i  = Ext.Number.from(i, Ext.Number.from(def.i, dt.getMinutes()));","s  = Ext.Number.from(s, Ext.Number.from(def.s, dt.getSeconds()));","ms = Ext.Number.from(ms, Ext.Number.from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = Ext.Date.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (Ext.Date.isLeapYear(v) && z <= 365))? Ext.Date.add(v, Ext.Date.DAY, z) : null);","}else if(strict === true && !Ext.Date.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","v = Ext.Date.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);","}","}","}","if(v){","if(zz != null){","v = Ext.Date.add(v, Ext.Date.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = Ext.Date.add(v, Ext.Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");return function(d){var e=b.parseRegexes.length,f=1,g=[],h=[],i=!1,j="";for(var k=0;k<d.length;++k){j=d.charAt(k);if(!i&&j=="\\")i=!0;else if(i)i=!1,h.push(Ext.String.escape(j));else{var l=b.formatCodeToRegex(j,f);f+=l.g,h.push(l.s),l.g&&l.c&&g.push(l.c)}}b.parseRegexes[e]=new RegExp("^"+h.join("")+"$","i"),b.parseFunctions[d]=Ext.functionFactory("input","strict",a(c,e,g.join("")))}}(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},D:function(){for(var a=[],c=0;c<7;a.push(b.getShortDayName(c)),++c);return{g:0,c:null,s:"(?:"+a.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+b.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Ext.Date.getMonthNumber(results[{0}]), 10);\n",s:"("+b.monthNames.join("|")+")"}},M:function(){for(var a=[],c=0;c<12;a.push(b.getShortMonthName(c)),++c);return Ext.applyIf({s:"("+a.join("|")+")"},b.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{2})"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{1,2})"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return b.formatCodeToRegex("Y")},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Ext.Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)"},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)"},g:function(){return b.formatCodeToRegex("G")},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},h:function(){return b.formatCodeToRegex("H")},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var a=[],c=[b.formatCodeToRegex("Y",1),b.formatCodeToRegex("m",2),b.formatCodeToRegex("d",3),b.formatCodeToRegex("h",4),b.formatCodeToRegex("i",5),b.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",b.formatCodeToRegex("P",8).c,"}else{",b.formatCodeToRegex("O",8).c,"}","}"].join("\n")}];for(var d=0,e=c.length;d<e;++d)a.push(c[d].c);return{g:1,c:a.join(""),s:[c[0].s,"(?:","-",c[1].s,"(?:","-",c[2].s,"(?:","(?:T| )?",c[3].s,":",c[4].s,"(?::",c[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(a,c){return b.format(a,c)},format:function(a,c){b.formatFunctions[c]==null&&b.createFormat(c);var d=b.formatFunctions[c].call(a);return d+""},getTimezone:function(a){return a.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(a,b){var c=a.getTimezoneOffset();return(c>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(c)/60),2,"0")+(b?":":"")+Ext.String.leftPad(Math.abs(c%60),2,"0")},getDayOfYear:function(a){var c=0,d=Ext.Date.clone(a),e=a.getMonth(),f;for(f=0,d.setDate(1),d.setMonth(0);f<e;d.setMonth(++f))c+=b.getDaysInMonth(d);return c+a.getDate()-1},getWeekOfYear:function(){var a=864e5,b=7*a;return function(c){var d=Date.UTC(c.getFullYear(),c.getMonth(),c.getDate()+3)/a,e=Math.floor(d/7),f=(new Date(e*b)).getUTCFullYear();return e-Math.floor(Date.UTC(f,0,7)/b)+1}}(),isLeapYear:function(a){var b=a.getFullYear();return(b&3)==0&&!!(b%100||b%400==0&&b)},getFirstDayOfMonth:function(a){var b=(a.getDay()-(a.getDate()-1))%7;return b<0?b+7:b},getLastDayOfMonth:function(a){return b.getLastDateOfMonth(a).getDay()},getFirstDateOfMonth:function(a){return new Date(a.getFullYear(),a.getMonth(),1)},getLastDateOfMonth:function(a){return new Date(a.getFullYear(),a.getMonth(),b.getDaysInMonth(a))},getDaysInMonth:function(){var a=[31,28,31,30,31,30,31,31,30,31,30,31];return function(c){var d=c.getMonth();return d==1&&b.isLeapYear(c)?29:a[d]}}(),getSuffix:function(a){switch(a.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(a){return new Date(a.getTime())},isDST:function(a){return(new Date(a.getFullYear(),0,1)).getTimezoneOffset()!=a.getTimezoneOffset()},clearTime:function(a,c){if(c)return Ext.Date.clearTime(Ext.Date.clone(a));var d=a.getDate();a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0);if(a.getDate()!=d){for(var e=1,f=b.add(a,Ext.Date.HOUR,e);f.getDate()!=d;e++,f=b.add(a,Ext.Date.HOUR,e));a.setDate(d),a.setHours(f.getHours())}return a},add:function(a,b,c){var d=Ext.Date.clone(a),e=Ext.Date;if(!b||c===0)return d;switch(b.toLowerCase()){case Ext.Date.MILLI:d.setMilliseconds(d.getMilliseconds()+c);break;case Ext.Date.SECOND:d.setSeconds(d.getSeconds()+c);break;case Ext.Date.MINUTE:d.setMinutes(d.getMinutes()+c);break;case Ext.Date.HOUR:d.setHours(d.getHours()+c);break;case Ext.Date.DAY:d.setDate(d.getDate()+c);break;case Ext.Date.MONTH:var f=a.getDate();f>28&&(f=Math.min(f,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(a),"mo",c)).getDate())),d.setDate(f),d.setMonth(a.getMonth()+c);break;case Ext.Date.YEAR:d.setFullYear(a.getFullYear()+c)}return d},between:function(a,b,c){var d=a.getTime();return b.getTime()<=d&&d<=c.getTime()}};var b=Ext.DateExtras;Ext.apply(Ext.Date,b),Ext.apply(Ext.util.Date,b)}(),Ext.define("Ext.util.Format",{requires:["Ext.DateExtras"],singleton:!0,defaultDateFormat:"m/d/Y",escapeRe:/('|\\)/g,trimRe:/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,formatRe:/\{(\d+)\}/g,escapeRegexRe:/([-.*+?^${}()|[\]\/\\])/g,dashesRe:/-/g,iso8601TestRe:/\d\dT\d\d/,iso8601SplitRe:/[- :T\.Z\+]/,ellipsis:function(a,b,c){if(a&&a.length>b){if(c){var d=a.substr(0,b-2),e=Math.max(d.lastIndexOf(" "),d.lastIndexOf("."),d.lastIndexOf("!"),d.lastIndexOf("?"));if(e!=-1&&e>=b-15)return d.substr(0,e)+"..."}return a.substr(0,b-3)+"..."}return a},escapeRegex:function(a){return a.replace(Ext.util.Format.escapeRegexRe,"\\$1")},escape:function(a){return a.replace(Ext.util.Format.escapeRe,"\\$1")},toggle:function(a,b,c){return a==b?c:b},trim:function(a){return a.replace(Ext.util.Format.trimRe,"")},leftPad:function(a,b,c){var d=String(a);c=c||" ";while(d.length<b)d=c+d;return d},format:function(a){var b=Ext.toArray(arguments,1);return a.replace(Ext.util.Format.formatRe,function(a,c){return b[c]})},htmlEncode:function(a){return a?String(a).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;"):a},htmlDecode:function(a){return a?String(a).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):a},date:function(a,b){var c=a;return a?(Ext.isDate(a)||(c=new Date(Date.parse(a)),isNaN(c)&&(this.iso8601TestRe.test(a)&&(c=a.split(this.iso8601SplitRe),c=new Date(c[0],c[1]-1,c[2],c[3],c[4],c[5])),isNaN(c)&&(c=new Date(Date.parse(a.replace(this.dashesRe,"/"))),isNaN(c)&&Ext.Logger.error("Cannot parse the passed value "+a+" into a valid date"))),a=c),Ext.Date.format(a,b||Ext.util.Format.defaultDateFormat)):""}}),Ext.define("Ext.Template",{requires:["Ext.dom.Helper","Ext.util.Format"],inheritableStatics:{from:function(a,b){return a=Ext.getDom(a),new this(a.value||a.innerHTML,b||"")}},constructor:function(a){var b=this,c=arguments,d=[],e=0,f=c.length,g;b.initialConfig={};if(f>1){for(;e<f;e++)g=c[e],typeof g=="object"?(Ext.apply(b.initialConfig,g),Ext.apply(b,g)):d.push(g);a=d.join("")}else Ext.isArray(a)?d.push(a.join("")):d.push(a);b.html=d.join(""),b.compiled&&b.compile()},isTemplate:!0,disableFormats:!1,re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,apply:function(a){function g(b,f,g,h){return g&&c?(h?h=[a[f]].concat(Ext.functionFactory("return ["+h+"];")()):h=[a[f]],g.substr(0,5)=="this."?e[g.substr(5)].apply(e,h):d[g].apply(d,h)):a[f]!==undefined?a[f]:""}var b=this,c=b.disableFormats!==!0,d=Ext.util.Format,e=b,f;return b.compiled?b.compiled(a).join(""):(f=b.html.replace(b.re,g),f)},applyOut:function(a,b){var c=this;return c.compiled?b.push.apply(b,c.compiled(a)):b.push(c.apply(a)),b},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(a,b){var c=this;return c.html=a,c.compiled=null,b?c.compile():c},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){function fn(a,b,c,d){return c&&useFormat?(d=d?","+d:"",c.substr(0,5)!="this."?c="fm."+c+"(":c="this."+c.substr(5)+"("):(d="",c="(values['"+b+"'] == undefined ? '' : "),"',"+c+"values['"+b+"']"+d+") ,'"}var me=this,fm=Ext.util.Format,useFormat=me.disableFormats!==!0,body,bodyReturn;return bodyReturn=me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn),body="this.compiled = function(values){ return ['"+bodyReturn+"'];};",eval(body),me},insertFirst:function(a,b,c){return this.doInsert("afterBegin",a,b,c)},insertBefore:function(a,b,c){return this.doInsert("beforeBegin",a,b,c)},insertAfter:function(a,b,c){return this.doInsert("afterEnd",a,b,c)},append:function(a,b,c){return this.doInsert("beforeEnd",a,b,c)},doInsert:function(a,b,c,d){b=Ext.getDom(b);var e=Ext.DomHelper.insertHtml(a,b,this.apply(c));return d?Ext.get(e,!0):e},overwrite:function(a,b,c){return a=Ext.getDom(a),a.innerHTML=this.apply(b),c?Ext.get(a.firstChild,!0):a.firstChild}}),Ext.define("Ext.XTemplate",{extend:"Ext.Template",requires:"Ext.XTemplateCompiler",apply:function(a){return this.applyOut(a,[]).join("")},applyOut:function(a,b){var c=this,d;c.fn||(d=new Ext.XTemplateCompiler({useFormat:c.disableFormats!==!0}),c.fn=d.compile(c.html));try{c.fn.call(c,b,a,{},1,1)}catch(e){Ext.Logger.error(e.message)}return b},compile:function(){return this},statics:{getTpl:function(a,b){var c=a[b],d;if(c&&!c.isTemplate){c=Ext.ClassManager.dynInstantiate("Ext.XTemplate",c);if(a.hasOwnProperty(b))a[b]=c;else for(d=a.self.prototype;d;d=d.superclass)if(d.hasOwnProperty(b)){d[b]=c;break}}return c||null}}}),Ext.define("Ext.util.SizeMonitor",{extend:"Ext.Evented",config:{element:null,detectorCls:Ext.baseCSSPrefix+"size-change-detector",callback:Ext.emptyFn,scope:null,args:[]},constructor:function(a){this.initConfig(a),this.doFireSizeChangeEvent=Ext.Function.bind(this.doFireSizeChangeEvent,this);var b=this,c=this.getElement().dom,d=this.getDetectorCls(),e=Ext.Element.create({classList:[d,d+"-expand"],children:[{}]},!0),f=Ext.Element.create({classList:[d,d+"-shrink"],children:[{}]},!0),g=function(a){b.onDetectorScroll("expand",a)},h=function(a){b.onDetectorScroll("shrink",a)};c.appendChild(e),c.appendChild(f),this.detectors={expand:e,shrink:f},this.position={expand:{left:0,top:0},shrink:{left:0,top:0}},this.listeners={expand:g,shrink:h},this.refresh(),e.addEventListener("scroll",g,!0),f.addEventListener("scroll",h,!0)},applyElement:function(a){if(a)return Ext.get(a)},refreshPosition:function(a){var b=this.detectors[a],c=this.position[a],d,e;c.left=d=b.scrollWidth-b.offsetWidth,c.top=e=b.scrollHeight-b.offsetHeight,b.scrollLeft=d,b.scrollTop=e},refresh:function(){this.refreshPosition("expand"),this.refreshPosition("shrink")},onDetectorScroll:function(a){var b=this.detectors[a],c=this.position[a];if(b.scrollLeft!==c.left||b.scrollTop!==c.top)this.refresh(),this.fireSizeChangeEvent()},fireSizeChangeEvent:function(){clearTimeout(this.sizeChangeThrottleTimer),this.sizeChangeThrottleTimer=setTimeout(this.doFireSizeChangeEvent,1)},doFireSizeChangeEvent:function(){this.getCallback().apply(this.getScope(),this.getArgs())},destroyDetector:function(a){var b=this.detectors[a],c=this.listeners[a];b.removeEventListener("scroll",c,!0),Ext.removeNode(b)},destroy:function(){this.callParent(arguments),this.destroyDetector("expand"),this.destroyDetector("shrink"),delete this.listeners,delete this.detectors}}),Ext.define("Ext.fx.animation.Abstract",{extend:"Ext.Evented",isAnimation:!0,requires:["Ext.fx.State"],config:{name:"",element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:"linear",iteration:1,direction:"normal",delay:0,onBeforeStart:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:!1,replacePrevious:!0},STATE_FROM:"0%",STATE_TO:"100%",DIRECTION_UP:"up",DIRECTION_DOWN:"down",DIRECTION_LEFT:"left",DIRECTION_RIGHT:"right",stateNameRegex:/^(?:[\d\.]+)%$/,constructor:function(){return this.states={},this.callParent(arguments),this},applyElement:function(a){return Ext.get(a)},applyBefore:function(a,b){if(a)return Ext.factory(a,Ext.fx.State,b)},applyAfter:function(a,b){if(a)return Ext.factory(a,Ext.fx.State,b)},setFrom:function(a){return this.setState(this.STATE_FROM,a)},setTo:function(a){return this.setState(this.STATE_TO,a)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(a){var b=this.stateNameRegex,c;for(c in a)b.test(c)&&this.setState(c,a[c]);return this},getStates:function(){return this.states},setState:function(a,b){var c=this.getStates(),d;return d=Ext.factory(b,Ext.fx.State,c[a]),d?c[a]=d:a===this.STATE_TO&&Ext.Logger.error("Setting and invalid '100%' / 'to' state of: "+b),this},getState:function(a){return this.getStates()[a]},getData:function(){var a=this.getStates(),b={},c=this.getBefore(),d=this.getAfter(),e=a[this.STATE_FROM],f=a[this.STATE_TO],g=e.getData(),h=f.getData(),i,j,k;for(j in a)a.hasOwnProperty(j)&&(k=a[j],i=k.getData(),b[j]=i);return Ext.os.is.Android2&&(b["0.0001%"]=g),{before:c?c.getData():{},after:d?d.getData():{},states:b,from:g,to:h,duration:this.getDuration(),iteration:this.getIteration(),direction:this.getDirection(),easing:this.getEasing(),delay:this.getDelay(),onEnd:this.getOnEnd(),onBeforeEnd:this.getOnBeforeEnd(),onBeforeStart:this.getOnBeforeStart(),scope:this.getScope(),preserveEndState:this.getPreserveEndState(),replacePrevious:this.getReplacePrevious()}}}),Ext.define("Ext.fx.animation.Slide",{extend:"Ext.fx.animation.Abstract",alternateClassName:"Ext.fx.animation.SlideIn",alias:["animation.slide","animation.slideIn"],config:{direction:"left",out:!1,offset:0,easing:"auto",containerBox:"auto",elementBox:"auto",isElementBoxFit:!0,useCssTransform:!0},reverseDirectionMap:{up:"down",down:"up",left:"right",right:"left"},applyEasing:function(a){return a==="auto"?"ease-"+(this.getOut()?"in":"out"):a},getContainerBox:function(){var a=this._containerBox;return a==="auto"&&(a=this.getElement().getParent().getPageBox()),a},getElementBox:function(){var a=this._elementBox;return this.getIsElementBoxFit()?this.getContainerBox():(a==="auto"&&(a=this.getElement().getPageBox()),a)},getData:function(){var a=this.getElementBox(),b=this.getContainerBox(),c=a?a:b,d=this.getFrom(),e=this.getTo(),f=this.getOut(),g=this.getOffset(),h=this.getDirection(),i=this.getUseCssTransform(),j=this.getReverse(),k=0,l=0,m,n,o,p;j&&(h=this.reverseDirectionMap[h]);switch(h){case this.DIRECTION_UP:f?l=b.top-c.top-c.height-g:l=b.bottom-c.bottom+c.height+g;break;case this.DIRECTION_DOWN:f?l=b.bottom-c.bottom+c.height+g:l=b.top-c.height-c.top-g;break;case this.DIRECTION_RIGHT:f?k=b.right-c.right+c.width+g:k=b.left-c.left-c.width-g;break;case this.DIRECTION_LEFT:f?k=b.left-c.left-c.width-g:k=b.right-c.right+c.width+g}return m=f?0:k,n=f?0:l,i?d.setTransform({translateX:m,translateY:n}):(d.set("left",m),d.set("top",n)),o=f?k:0,p=f?l:0,i?e.setTransform({translateX:o,translateY:p}):(e.set("left",o),e.set("top",p)),this.callParent(arguments)}}),Ext.define("Ext.fx.animation.SlideOut",{extend:"Ext.fx.animation.Slide",alias:["animation.slideOut"],config:{out:!0}}),Ext.define("Ext.fx.animation.Fade",{extend:"Ext.fx.animation.Abstract",alternateClassName:"Ext.fx.animation.FadeIn",alias:["animation.fade","animation.fadeIn"],config:{out:!1,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(a){var b=this.getTo(),c=this.getFrom();a?(c.set("opacity",1),b.set("opacity",0)):(c.set("opacity",0),b.set("opacity",1))}}),Ext.define("Ext.fx.animation.FadeOut",{extend:"Ext.fx.animation.Fade",alias:"animation.fadeOut",config:{out:!0,before:{}}}),Ext.define("Ext.fx.animation.Flip",{extend:"Ext.fx.animation.Abstract",alias:"animation.flip",config:{easing:"ease-in",direction:"right",half:!1,out:null},getData:function(){var a=this.getFrom(),b=this.getTo(),c=this.getDirection(),d=this.getOut(),e=this.getHalf(),f=e?90:180,g=1,h=1,i=0,j=0,k=0,l=0;d?h=.8:g=.8;switch(c){case this.DIRECTION_UP:d?k=f:i=-f;break;case this.DIRECTION_DOWN:d?k=-f:i=f;break;case this.DIRECTION_RIGHT:d?l=-f:j=f;break;case this.DIRECTION_LEFT:d?l=-f:j=f}return a.setTransform({rotateX:i,rotateY:j,scale:g}),b.setTransform({rotateX:k,rotateY:l,scale:h}),this.callParent(arguments)}}),Ext.define("Ext.fx.animation.Pop",{extend:"Ext.fx.animation.Abstract",alias:["animation.pop","animation.popIn"],alternateClassName:"Ext.fx.animation.PopIn",config:{out:!1,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var a=this.getTo(),b=this.getFrom(),c=this.getOut();return c?(b.set("opacity",1),b.setTransform({scale:1}),a.set("opacity",0),a.setTransform({scale:0})):(b.set("opacity",0),b.setTransform({scale:0}),a.set("opacity",1),a.setTransform({scale:1})),this.callParent(arguments)}}),Ext.define("Ext.fx.animation.PopOut",{extend:"Ext.fx.animation.Pop",alias:"animation.popOut",config:{out:!0,before:{}}}),Ext.define("Ext.fx.Animation",{requires:["Ext.fx.animation.Slide","Ext.fx.animation.SlideOut","Ext.fx.animation.Fade","Ext.fx.animation.FadeOut","Ext.fx.animation.Flip","Ext.fx.animation.Pop","Ext.fx.animation.PopOut"],constructor:function(a){var b=Ext.fx.animation.Abstract,c;return typeof a=="string"?(c=a,a={}):a&&a.type&&(c=a.type),c&&(Ext.os.is.Android2&&(c=="pop"&&(c="fade"),c=="popIn"&&(c="fadeIn"),c=="popOut"&&(c="fadeOut")),b=Ext.ClassManager.getByAlias("animation."+c),b||Ext.Logger.error("Invalid animation type of: '"+c+"'")),Ext.factory(a,b)}}),Ext.define("Ext.data.reader.Reader",{requires:["Ext.data.ResultSet"],alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],mixins:["Ext.mixin.Observable"],isReader:!0,config:{idProperty:undefined,clientIdProperty:"clientId",totalProperty:"total",successProperty:"success",messageProperty:null,rootProperty:"",implicitIncludes:!0,model:undefined},constructor:function(a){this.initConfig(a)},fieldCount:0,applyModel:function(a){return typeof a=="string"&&(a=Ext.data.ModelManager.getModel(a),a||Ext.Logger.error("Model with name "+arguments[0]+" doesnt exist.")),a&&!a.prototype.isModel&&Ext.isObject(a)&&(a=Ext.data.ModelManager.registerType(a.storeId||a.id||Ext.id(),a)),a},applyIdProperty:function(a){return!a&&this.getModel()&&(a=this.getModel().getIdProperty()),a},updateModel:function(a){a&&(this.getIdProperty()||this.setIdProperty(a.getIdProperty()),this.buildExtractors())},createAccessor:Ext.emptyFn,createFieldAccessExpression:function(){return"undefined"},buildExtractors:function(){if(!this.getModel())return;var a=this,b=a.getTotalProperty(),c=a.getSuccessProperty(),d=a.getMessageProperty();b&&(a.getTotal=a.createAccessor(b)),c&&(a.getSuccess=a.createAccessor(c)),d&&(a.getMessage=a.createAccessor(d)),a.extractRecordData=a.buildRecordDataExtractor()},buildRecordDataExtractor:function(){var a=this,b=a.getModel(),c=b.getFields(),d=c.length,e=[],f=a.getModel().getClientIdProperty(),g="__field",h=["var me = this,\n","    fields = me.getModel().getFields(),\n","    idProperty = me.getIdProperty(),\n",'    idPropertyIsFn = (typeof idProperty == "function"),',"    value,\n","    internalId"],i,j,k,l;c=c.items;for(i=0;i<d;i++)j=c[i],l=j.getName(),l===b.getIdProperty()?e[i]="idField":e[i]=g+i,h.push(",\n    ",e[i],' = fields.get("',j.getName(),'")');h.push(";\n\n    return function(source) {\n        var dest = {};\n"),h.push("        if (idPropertyIsFn) {\n"),h.push("            idField.setMapping(idProperty);\n"),h.push("        }\n");for(i=0;i<d;i++)j=c[i],k=e[i],l=j.getName(),l===b.getIdProperty()&&j.getMapping()===null&&b.getIdProperty()!==this.getIdProperty()&&j.setMapping(this.getIdProperty()),h.push("        try {\n"),h.push("            value = ",a.createFieldAccessExpression(j,k,"source"),";\n"),h.push("            if (value !== undefined) {\n"),h.push('                dest["'+j.getName()+'"] = value;\n'),h.push("            }\n"),h.push("        } catch(e){}\n");return f&&(h.push("        internalId = "+a.createFieldAccessExpression(Ext.create("Ext.data.Field",{name:f}),null,"source")+";\n"),h.push("        if (internalId !== undefined) {\n"),h.push('            dest["_clientId"] = internalId;\n        }\n')),h.push("        return dest;\n"),h.push("    };"),Ext.functionFactory(h.join("")).call(a)},getFields:function(){return this.getModel().getFields().items},getData:function(a){return a},getResponseData:function(a){return a},getRoot:function(a){return a},read:function(a){var b=a,c=this.getModel(),d,e,f,g,h;a&&(b=this.getResponseData(a));if(b){d=this.readRecords(b),e=d.getRecords();for(f=0,g=e.length;f<g;f++)h=e[f],e[f]=new c(h.data,h.id,h.node);return d}return this.nullResultSet},process:function(a){var b=a;return a&&(b=this.getResponseData(a)),b?this.readRecords(b):this.nullResultSet},readRecords:function(a){var b=this;b.rawData=a,a=b.getData(a),a.metaData&&b.onMetaChange(a.metaData),b.getModel()||Ext.Logger.warn("In order to read record data, a Reader needs to have a Model defined on it.");var c=Ext.isArray(a)?a:b.getRoot(a),d=!0,e=0,f,g,h,i;b.getTotalProperty()&&(g=parseInt(b.getTotal(a),10),isNaN(g)||(f=g));if(b.getSuccessProperty()){g=b.getSuccess(a);if(g===!1||g==="false")d=!1}return b.getMessageProperty()&&(i=b.getMessage(a)),c?(h=b.extractData(c),e=h.length):(e=0,h=[]),new Ext.data.ResultSet({total:f,count:e,records:h,success:d,message:i})},extractData:function(a){var b=this,c=[],d=a.length,e=b.getModel(),f=e.getIdProperty(),g=e.getFields(),h,i,j,k,l;g.isDirty&&(b.buildExtractors(!0),delete g.isDirty),!a.length&&Ext.isObject(a)&&(a=[a],d=1);for(i=0;i<d;i++)l=null,k=null,h=a[i],h.isModel?j=h.data:j=b.extractRecordData(h),j._clientId!==undefined&&(l=j._clientId,delete j._clientId),j[f]!==undefined&&(k=j[f]),b.getImplicitIncludes()&&b.readAssociated(j,h),c.push({clientId:l,id:k,data:j,node:h});return c},readAssociated:function(a,b){var c=this.getModel().associations.items,d=0,e=c.length,f,g,h;for(;d<e;d++)f=c[d],h=f.getAssociationKey(),g=this.getAssociatedDataRoot(b,h),g&&(a[h]=g)},getAssociatedDataRoot:function(a,b){return a[b]},onMetaChange:function(a){var b=a.fields,c=this,d,e,f;c.metaData=a,a.rootProperty!==undefined?c.setRootProperty(a.rootProperty):a.root!==undefined&&c.setRootProperty(a.root),a.idProperty!==undefined&&c.setIdProperty(a.idProperty),a.totalProperty!==undefined&&c.setTotalProperty(a.totalProperty),a.successProperty!==undefined&&c.setSuccessProperty(a.successProperty),a.messageProperty!==undefined&&c.setMessageProperty(a.messageProperty),b?c.getModel()?(c.getModel().setFields(b),c.buildExtractors()):(f=c.getIdProperty(),e={fields:b},f&&(e.idProperty=f),d=Ext.define("Ext.data.reader.MetaModel"+Ext.id(),{extend:"Ext.data.Model",config:e}),c.setModel(d)):c.buildExtractors()},onClassExtended:function(a,b,c){var d=this,e=d.prototype.config,f=b.config||{},g;for(g in e)g in b&&(f[g]=b[g],delete b[g],Ext.Logger.deprecate(g+" is deprecated as a property directly on the Reader prototype. "+"Please put it inside the config object."));b.config=f}},function(){Ext.apply(this.prototype,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!1})}),this.override({constructor:function(a){a=a||{},a.root&&(Ext.Logger.deprecate("root has been deprecated as a configuration on Reader. Please use rootProperty instead."),a.rootProperty=a.root,delete a.root),this.callOverridden([a])}})}),Ext.define("Ext.data.reader.Json",{extend:"Ext.data.reader.Reader",alternateClassName:"Ext.data.JsonReader",alias:"reader.json",config:{record:null,useSimpleAccessors:!1},objectRe:/[\[\.]/,getResponseData:function(a){var b=a;a&&a.responseText&&(b=a.responseText);if(typeof b!="string")return b;var c;try{c=Ext.decode(b)}catch(d){this.fireEvent("exception",this,a,"Unable to parse the JSON returned by the server: "+d.toString()),Ext.Logger.warn("Unable to parse the JSON returned by the server: "+d.toString())}return c||(this.fireEvent("exception",this,a,"JSON object not found"),Ext.Logger.error("JSON object not found")),c},buildExtractors:function(){var a=this,b=a.getRootProperty();a.callParent(arguments),b?a.rootAccessor=a.createAccessor(b):delete a.rootAccessor},getRoot:function(a){var b=this.getModel().getFields();return b.isDirty&&(this.buildExtractors(!0),delete b.isDirty),this.rootAccessor?this.rootAccessor.call(this,a):a},extractData:function(a){var b=this.getRecord(),c=[],d,e;if(b){d=a.length,!d&&Ext.isObject(a)&&(d=1,a=[a]);for(e=0;e<d;e++)c[e]=a[e][b]}else c=a;return this.callParent([c])},createAccessor:function(){var a=/[\[\.]/;return function(b){if(Ext.isEmpty(b))return Ext.emptyFn;if(Ext.isFunction(b))return b;if(this.getUseSimpleAccessors()!==!0){var c=String(b).search(a);if(c>=0)return Ext.functionFactory("obj","var value; try {value = obj"+(c>0?".":"")+b+"} catch(e) {}; return value;")}return function(a){return a[b]}}}(),createFieldAccessExpression:function(a,b,c){var d=this,e=d.objectRe,f=a.getMapping()!==null,g=f?a.getMapping():a.getName(),h,i;if(typeof g=="function")h=b+".getMapping()("+c+", this)";else if(d.getUseSimpleAccessors()===!0||(i=String(g).search(e))<0){if(!f||isNaN(g))g='"'+g+'"';h=c+"["+g+"]"}else h=c+(i>0?".":"")+g;return h}}),Ext.define("Ext.data.proxy.Proxy",{extend:"Ext.Evented",alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],requires:["Ext.data.reader.Json","Ext.data.writer.Json","Ext.data.Batch","Ext.data.Operation"],config:{batchOrder:"create,update,destroy",batchActions:!0,model:null,reader:{type:"json"},writer:{type:"json"}},isProxy:!0,applyModel:function(a){return typeof a=="string"&&(a=Ext.data.ModelManager.getModel(a),a||Ext.Logger.error("Model with name "+arguments[0]+" doesnt exist.")),a&&!a.prototype.isModel&&Ext.isObject(a)&&(a=Ext.data.ModelManager.registerType(a.storeId||a.id||Ext.id(),a)),a},updateModel:function(a){if(a){var b=this.getReader();b&&!b.getModel()&&b.setModel(a)}},applyReader:function(a,b){return Ext.factory(a,Ext.data.Reader,b,"reader")},updateReader:function(a){if(a){var b=this.getModel();b?a.setModel(b):(b=a.getModel(),b&&this.setModel(b)),a.onMetaChange&&(a.onMetaChange=Ext.Function.createSequence(a.onMetaChange,this.onMetaChange,this))}},onMetaChange:function(a){var b=this.getReader().getModel();!this.getModel()&&b&&this.setModel(b),this.fireEvent("metachange",this,a)},applyWriter:function(a,b){return Ext.factory(a,Ext.data.Writer,b,"writer")},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.getReader(),this.getWriter())},batch:function(a,b){var c=this,d=c.getBatchActions(),e=this.getModel(),f,g;return a.operations===undefined&&(a={operations:a,batch:{listeners:b}},Ext.Logger.deprecate("Passes old-style signature to Proxy.batch (operations, listeners). Please convert to single options argument syntax.")),a.batch?a.batch.isBatch?a.batch.setProxy(c):a.batch.proxy=c:a.batch={proxy:c,listeners:a.listeners||{}},f||(f=new Ext.data.Batch(a.batch)),f.on("complete",Ext.bind(c.onBatchComplete,c,[a],0)),Ext.each(c.getBatchOrder().split(","),function(b){g=a.operations[b],g&&(d?f.add(new Ext.data.Operation({action:b,records:g,model:e})):Ext.each(g,function(a){f.add(new Ext.data.Operation({action:b,records:[a],model:e}))}))},c),f.start(),f},onBatchComplete:function(a,b){var c=a.scope||this;b.hasException?Ext.isFunction(a.failure)&&Ext.callback(a.failure,c,[b,a]):Ext.isFunction(a.success)&&Ext.callback(a.success,c,[b,a]),Ext.isFunction(a.callback)&&Ext.callback(a.callback,c,[b,a])},onClassExtended:function(a,b){var c=this.prototype,d=c.config,e=b.config||{},f;for(f in d)f!="control"&&f in b&&(e[f]=b[f],delete b[f],Ext.Logger.warn(f+" is deprecated as a property directly on the "+this.$className+" prototype. Please put it inside the config object."));b.config=e}},function(){}),Ext.define("Ext.data.proxy.Client",{extend:"Ext.data.proxy.Proxy",alternateClassName:"Ext.proxy.ClientProxy",clear:function(){Ext.Logger.error("The Ext.data.proxy.Client subclass that you are using has not defined a 'clear' function. See src/data/ClientProxy.js for details.")}}),Ext.define("Ext.data.proxy.Memory",{extend:"Ext.data.proxy.Client",alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",isMemoryProxy:!0,config:{data:[]},finishOperation:function(a,b,c){if(a){var d=0,e=a.getRecords(),f=e.length;for(d;d<f;d++)e[d].commit();a.setSuccessful(),Ext.callback(b,c||this,[a])}},create:function(){this.finishOperation.apply(this,arguments)},update:function(){this.finishOperation.apply(this,arguments)},destroy:function(){this.finishOperation.apply(this,arguments)},read:function(a,b,c){var d=this,e=d.getReader();a.process("read",e.process(d.getData()))===!1&&this.fireEvent("exception",this,null,a),Ext.callback(b,c||d,[a])},clear:Ext.emptyFn}),Ext.define("Ext.data.proxy.Server",{extend:"Ext.data.proxy.Proxy",alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",requires:["Ext.data.Request"],config:{url:null,pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",sortParam:"sort",filterParam:"filter",directionParam:"dir",enablePagingParams:!0,simpleSortMode:!1,noCache:!0,cacheString:"_dc",timeout:3e4,api:{create:undefined,read:undefined,update:undefined,destroy:undefined},extraParams:{}},constructor:function(a){a=a||{},a.nocache!==undefined&&(a.noCache=a.nocache,Ext.Logger.warn("nocache configuration on Ext.data.proxy.Server has been deprecated. Please use noCache.")),this.callParent([a])},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(a,b){this.getExtraParams()[a]=b},buildRequest:function(a){var b=this,c=Ext.applyIf(a.getParams()||{},b.getExtraParams()||{}),d;return c=Ext.applyIf(c,b.getParams(a)),d=Ext.create("Ext.data.Request",{params:c,action:a.getAction(),records:a.getRecords(),url:a.getUrl(),operation:a,proxy:b}),d.setUrl(b.buildUrl(d)),a.setRequest(d),d},processResponse:function(a,b,c,d,e,f){var g=this,h=b.getAction(),i,j;if(a===!0){i=g.getReader();try{j=i.process(d)}catch(k){b.setException(k.message),g.fireEvent("exception",this,d,b);return}b.getModel()||b.setModel(this.getModel()),b.process(h,j,c,d)===!1&&this.fireEvent("exception",this,d,b)}else g.setException(b,d),g.fireEvent("exception",this,d,b);typeof e=="function"&&e.call(f||g,b),g.afterRequest(c,a)},setException:function(a,b){a.setException({status:b.status,statusText:b.statusText})},applyEncoding:function(a){return Ext.encode(a)},encodeSorters:function(a){var b=[],c=a.length,d=0;for(;d<c;d++)b[d]={property:a[d].getProperty(),direction:a[d].getDirection()};return this.applyEncoding(b)},encodeFilters:function(a){var b=[],c=a.length,d=0;for(;d<c;d++)b[d]={property:a[d].getProperty(),value:a[d].getValue()};return this.applyEncoding(b)},getParams:function(a){var b=this,c={},d=a.getGrouper(),e=a.getSorters(),f=a.getFilters(),g=a.getPage(),h=a.getStart(),i=a.getLimit(),j=b.getSimpleSortMode(),k=b.getPageParam(),l=b.getStartParam(),m=b.getLimitParam(),n=b.getGroupParam(),o=b.getSortParam(),p=b.getFilterParam(),q=b.getDirectionParam();return b.getEnablePagingParams()&&(k&&g!==null&&(c[k]=g),l&&h!==null&&(c[l]=h),m&&i!==null&&(c[m]=i)),n&&d&&(c[n]=b.encodeSorters([d])),o&&e&&e.length>0&&(j?(c[o]=e[0].getProperty(),c[q]=e[0].getDirection()):c[o]=b.encodeSorters(e)),p&&f&&f.length>0&&(c[p]=b.encodeFilters(f)),c},buildUrl:function(a){var b=this,c=b.getUrl(a);return c||Ext.Logger.error("You are using a ServerProxy but have not supplied it with a url."),b.getNoCache()&&(c=Ext.urlAppend(c,Ext.String.format("{0}={1}",b.getCacheString(),Ext.Date.now()))),c},getUrl:function(a){return a?a.getUrl()||this.getApi()[a.getAction()]||this._url:this._url},doRequest:function(a,b,c){Ext.Logger.error("The doRequest function has not been implemented on your Ext.data.proxy.Server subclass. See src/data/ServerProxy.js for details")},afterRequest:Ext.emptyFn}),Ext.define("Ext.data.proxy.Ajax",{extend:"Ext.data.proxy.Server",requires:["Ext.util.MixedCollection","Ext.Ajax"],alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],config:{actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},headers:{},withCredentials:!1},doRequest:function(a,b,c){var d=this.getWriter(),e=this.buildRequest(a);return e.setConfig({headers:this.getHeaders(),timeout:this.getTimeout(),method:this.getMethod(e),callback:this.createRequestCallback(e,a,b,c),scope:this}),(a.getWithCredentials()||this.getWithCredentials())&&e.setWithCredentials(!0),e=d.write(e),Ext.Ajax.request(e.getCurrentConfig()),e},getMethod:function(a){return this.getActionMethods()[a.getAction()]},createRequestCallback:function(a,b,c,d){var e=this;return function(f,g,h){e.processResponse(g,b,a,h,c,d)}}}),Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",mixins:{observable:"Ext.mixin.Observable"},isModel:!0,requires:["Ext.util.Collection","Ext.data.Field","Ext.data.identifier.Simple","Ext.data.ModelManager","Ext.data.proxy.Ajax","Ext.data.association.HasMany","Ext.data.association.BelongsTo","Ext.data.association.HasOne","Ext.data.Errors"],config:{idProperty:"id",data:null,fields:undefined,validations:null,associations:null,hasMany:null,hasOne:null,belongsTo:null,proxy:null,identifier:{type:"simple"},clientIdProperty:"clientId",isErased:!1},staticConfigs:["idProperty","fields","validations","associations","hasMany","hasOne","belongsTo","clientIdProperty","identifier","proxy"],statics:{EDIT:"edit",REJECT:"reject",COMMIT:"commit",generateProxyMethod:function(a){return function(){var b=this.prototype;return b[a].apply(b,arguments)}},generateCacheId:function(a,b){var c;return a&&a.isModel?(c=a.modelName,b===undefined&&(b=a.getId())):c=a,c.replace(/\./g,"-").toLowerCase()+"-"+b}},inheritableStatics:{load:function(a,b,c){var d=this.getProxy(),e=this.getIdProperty(),f=null,g={},h,i;c=c||b&&b.scope||this,Ext.isFunction(b)&&(b={callback:b,scope:c}),g[e]=a,b=Ext.apply({},b),b=Ext.applyIf(b,{action:"read",params:g,model:this}),i=Ext.create("Ext.data.Operation",b),d||Ext.Logger.error("You are trying to load a model that doesn't have a Proxy specified"),h=function(a){a.wasSuccessful()?(f=a.getRecords()[0],Ext.callback(b.success,c,[f,a])):Ext.callback(b.failure,c,[f,a]),Ext.callback(b.callback,c,[f,a])},d.read(i,h,this)}},editing:!1,dirty:!1,phantom:!1,constructor:function(a,b,c,d){var e=this,f=null,g=this.getIdProperty();e.modified={},e.raw=c||a||{},e.stores=[],a=a||d||{};if(b||b===0)a[g]=e.internalId=b;b=e.data[g];if(b||b===0){f=Ext.data.Model.cache.get(Ext.data.Model.generateCacheId(this,b));if(f)return f.mergeData(d||a||{})}d?e.setConvertedData(a):e.setData(a),b=e.data[g],!b&&b!==0?(e.data[g]=e.internalId=e.id=e.getIdentifier().generate(e),e.phantom=!0,this.associations.length&&this.handleInlineAssociationData(a)):e.id=e.getIdentifier().generate(e),Ext.data.Model.cache.add(e),this.init&&typeof this.init=="function"&&this.init()},mergeData:function(a){var b=this,c=b.getFields().items,d=c.length,e=b.data,f,g,h,i,j;for(f=0;f<d;f++)g=c[f],h=g.getName(),j=g.getConvert(),i=a[h],i!==undefined&&!b.isModified(h)&&(j&&(i=j.call(g,i,b)),e[h]=i);return this},setData:function(a){var b=this.fields.items,c=b.length,d=Ext.isArray(a),e=this._data=this.data={},f,g,h,i,j,k;if(!a)return this;for(f=0;f<c;f++)g=b[f],h=g.getName(),j=g.getConvert(),d?i=a[f]:(i=a[h],typeof i=="undefined"&&(i=g.getDefaultValue())),j&&(i=j.call(g,i,this)),e[h]=i;return k=this.getId(),this.associations.length&&(k||k===0)&&this.handleInlineAssociationData(a),this},handleInlineAssociationData:function(a){var b=this.associations.items,c=b.length,d,e,f,g,h,i;for(d=0;d<c;d++)e=b[d],i=e.getAssociationKey(),f=a[i],f&&(g=e.getReader(),g||(h=e.getAssociatedModel().getProxy(),h?g=h.getReader():g=new Ext.data.JsonReader({model:e.getAssociatedModel()})),e.read(this,g,f))},setId:function(a){var b=this.getId();this.set(this.getIdProperty(),a),this.internalId=a,Ext.data.Model.cache.replace(b,this)},getId:function(){return this.get(this.getIdProperty())},setConvertedData:function(a){return this._data=this.data=a,this},get:function(a){return this.data[a]},set:function(a,b){var c=this,d=c.fields.map,e=c.modified,f=!c.editing,g=c.associations.items,h=0,i=[],j,k,l,m,n,o;if(arguments.length==1){for(k in a)if(a.hasOwnProperty(k)){j=d[k];if(j&&j.hasCustomConvert()){i.push(k);continue}!h&&f&&c.beginEdit(),++h,c.set(k,a[k])}n=i.length;if(n){!h&&f&&c.beginEdit(),h+=n;for(l=0;l<n;l++)j=i[l],c.set(j,a[j])}f&&h&&c.endEdit(!1,i)}else{j=d[a],o=j&&j.getConvert(),o&&(b=o.call(j,b,c)),m=c.data[a],c.data[a]=b;if(j&&!c.isEqual(m,b))if(e.hasOwnProperty(a)){if(c.isEqual(e[a],b)){delete e[a],c.dirty=!1;for(k in e)if(e.hasOwnProperty(k)){c.dirty=!0;break}}}else c.dirty=!0,e[a]=m;f&&c.afterEdit([a],e)}},isEqual:function(a,b){return Ext.isDate(a)&&Ext.isDate(b)?a.getTime()===b.getTime():a===b},beginEdit:function(){var a=this;a.editing||(a.editing=!0,a.dirtySave=a.dirty,a.dataSave=Ext.apply({},a.data),a.modifiedSave=Ext.apply({},a.modified))},cancelEdit:function(){var a=this;a.editing&&(a.editing=!1,a.modified=a.modifiedSave,a.data=a.dataSave,a.dirty=a.dirtySave,delete a.modifiedSave,delete a.dataSave,delete a.dirtySave)},endEdit:function(a,b){var c=this;c.editing&&(c.editing=!1,a!==!0&&c.changedWhileEditing()&&c.afterEdit(b||Ext.Object.getKeys(this.modified),this.modified),delete c.modifiedSave,delete c.dataSave,delete c.dirtySave)},changedWhileEditing:function(){var a=this,b=a.dataSave,c=a.data,d;for(d in c)if(c.hasOwnProperty(d)&&!a.isEqual(c[d],b[d]))return!0;return!1},getChanges:function(){var a=this.modified,b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=this.get(c));return b},isModified:function(a){return this.modified.hasOwnProperty(a)},save:function(a,b){var c=this,d=c.phantom?"create":"update",e=c.getProxy(),f,g;return e||Ext.Logger.error("You are trying to save a model instance that doesn't have a Proxy specified"),a=a||{},b=b||c,Ext.isFunction(a)&&(a={callback:a,scope:b}),Ext.applyIf(a,{records:[c],action:d,model:c.self}),f=Ext.create("Ext.data.Operation",a),g=function(d){d.wasSuccessful()?Ext.callback(a.success,b,[c,d]):Ext.callback(a.failure,b,[c,d]),Ext.callback(a.callback,b,[c,d])},e[d](f,g,c),c},erase:function(a,b){var c=this,d=this.getProxy(),e,f;return d||Ext.Logger.error("You are trying to erase a model instance that doesn't have a Proxy specified"),a=a||{},b=b||c,Ext.isFunction(a)&&(a={callback:a,scope:b}),Ext.applyIf(a,{records:[c],action:"destroy",model:this.self}),e=Ext.create("Ext.data.Operation",a),f=function(d){d.wasSuccessful()?Ext.callback(a.success,b,[c,d]):Ext.callback(a.failure,b,[c,d]),Ext.callback(a.callback,b,[c,d])},d.destroy(e,f,c),c},reject:function(a){var b=this,c=b.modified,d;for(d in c)c.hasOwnProperty(d)&&typeof c[d]!="function"&&(b.data[d]=c[d]);b.dirty=!1,b.editing=!1,b.modified={},a!==!0&&b.afterReject()},commit:function(a){var b=this,c=this.modified;b.phantom=b.dirty=b.editing=!1,b.modified={},a!==!0&&b.afterCommit(c)},afterEdit:function(a,b){this.notifyStores("afterEdit",a,b)},afterReject:function(){this.notifyStores("afterReject")},afterCommit:function(a){this.notifyStores("afterCommit",Ext.Object.getKeys(a||{}),a)},notifyStores:function(a){var b=Ext.Array.clone(arguments),c=this.stores,d=c.length,e,f;b[0]=this;for(e=0;e<d;++e)f=c[e],f!==undefined&&typeof f[a]=="function"&&f[a].apply(f,b)},copy:function(a){var b=this,c=b.getIdProperty(),d=Ext.apply({},b.raw),e=Ext.apply({},b.data);return delete d[c],delete e[c],new b.self(null,a,d,e)},getData:function(a){var b=this.data;return a===!0&&Ext.apply(b,this.getAssociatedData()),b},getAssociatedData:function(){return this.prepareAssociatedData(this,[],null)},prepareAssociatedData:function(a,b,c){var d=a.associations.items,e=d.length,f={},g,h,i,j,k,l,m,n,o,p,q;for(n=0;n<e;n++){l=d[n],h=l.getName(),p=l.getType(),q=!0,c&&(q=p==c);if(q&&p.toLowerCase()=="hasmany"){g=a[l.getStoreName()],f[h]=[];if(g&&g.getCount()>0){i=g.data.items,k=i.length;for(o=0;o<k;o++)j=i[o],m=j.id,Ext.Array.indexOf(b,m)==-1&&(b.push(m),f[h][o]=j.getData(),Ext.apply(f[h][o],this.prepareAssociatedData(j,b,c)))}}else q&&(p.toLowerCase()=="belongsto"||p.toLowerCase()=="hasone")&&(j=a[l.getInstanceName()],j!==undefined&&(m=j.id,Ext.Array.indexOf(b,m)===-1&&(b.push(m),f[h]=j.getData(),Ext.apply(f[h],this.prepareAssociatedData(j,b,c)))))}return f},join:function(a){Ext.Array.include(this.stores,a)},unjoin:function(a){Ext.Array.remove(this.stores,a)},setDirty:function(){var a=this,b;a.dirty=!0,a.fields.each(function(c){c.getPersist()&&(b=c.getName(),a.modified[b]=a.get(b))})},validate:function(){var a=Ext.create("Ext.data.Errors"),b=this.getValidations().items,c=Ext.data.Validations,d,e,f,g,h,i;if(b){d=b.length;for(i=0;i<d;i++)e=b[i],f=e.field||e.name,h=e.type,g=c[h](e,this.get(f)),g||a.add(Ext.create("Ext.data.Error",{field:f,message:e.message||c.getMessage(h)}))}return a},isValid:function(){return this.validate().isValid()},toUrl:function(){var a=this.$className.split("."),b=a[a.length-1].toLowerCase();return b+"/"+this.getId()},destroy:function(){var a=this;a.notifyStores("afterErase",a),Ext.data.Model.cache.remove(a),a.raw=a.stores=a.modified=null,a.callParent(arguments)},markDirty:function(){return Ext.isDefined(Ext.Logger)&&Ext.Logger.deprecate("Ext.data.Model: markDirty has been deprecated. Use setDirty instead."),this.setDirty.apply(this,arguments)},applyProxy:function(a,b){return Ext.factory(a,Ext.data.Proxy,b,"proxy")},updateProxy:function(a){a&&a.setModel(this.self)},applyAssociations:function(a){a&&this.addAssociations(a,"hasMany")},applyBelongsTo:function(a){a&&this.addAssociations(a,"belongsTo")},applyHasMany:function(a){a&&this.addAssociations(a,"hasMany")},applyHasOne:function(a){a&&this.addAssociations(a,"hasOne")},addAssociations:function(a,b){var c,d,e,f=this.self.modelName,g=this.self.associations,h;a=Ext.Array.from(a);for(d=0,c=a.length;d<c;d++)e=a[d],Ext.isObject(e)||(e={model:e}),Ext.applyIf(e,{type:b,ownerModel:f,associatedModel:e.model}),delete e.model,h=Ext.Function.bind(function(a){g.add(Ext.data.association.Association.create(this))},e),Ext.ClassManager.onCreated(h,this,typeof e.associatedModel=="string"?e.associatedModel:Ext.getClassName(e.associatedModel))},applyValidations:function(a){a&&(Ext.isArray(a)||(a=[a]),this.addValidations(a))},addValidations:function(a){this.self.validations.addAll(a)},applyFields:function(a){var b=this.superclass.fields;return b&&(a=b.items.concat(a||[])),a||[]},updateFields:function(a){var b=a.length,c=this,d=c.self.prototype,e=this.getIdProperty(),f,g,h,i;g=c._fields=c.fields=new Ext.util.Collection(d.getFieldName);for(i=0;i<b;i++)h=a[i],h.isField||(h=new Ext.data.Field(a[i])),g.add(h);f=g.get(e),f?f.setType("auto"):g.add(new Ext.data.Field(e)),g.addSorter(d.sortConvertFields)},applyIdentifier:function(a){return typeof a=="string"&&(a={type:a}),Ext.factory(a,Ext.data.identifier.Simple,this.getIdentifier(),"data.identifier")},getFieldName:function(a){return a.getName()},sortConvertFields:function(a,b){var c=a.hasCustomConvert(),d=b.hasCustomConvert();return c&&!d?1:!c&&d?-1:0},onClassExtended:function(a,b,c){var d=c.onBeforeCreated,e=this,f=e.prototype,g=Ext.Class.configNameCache,h=f.staticConfigs.concat(b.staticConfigs||[]),i=f.config,j=b.config||{},k;if(b.idgen||j.idgen)j.identifier=b.idgen||j.idgen,Ext.Logger.deprecate('idgen is deprecated as a property. Please put it inside the config object under the new "identifier" configuration');for(k in i)k in b&&(j[k]=b[k],delete b[k],Ext.Logger.deprecate(k+" is deprecated as a property directly on the Model prototype. "+"Please put it inside the config object."));b.config=j,c.onBeforeCreated=function(a,b){var f=[],i=a.prototype,j={},k=i.config,l=h.length,m=["set","get"],n=m.length,o=k.associations||[],p=Ext.getClassName(a),q,r,s,t,u;for(s=0;s<l;s++){q=h[s];for(t=0;t<n;t++)r=g[q][m[t]],r in i&&(j[r]=e.generateProxyMethod(r))}a.addStatics(j),a.modelName=p,i.modelName=p,k.belongsTo&&f.push("association.belongsto"),k.hasMany&&f.push("association.hasmany"),k.hasOne&&f.push("association.hasone");for(s=0,u=o.length;s<u;++s)f.push("association."+o[s].type.toLowerCase());k.proxy&&(typeof k.proxy=="string"?f.push("proxy."+k.proxy):typeof k.proxy.type=="string"&&f.push("proxy."+k.proxy.type)),k.validations&&f.push("Ext.data.Validations"),Ext.require(f,function(){Ext.Function.interceptBefore(c,"onCreated",function(){Ext.data.ModelManager.registerType(p,a);var b=a.prototype.superclass;a.prototype.associations=a.associations=a.prototype._associations=b&&b.associations?b.associations.clone():new Ext.util.Collection(function(a){return a.getName()}),a.prototype.validations=a.validations=a.prototype._validations=b&&b.validations?b.validations.clone():new Ext.util.Collection(function(a){return a.field||a.name}),a.prototype=Ext.Object.chain(a.prototype),a.prototype.initConfig.call(a.prototype,k),delete a.prototype.initConfig}),d.call(e,a,b,c)})}}},function(){this.cache=new Ext.util.Collection(this.generateCacheId)}),Ext.define("Ext.data.Store",{alias:"store.store",extend:"Ext.Evented",requires:["Ext.util.Collection","Ext.data.Operation","Ext.data.proxy.Memory","Ext.data.Model","Ext.data.StoreManager","Ext.util.Grouper"],statics:{create:function(a){return a.isStore||(a.type||(a.type="store"),a=Ext.createByAlias("store."+a.type,a)),a}},isStore:!0,config:{storeId:undefined,data:null,autoLoad:null,autoSync:!1,model:undefined,proxy:undefined,fields:null,remoteSort:!1,remoteFilter:!1,remoteGroup:!1,filters:null,sorters:null,grouper:null,groupField:null,groupDir:null,getGroupString:null,pageSize:25,totalCount:null,clearOnPageLoad:!0,modelDefaults:{},autoDestroy:!1,syncRemovedRecords:!0},currentPage:1,constructor:function(a){a=a||{},this.data=this._data=this.createDataCollection(),this.data.setSortRoot("data"),this.data.setFilterRoot("data"),this.removed=[],a.id&&!a.storeId&&(a.storeId=a.id,delete a.id),a.hasOwnProperty("sortOnLoad")&&Ext.Logger.deprecate("[Ext.data.Store] sortOnLoad is always activated in Sencha Touch 2 so your Store is always fully sorted after loading. The only expection is if you are using remoteSort and change sorting after the Store as loaded, in which case you need to call store.load() to fetch the sorted data from the server."),a.hasOwnProperty("filterOnLoad")&&Ext.Logger.deprecate("[Ext.data.Store] filterOnLoad is always activated in Sencha Touch 2 so your Store is always fully sorted after loading. The only expection is if you are using remoteFilter and change filtering after the Store as loaded, in which case you need to call store.load() to fetch the filtered data from the server."),a.hasOwnProperty("sortOnFilter")&&Ext.Logger.deprecate("[Ext.data.Store] sortOnFilter is deprecated and is always effectively true when sorting and filtering locally"),this.initConfig(a)},createDataCollection:function(){return new Ext.util.Collection(function(a){return a.getId()})},applyStoreId:function(a){if(a===undefined||a===null)a=this.getUniqueId();return a},updateStoreId:function(a,b){b&&Ext.data.StoreManager.unregister(this),a&&Ext.data.StoreManager.register(this)},applyModel:function(a){if(typeof a=="string"){var b=Ext.data.ModelManager.getModel(a);b||Ext.Logger.error('Model with name "'+a+'" does not exist.'),a=b}a&&!a.prototype.isModel&&Ext.isObject(a)&&(a=Ext.data.ModelManager.registerType(a.storeId||a.id||Ext.id(),a));if(!a){var c=this.getFields(),d=this.config.data;!c&&d&&d.length&&(c=Ext.Object.getKeys(d[0])),c&&(a=Ext.define("Ext.data.Store.ImplicitModel-"+(this.getStoreId()||Ext.id()),{extend:"Ext.data.Model",config:{fields:c,proxy:this.getProxy()}}),this.implicitModel=!0)}return!a&&this.getProxy()&&(a=this.getProxy().getModel()),a||Ext.Logger.warn("Unless you define your model through metadata, a store needs to have a model defined on either itself or on its proxy"),a},updateModel:function(a){var b=this.getProxy();b&&!b.getModel()&&b.setModel(a)},applyProxy:function(a,b){return a=Ext.factory(a,Ext.data.Proxy,b,"proxy"),!a&&this.getModel()&&(a=this.getModel().getProxy(),a||(a=new Ext.data.proxy.Memory({model:this.getModel()}))),a},updateProxy:function(a){a&&(a.getModel()||a.setModel(this.getModel()),a.on("metachange",this.onMetaChange,this))},applyData:function(a){var b=this,c;a?(c=b.getProxy(),c instanceof Ext.data.proxy.Memory?(c.setData(a),b.load()):(b.removeAll(!0),b.fireEvent("clear",b),b.suspendEvents(),b.add(a),b.resumeEvents(),b.dataLoaded=!0)):(b.removeAll(!0),b.fireEvent("clear",b)),b.fireEvent("refresh",b,b.data)},clearData:function(){this.setData(null)},addData:function(a){var b=this.getProxy().getReader(),c=b.read(a),d=c.getRecords();this.add(d)},updateAutoLoad:function(a){var b=this.getProxy();a&&b&&!b.isMemoryProxy&&this.load(Ext.isObject(a)?a:null)},isAutoLoading:function(){var a=this.getProxy();return this.getAutoLoad()||a&&a.isMemoryProxy||this.dataLoaded},updateGroupField:function(a){var b=this.getGrouper();a?b?b.setProperty(a):this.setGrouper({property:a,direction:this.getGroupDir()||"ASC"}):b&&this.setGrouper(null)},updateGroupDir:function(a){var b=this.getGrouper();b&&b.setDirection(a)},applyGetGroupString:function(a){var b=this.getGrouper();a?(Ext.Logger.warn("Specifying getGroupString on a store has been deprecated. Please use grouper: {groupFn: yourFunction}"),b?b.setGroupFn(a):this.setGrouper({groupFn:a})):b&&this.setGrouper(null)},applyGrouper:function(a){return typeof a=="string"?a={property:a}:typeof a=="function"&&(a={groupFn:a}),a=Ext.factory(a,Ext.util.Grouper,this.getGrouper()),a},updateGrouper:function(a,b){var c=this.data;b&&(c.removeSorter(b),a||c.getSorters().removeSorter("isGrouper")),a&&(c.insertSorter(0,a),b||c.getSorters().addSorter({direction:"DESC",property:"isGrouper",transform:function(a){return a===!0?1:-1}}))},isGrouped:function(){return!!this.getGrouped()},updateSorters:function(a){var b=this.getGrouper(),c=this.data,d=c.getAutoSort();c.setAutoSort(!1),c.setSorters(a),b&&c.insertSorter(0,b),this.updateSortTypes(),c.setAutoSort(d)},updateSortTypes:function(){var a=this.getModel(),b=a&&a.getFields(),c=this.data;b&&c.getSorters().each(function(a){var c=a.getProperty(),d;!a.isGrouper&&c&&!a.getTransform()&&(d=b.get(c),d&&a.setTransform(d.getSortType()))})},updateFilters:function(a){this.data.setFilters(a)},add:function(a){return Ext.isArray(a)||(a=Array.prototype.slice.apply(arguments)),this.insert(this.data.length,a)},insert:function(a,b){Ext.isArray(b)||(b=Array.prototype.slice.call(arguments,1));var c=this,d=!1,e=b.length,f=this.getModel(),g=c.getModelDefaults(),h,i,j=!1;b=b.slice();for(h=0;h<e;h++)i=b[h],i.isModel?this.removed.indexOf(i)!=-1&&Ext.Array.remove(this.removed,i):i=new f(i),i.set(g),b[h]=i,i.join(c),d=d||i.phantom===!0;return e===1?(j=this.data.insert(a,b[0]),j&&(j=[j])):j=this.data.insertAll(a,b),j&&c.fireEvent("addrecords",c,j),c.getAutoSync()&&d&&c.sync(),b},remove:function(a){a.isModel&&(a=[a]);var b=this,c=!1,d=0,e=this.getAutoSync(),f=a.length,g=[],h=[],i,j=b.data.items,k,l,m;for(;d<f;d++)k=a[d],b.data.contains(k)&&(i=k.phantom===!0,l=j.indexOf(k),l!==-1&&(h.push(k),g.push(l)),!i&&b.getSyncRemovedRecords()&&b.removed.push(k),k.unjoin(b),b.data.remove(k),c=c||!i);b.fireEvent("removerecords",b,h,g),e&&c&&b.sync()},removeAt:function(a){var b=this.getAt(a);b&&this.remove(b)},removeAll:function(a){a!==!0?this.fireAction("clear",[this],"doRemoveAll"):this.doRemoveAll.call(this,!0)},doRemoveAll:function(a){var b=this;b.data.each(function(a){a.unjoin(b)}),b.getSyncRemovedRecords()&&(b.removed=b.removed.concat(b.data.items)),b.data.clear(),a!==!0&&b.fireEvent("refresh",b,b.data),b.getAutoSync()&&this.sync()},each:function(a,b){this.data.each(a,b)},getCount:function(){return this.data.length||0},getAt:function(a){return this.data.getAt(a)},getRange:function(a,b){return this.data.getRange(a,b)},getById:function(a){return this.data.findBy(function(b){return b.getId()==a})},indexOf:function(a){return this.data.indexOf(a)},indexOfId:function(a){return this.data.indexOfKey(a)},afterEdit:function(a,b,c){var d=this,e=d.data,f=c[a.getIdProperty()]||a.getId(),g=e.keys.indexOf(f),h;if(g===-1&&e.map[f]===undefined)return;d.getAutoSync()&&d.sync(),f!==a.getId()?e.replace(f,a):e.replace(a),h=e.indexOf(a),g===-1&&h!==-1?d.fireEvent("addrecords",d,[a]):g!==-1&&h===-1?d.fireEvent("removerecords",d,[a],[g]):h!==-1&&d.fireEvent("updaterecord",d,a,h,g,b,c)},afterReject:function(a){var b=this.data.indexOf(a);this.fireEvent("updaterecord",this,a,b,b,[],{})},afterCommit:function(a,b,c){var d=this,e=d.data,f=c[a.getIdProperty()]||a.getId(),g=e.keys.indexOf(f),h;if(g===-1&&e.map[f]===undefined)return;f!==a.getId()?e.replace(f,a):e.replace(a),h=e.indexOf(a),g===-1&&h!==-1?d.fireEvent("addrecords",d,[a]):g!==-1&&h===-1?d.fireEvent("removerecords",d,[a],[g]):h!==-1&&d.fireEvent("updaterecord",d,a,h,g,b,c)},afterErase:function(a){var b=this,c=b.data,d=c.indexOf(a);d!==-1&&(c.remove(a),b.fireEvent("removerecords",b,[a],[d]))},updateRemoteFilter:function(a){this.data.setAutoFilter(!a)},updateRemoteSort:function(a){this.data.setAutoSort(!a)},sort:function(a,b,c){var d=this.data,e=this.getGrouper(),f=d.getAutoSort();a&&(d.setAutoSort(!1),typeof c=="string"?c=="prepend"?d.insertSorters(e?1:0,a,b):d.addSorters(a,b):(d.setSorters(null),e&&d.addSorters(e),d.addSorters(a,b)),this.updateSortTypes(),d.setAutoSort(f)),this.getRemoteSort()||(a||this.data.sort(),this.fireEvent("sort",this,this.data,this.data.getSorters()),d.length&&this.fireEvent("refresh",this,this.data))},filter:function(a,b,c,d){var e=this.data,f=e.length;this.getRemoteFilter()?a&&(Ext.isString(a)?e.addFilters({property:a,value:b,anyMatch:c,caseSensitive:d}):(Ext.isArray(a)||a.isFilter)&&e.addFilters(a)):(e.filter(a,b,c,d),this.fireEvent("filter",this,e,e.getFilters()),e.length!==f&&this.fireEvent("refresh",this,e))},filterBy:function(a,b){var c=this,d=c.data,e=d.length;d.filter({filterFn:a,scope:b}),this.fireEvent("filter",this,d,d.getFilters()),d.length!==e&&this.fireEvent("refresh",this,d)},queryBy:function(a,b){return this.data.filterBy(a,b||this)},clearFilter:function(a){var b=this.data.length;a&&this.suspendEvents(),this.data.setFilters(null),a?this.resumeEvents():b!==this.data.length&&this.fireEvent("refresh",this,this.data)},isFiltered:function(){return this.data.filtered},getSorters:function(){var a=this.data.getSorters();return a?a.items:[]},getFilters:function(){var a=this.data.getFilters();return a?a.items:[]},getGroups:function(a){var b=this.data.items,c=b.length,d=this.getGrouper(),e=[],f={},g,h,i,j;d||Ext.Logger.error("Trying to get groups for a store that has no grouper");for(j=0;j<c;j++)g=b[j],h=d.getGroupString(g),i=f[h],i===undefined&&(i={name:h,children:[]},e.push(i),f[h]=i),i.children.push(g);return a?f[a]:e},getGroupString:function(a){var b=this.getGrouper();return b?b.getGroupString(a):null},find:function(a,b,c,d,e,f){var g=Ext.create("Ext.util.Filter",{property:a,value:b,anyMatch:d,caseSensitive:e,exactMatch:f,root:"data"});return this.data.findIndexBy(g.getFilterFn(),null,c)},findRecord:function(){var a=this,b=a.find.apply(a,arguments);return b!==-1?a.getAt(b):null},findExact:function(a,b,c){return this.data.findIndexBy(function(c){return c.get(a)===b},this,c)},findBy:function(a,b,c){return this.data.findIndexBy(a,b,c)},load:function(a,b){var c=this,d,e=c.currentPage,f=c.getPageSize();return a=a||{},Ext.isFunction(a)&&(a={callback:a,scope:b||this}),c.getRemoteSort()&&(a.sorters=a.sorters||this.getSorters()),c.getRemoteFilter()&&(a.filters=a.filters||this.getFilters()),c.getRemoteGroup()&&(a.grouper=a.grouper||this.getGrouper()),Ext.applyIf(a,{page:e,start:(e-1)*f,limit:f,addRecords:!1,action:"read",model:this.getModel()}),d=Ext.create("Ext.data.Operation",a),c.fireEvent("beforeload",c,d)!==!1&&(c.loading=!0,c.getProxy().read(d,c.onProxyLoad,c)),c},isLoading:function(){return Boolean(this.loading)},isLoaded:function(){return Boolean(this.loaded)},sync:function(){var a=this,b={},c=a.getNewRecords(),d=a.getUpdatedRecords(),e=a.getRemovedRecords(),f=!1;return c.length>0&&(b.create=c,f=!0),d.length>0&&(b.update=d,f=!0),e.length>0&&(b.destroy=e,f=!0),f&&a.fireEvent("beforesync",this,b)!==!1&&a.getProxy().batch({operations:b,listeners:a.getBatchListeners()}),{added:c,updated:d,removed:e}},first:function(){return this.data.first()},last:function(){return this.data.last()},sum:function(a){var b=0,c=0,d=this.data.items,e=d.length;for(;c<e;++c)b+=d[c].get(a);return b},min:function(a){var b=1,c=this.data.items,d=c.length,e,f;d>0&&(f=c[0].get(a));for(;b<d;++b)e=c[b].get(a),e<f&&(f=e);return f},max:function(a){var b=1,c=this.data.items,d=c.length,e,f;d>0&&(f=c[0].get(a));for(;b<d;++b)e=c[b].get(a),e>f&&(f=e);return f},average:function(a){var b=0,c=this.data.items,d=c.length,e=0;if(c.length>0){for(;b<d;++b)e+=c[b].get(a);return e/d}return 0},getBatchListeners:function(){return{scope:this,exception:this.onBatchException,complete:this.onBatchComplete}},onBatchComplete:function(a){var b=this,c=a.operations,d=c.length,e;for(e=0;e<d;e++)b.onProxyWrite(c[e])},onBatchException:function(a,b){},onProxyLoad:function(a){var b=this,c=a.getRecords(),d=a.getResultSet(),e=a.wasSuccessful();d&&b.setTotalCount(d.getTotal()),e&&this.fireAction("datarefresh",[this,this.data,a],"doDataRefresh"),b.loaded=!0,b.loading=!1,b.fireEvent("load",this,c,e,a),Ext.callback(a.getCallback(),a.getScope()||b,[c,a,e])},doDataRefresh:function(a,b,c){var d=c.getRecords(),e=this;c.getAddRecords()!==!0&&(b.each(function(a){a.unjoin(e)}),b.clear(),e.fireEvent("clear",this)),d&&d.length&&(e.suspendEvents(),e.add(d),e.resumeEvents()),this.fireEvent("refresh",this,this.data)},onProxyWrite:function(a){var b=this,c=a.wasSuccessful(),d=a.getRecords();switch(a.getAction()){case"create":b.onCreateRecords(d,a,c);break;case"update":b.onUpdateRecords(d,a,c);break;case"destroy":b.onDestroyRecords(d,a,c)}c&&b.fireEvent("write",b,a),Ext.callback(a.getCallback(),a.getScope()||b,[d,a,c])},onCreateRecords:function(a,b,c){},onUpdateRecords:function(a,b,c){},onDestroyRecords:function(a,b,c){this.removed=[]},onMetaChange:function(a){var b=this.getProxy().getModel();!this.getModel()&&b&&this.setModel(b),this.fireEvent("metachange",this,a)},getNewRecords:function(){return this.data.filterBy(function(a){return a.phantom===!0&&a.isValid()}).items},getUpdatedRecords:function(){return this.data.filterBy(function(a){return a.dirty===!0&&a.phantom!==!0&&a.isValid()}).items},getRemovedRecords:function(){return this.removed},loadPage:function(a,b,c){typeof b=="function"&&(b={callback:b,scope:c||this});var d=this,e=d.getPageSize(),f=d.getClearOnPageLoad();b=Ext.apply({},b),d.currentPage=a,d.load(Ext.applyIf(b,{page:a,start:(a-1)*e,limit:e,addRecords:!f}))},nextPage:function(a){this.loadPage(this.currentPage+1,a)},previousPage:function(a){this.loadPage(this.currentPage-1,a)},onClassExtended:function(a,b){var c=this.prototype,d=c.config,e=b.config||{},f;for(f in d)f!="control"&&f in b&&(e[f]=b[f],delete b[f],Ext.Logger.deprecate(f+" is deprecated as a property directly on the "+this.$className+" prototype. Please put it inside the config object."));b.config=e}},function(){this.override({loadData:function(a,b){Ext.Logger.deprecate("loadData is deprecated, please use either add or setData"),b?this.add(a):this.setData(a)},doAddListener:function(a,b,c,d,e){switch(a){case"update":return Ext.Logger.warn("The update event on Store has been removed. Please use the updaterecord event from now on."),this;case"add":return Ext.Logger.warn("The add event on Store has been removed. Please use the addrecords event from now on."),this;case"remove":return Ext.Logger.warn("The remove event on Store has been removed. Please use the removerecords event from now on."),this;case"datachanged":return Ext.Logger.warn("The datachanged event on Store has been removed. Please use the refresh event from now on."),this}return this.callParent(arguments)}}),Ext.deprecateMethod(this,"loadRecords","add","Ext.data.Store#loadRecords has been deprecated. Please use the add method.")}),function(a){Ext.define("Ext.layout.Default",{extend:"Ext.Evented",alternateClassName:["Ext.layout.AutoContainerLayout","Ext.layout.ContainerLayout"],alias:["layout.auto","layout.default"],isLayout:!0,hasDockedItemsCls:a+"hasdocked",centeredItemCls:a+"centered",floatingItemCls:a+"floating",dockingWrapperCls:a+"docking",dockingInnerCls:a+"docking-inner",maskCls:a+"mask",positionMap:{top:"start",left:"start",bottom:"end",right:"end"},positionDirectionMap:{top:"vertical",bottom:"vertical",left:"horizontal",right:"horizontal"},DIRECTION_VERTICAL:"vertical",DIRECTION_HORIZONTAL:"horizontal",POSITION_START:"start",POSITION_END:"end",config:{animation:null},constructor:function(a,b){this.container=a,this.innerItems=[],this.centeringWrappers={},this.initConfig(b)},reapply:Ext.emptyFn,unapply:Ext.emptyFn,onItemAdd:function(){this.doItemAdd.apply(this,arguments)},onItemRemove:function(){this.doItemRemove.apply(this,arguments)},onItemMove:function(){this.doItemMove.apply(this,arguments)},onItemCenteredChange:function(){this.doItemCenteredChange.apply(this,arguments)},onItemFloatingChange:function(){this.doItemFloatingChange.apply(this,arguments)},onItemDockedChange:function(){this.doItemDockedChange.apply(this,arguments)},doItemAdd:function(a,b){var c=a.getDocked();c!==null?this.dockItem(a,c):a.isCentered()?this.centerItem(a,b):this.insertItem(a,b),a.isFloating()&&this.onItemFloatingChange(a,!0)},doItemRemove:function(a){a.isDocked()?this.undockItem(a):a.isCentered()&&this.uncenterItem(a),a.getTranslatable()&&a.setTranslatable(!1),Ext.Array.remove(this.innerItems,a);try{this.container.innerElement.dom.removeChild(a.renderElement.dom)}catch(b){}},doItemMove:function(a,b,c){a.isCentered()?a.setZIndex((b+1)*2):(a.isFloating()&&a.setZIndex((b+1)*2),this.insertItem(a,b))},doItemCenteredChange:function(a,b){b?this.centerItem(a):this.uncenterItem(a)},doItemFloatingChange:function(a,b){var c=a.element,d=this.floatingItemCls;b?(a.getZIndex()===null&&a.setZIndex((this.container.indexOf(a)+1)*2),c.addCls(d)):(a.setZIndex(null),c.removeCls(d))},doItemDockedChange:function(a,b,c){c&&this.undockItem(a,c),b&&this.dockItem(a,b)},centerItem:function(a){this.insertItem(a,0),a.getZIndex()===null&&a.setZIndex((this.container.indexOf(a)+1)*2),this.createCenteringWrapper(a),a.element.addCls(this.floatingItemCls)},uncenterItem:function(a){this.destroyCenteringWrapper(a),a.setZIndex(null),this.insertItem(a,this.container.indexOf(a)),a.element.removeCls(this.floatingItemCls)},dockItem:function(b,c){var d=this.container,e=b.renderElement,f=b.element,g=this.dockingInnerElement;g||(d.setUseBodyElement(!0),this.dockingInnerElement=g=d.bodyElement),this.getDockingWrapper(c),this.positionMap[c]===this.POSITION_START?e.insertBefore(g):e.insertAfter(g),f.addCls(a+"docked-"+c)},undockItem:function(b,c){this.insertItem(b,this.container.indexOf(b)),b.element.removeCls(a+"docked-"+c)},getDockingWrapper:function(a){var b=this.currentDockingDirection,c=this.positionDirectionMap[a],d=this.dockingWrapper;return b!==c&&(this.currentDockingDirection=c,this.dockingWrapper=d=this.createDockingWrapper(c)),d},createDockingWrapper:function(a){return this.dockingInnerElement.wrap({classList:[this.dockingWrapperCls+"-"+a]},!0)},createCenteringWrapper:function(a){var b=a.getId(),c=this.centeringWrappers,d=a.renderElement,e;return c[b]=e=d.wrap({className:this.centeredItemCls}),e},destroyCenteringWrapper:function(a){var b=a.getId(),c=this.centeringWrappers,d=a.renderElement,e=c[b];return d.unwrap(),e.destroy(),delete c[b],this},insertItem:function(a,b){var c=this.container,d=c.getItems().items,e=this.innerItems,f=c.innerElement.dom,g=a.renderElement.dom,h,i,j;c.has(a)&&Ext.Array.remove(e,a);if(typeof b=="number"){h=d[b],h===a&&(h=d[++b]);while(h&&(h.isCentered()||h.isDocked()))h=d[++b];if(h){j=e.indexOf(h);if(j!==-1){while(h&&(h.isCentered()||h.isDocked()))h=e[++j];if(h)return e.splice(j,0,a),i=h.renderElement.dom,f.insertBefore(g,i),this}}}return e.push(a),f.appendChild(g),this}})}(Ext.baseCSSPrefix),Ext.define("Ext.layout.Fit",{extend:"Ext.layout.Default",alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",cls:Ext.baseCSSPrefix+"layout-fit",itemCls:Ext.baseCSSPrefix+"layout-fit-item",constructor:function(a){this.callParent(arguments),this.apply()},apply:function(){this.container.innerElement.addCls(this.cls)},reapply:function(){this.apply()},unapply:function(){this.container.innerElement.removeCls(this.cls)},doItemAdd:function(a,b){a.isInnerItem()&&a.addCls(this.itemCls),this.callParent(arguments)},doItemRemove:function(a){a.isInnerItem()&&a.removeCls(this.itemCls),this.callParent(arguments)}}),Ext.define("Ext.layout.AbstractBox",{extend:"Ext.layout.Default",config:{align:"stretch",pack:null},flexItemCls:Ext.baseCSSPrefix+"layout-box-item",positionMap:{middle:"center",left:"start",top:"start",right:"end",bottom:"end"},constructor:function(a){this.callParent(arguments),a.innerElement.addCls(this.cls),a.on(this.sizeChangeEventName,"onItemSizeChange",this,{delegate:"> component"})},reapply:function(){this.container.innerElement.addCls(this.cls),this.updatePack(this.getPack()),this.updateAlign(this.getAlign())},unapply:function(){this.container.innerElement.removeCls(this.cls),this.updatePack(null),this.updateAlign(null)},doItemAdd:function(a,b){this.callParent(arguments);if(a.isInnerItem()){var c=a.getConfig(this.sizePropertyName),d=a.config;!c&&"flex"in d&&this.setItemFlex(a,d.flex)}},doItemRemove:function(a){a.isInnerItem()&&this.setItemFlex(a,null),this.callParent(arguments)},onItemSizeChange:function(a){this.setItemFlex(a,null)},doItemCenteredChange:function(a,b){b&&this.setItemFlex(a,null),this.callParent(arguments)},doItemFloatingChange:function(a,b){b&&this.setItemFlex(a,null),this.callParent(arguments)},doItemDockedChange:function(a,b){b&&this.setItemFlex(a,null),this.callParent(arguments)},redrawContainer:function(){var a=this.container,b=a.renderElement.dom.parentNode;b&&b.nodeType!==11&&a.innerElement.redraw()},setItemFlex:function(a,b){var c=a.element,d=this.flexItemCls;b?c.addCls(d):c.hasCls(d)&&(this.redrawContainer(),c.removeCls(d)),c.dom.style.webkitBoxFlex=b},convertPosition:function(a){return this.positionMap.hasOwnProperty(a)?this.positionMap[a]:a},applyAlign:function(a){return this.convertPosition(a)},updateAlign:function(a){this.container.innerElement.dom.style.webkitBoxAlign=a},applyPack:function(a){return this.convertPosition(a)},updatePack:function(a){this.container.innerElement.dom.style.webkitBoxPack=a}}),Ext.define("Ext.layout.HBox",{extend:"Ext.layout.AbstractBox",alternateClassName:"Ext.layout.HBoxLayout",alias:"layout.hbox",sizePropertyName:"width",sizeChangeEventName:"widthchange",cls:Ext.baseCSSPrefix+"layout-hbox"}),Ext.define("Ext.layout.VBox",{extend:"Ext.layout.AbstractBox",alternateClassName:"Ext.layout.VBoxLayout",alias:"layout.vbox",sizePropertyName:"height",sizeChangeEventName:"heightchange",cls:Ext.baseCSSPrefix+"layout-vbox"}),Ext.define("Ext.fx.easing.BoundMomentum",{extend:"Ext.fx.easing.Abstract",requires:["Ext.fx.easing.Momentum","Ext.fx.easing.Bounce"],config:{momentum:null,bounce:null,minMomentumValue:0,maxMomentumValue:0,minVelocity:.01,startVelocity:0},applyMomentum:function(a,b){return Ext.factory(a,Ext.fx.easing.Momentum,b)},applyBounce:function(a,b){return Ext.factory(a,Ext.fx.easing.Bounce,b)},updateStartTime:function(a){this.getMomentum().setStartTime(a),this.callParent(arguments)},updateStartVelocity:function(a){this.getMomentum().setStartVelocity(a)},updateStartValue:function(a){this.getMomentum().setStartValue(a)},reset:function(){return this.lastValue=null,this.isBouncingBack=!1,this.isOutOfBound=!1,this.callParent(arguments)},getValue:function(){var a=this.getMomentum(),b=this.getBounce(),c=a.getStartVelocity(),d=c>0?1:-1,e=this.getMinMomentumValue(),f=this.getMaxMomentumValue(),g=d==1?f:e,h=this.lastValue,i,j;if(c===0)return this.getStartValue();if(!this.isOutOfBound){i=a.getValue(),j=a.getVelocity(),Math.abs(j)<this.getMinVelocity()&&(this.isEnded=!0);if(i>=e&&i<=f)return i;this.isOutOfBound=!0,b.setStartTime(Ext.Date.now()).setStartVelocity(j).setStartValue(g)}return i=b.getValue(),this.isEnded||(this.isBouncingBack?Math.round(i)==g&&(this.isEnded=!0):h!==null&&(d==1&&i<h||d==-1&&i>h)&&(this.isBouncingBack=!0)),this.lastValue=i,i}}),Ext.define("Ext.fx.easing.Linear",{extend:"Ext.fx.easing.Abstract",alias:"easing.linear",config:{duration:0,endValue:0},updateStartValue:function(a){this.distance=this.getEndValue()-a},updateEndValue:function(a){this.distance=a-this.getStartValue()},getValue:function(){var a=Ext.Date.now()-this.getStartTime(),b=this.getDuration();return a>b?(this.isEnded=!0,this.getEndValue()):this.getStartValue()+a/b*this.distance}}),Ext.define("Ext.util.translatable.Abstract",{extend:"Ext.Evented",requires:["Ext.fx.easing.Linear"],config:{element:null,easing:null,easingX:null,easingY:null,fps:60},constructor:function(a){var b;this.doAnimationFrame=Ext.Function.bind(this.doAnimationFrame,this),this.x=0,this.y=0,this.activeEasingX=null,this.activeEasingY=null,this.initialConfig=a,a&&a.element&&(b=a.element,this.setElement(b))},applyElement:function(a){if(!a)return;return Ext.get(a)},updateElement:function(a){this.initConfig(this.initialConfig),this.refresh()},factoryEasing:function(a){return Ext.factory(a,Ext.fx.easing.Linear,null,"easing")},applyEasing:function(a){this.getEasingX()||this.setEasingX(this.factoryEasing(a)),this.getEasingY()||this.setEasingY(this.factoryEasing(a))},applyEasingX:function(a){return this.factoryEasing(a)},applyEasingY:function(a){return this.factoryEasing(a)},updateFps:function(a){this.animationInterval=1e3/a},doTranslate:function(a,b){return typeof a=="number"&&(this.x=a),typeof b=="number"&&(this.y=b),this},translate:function(a,b,c){if(!this.getElement().dom)return;if(Ext.isObject(a))throw new Error;return this.stopAnimation(),c!==undefined?this.translateAnimated(a,b,c):this.doTranslate(a,b)},animate:function(a,b){return this.activeEasingX=a,this.activeEasingY=b,this.isAnimating=!0,this.animationTimer=setInterval(this.doAnimationFrame,this.animationInterval),this.fireEvent("animationstart",this,this.x,this.y),this},translateAnimated:function(a,b,c){if(Ext.isObject(a))throw new Error;Ext.isObject(c)||(c={});var d=Ext.Date.now(),e=c.easing,f=typeof a=="number"?c.easingX||this.getEasingX()||e||!0:null,g=typeof b=="number"?c.easingY||this.getEasingY()||e||!0:null;return f&&(f=this.factoryEasing(f),f.setStartTime(d),f.setStartValue(this.x),f.setEndValue(a),"duration"in c&&f.setDuration(c.duration)),g&&(g=this.factoryEasing(g),g.setStartTime(d),g.setStartValue(this.y),g.setEndValue(b),"duration"in c&&g.setDuration(c.duration)),this.animate(f,g)},doAnimationFrame:function(){var a=this.activeEasingX,b=this.activeEasingY,c=this.getElement(),d,e;if(!this.isAnimating||!c.dom)return;if(a===null&&b===null){this.stopAnimation();return}a!==null?(this.x=d=Math.round(a.getValue()),a.isEnded&&(this.activeEasingX=null,this.fireEvent("axisanimationend",this,"x",d))):d=this.x,b!==null?(this.y=e=Math.round(b.getValue()),b.isEnded&&(this.activeEasingY=null,this.fireEvent("axisanimationend",this,"y",e))):e=this.y,this.doTranslate(d,e),this.fireEvent("animationframe",this,d,e)},stopAnimation:function(){if(!this.isAnimating)return;this.activeEasingX=null,this.activeEasingY=null,this.isAnimating=!1,clearInterval(this.animationTimer),this.fireEvent("animationend",this,this.x,this.y)},refresh:function(){this.translate(this.x,this.y)}}),Ext.define("Ext.util.translatable.CssTransform",{extend:"Ext.util.translatable.Abstract",doTranslate:function(a,b){var c=this.getElement().dom.style;return typeof a!="number"&&(a=this.x),typeof b!="number"&&(b=this.y),c.webkitTransform="translate3d("+a+"px, "+b+"px, 0px)",this.callParent(arguments)},destroy:function(){var a=this.getElement();a&&!a.isDestroyed&&(a.dom.style.webkitTransform=null),this.callParent(arguments)}}),Ext.define("Ext.util.translatable.ScrollPosition",{extend:"Ext.util.translatable.Abstract",wrapperWidth:0,wrapperHeight:0,baseCls:"x-translatable",config:{useWrapper:!0},getWrapper:function(){var a=this.wrapper,b=this.baseCls,c=this.getElement(),d,e;if(!a){e=c.getParent();if(!e)return null;this.getUseWrapper()?a=c.wrap({className:b+"-wrapper"},!0):a=e.dom,a.appendChild(Ext.Element.create({className:b+"-stretcher"},!0)),this.nestedStretcher=d=Ext.Element.create({className:b+"-nested-stretcher"},!0),c.appendChild(d),c.addCls(b),e.addCls(b+"-container"),this.container=e,this.wrapper=a,this.refresh()}return a},doTranslate:function(a,b){var c=this.getWrapper();return c&&(typeof a=="number"&&(c.scrollLeft=this.wrapperWidth-a),typeof b=="number"&&(c.scrollTop=this.wrapperHeight-b)),this.callParent(arguments)},refresh:function(){var a=this.getWrapper();a&&(this.wrapperWidth=a.offsetWidth,this.wrapperHeight=a.offsetHeight,this.callParent(arguments))},destroy:function(){var a=this.getElement(),b=this.baseCls;this.wrapper&&(this.getUseWrapper()&&a.unwrap(),this.container.removeCls(b+"-container"),a.removeCls(b),a.removeChild(this.nestedStretcher)),this.callParent(arguments)}}),Ext.define("Ext.util.Translatable",{requires:["Ext.util.translatable.CssTransform","Ext.util.translatable.ScrollPosition"],constructor:function(a){var b=Ext.util.translatable,c=b.CssTransform,d=b.ScrollPosition,e;return typeof a=="object"&&"translationMethod"in a&&(a.translationMethod==="scrollposition"?e=d:a.translationMethod==="csstransform"&&(e=c)),e||(Ext.os.is.Android2||Ext.browser.is.ChromeMobile?e=d:e=c),new e(a)}}),Ext.define("Ext.behavior.Translatable",{extend:"Ext.behavior.Behavior",requires:["Ext.util.Translatable"],constructor:function(){this.listeners={painted:"onComponentPainted",scope:this},this.callParent(arguments)},onComponentPainted:function(){this.translatable.refresh()},setConfig:function(a){var b=this.translatable,c=this.component;return a?b?Ext.isObject(a)&&b.setConfig(a):(this.translatable=b=new Ext.util.Translatable(a),b.setElement(c.renderElement),b.on("destroy","onTranslatableDestroy",this),c.isPainted()&&this.onComponentPainted(c),c.on(this.listeners)):b&&b.destroy(),this},getTranslatable:function(){return this.translatable},onTranslatableDestroy:function(){var a=this.component;delete this.translatable,a.un(this.listeners)},onComponentDestroy:function(){var a=this.translatable;a&&a.destroy()}}),Ext.define("Ext.util.Draggable",{isDraggable:!0,mixins:["Ext.mixin.Observable"],requires:["Ext.util.SizeMonitor","Ext.util.Translatable"],config:{cls:Ext.baseCSSPrefix+"draggable",draggingCls:Ext.baseCSSPrefix+"dragging",element:null,constraint:"container",disabled:null,direction:"both",initialOffset:{x:0,y:0},translatable:{}},DIRECTION_BOTH:"both",DIRECTION_VERTICAL:"vertical",DIRECTION_HORIZONTAL:"horizontal",defaultConstraint:{min:{x:-Infinity,y:-Infinity},max:{x:Infinity,y:Infinity}},constructor:function(a){var b;return this.sizeMonitors={},this.extraConstraint={},this.initialConfig=a,this.offset={x:0,y:0},this.listeners={dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",scope:this},a&&a.element&&(b=a.element,delete a.element,this.setElement(b)),this},applyElement:function(a){if(!a)return;return Ext.get(a)},updateElement:function(a){a.on(this.listeners),this.sizeMonitors.element=new Ext.util.SizeMonitor({element:a,callback:this.doRefresh,scope:this}),this.initConfig(this.initialConfig)},updateInitialOffset:function(a){typeof a=="number"&&(a={x:a,y:a});var b=this.offset,c,d;b.x=c=a.x,b.y=d=a.y,this.getTranslatable().doTranslate(c,d)},updateCls:function(a){this.getElement().addCls(a)},applyTranslatable:function(a,b){return a=Ext.factory(a,Ext.util.Translatable,b),a.setElement(this.getElement()),a},setExtraConstraint:function(a){return this.extraConstraint=a||{},this.refreshConstraint(),this},addExtraConstraint:function(a){return Ext.merge(this.extraConstraint,a),this.refreshConstraint(),this},applyConstraint:function(a){return this.currentConstraint=a,a||(a=this.defaultConstraint),a==="container"?Ext.merge(this.getContainerConstraint(),this.extraConstraint):Ext.merge({},this.extraConstraint,a)},updateConstraint:function(){this.refreshOffset()},getContainerConstraint:function(){var a=this.getContainer(),b=this.getElement();if(!a||!b.dom)return this.defaultConstraint;var c=b.dom,d=a.dom,e=c.offsetWidth,f=c.offsetHeight,g=d.offsetWidth,h=d.offsetHeight;return{min:{x:0,y:0},max:{x:g-e,y:h-f}}},getContainer:function(){var a=this.container;return a||(a=this.getElement().getParent(),a&&(this.sizeMonitors.container=new Ext.util.SizeMonitor({element:a,callback:this.doRefresh,scope:this}),this.container=a)),a},detachListeners:function(){this.getElement().un(this.listeners)},isAxisEnabled:function(a){var b=this.getDirection();return a==="x"?b===this.DIRECTION_BOTH||b===this.DIRECTION_HORIZONTAL:b===this.DIRECTION_BOTH||b===this.DIRECTION_VERTICAL},onDragStart:function(a){if(this.getDisabled())return!1;var b=this.offset;this.fireAction("dragstart",[this,a,b.x,b.y],this.initDragStart)},initDragStart:function(a,b,c,d){this.dragStartOffset={x:c,y:d},this.isDragging=!0,this.getElement().addCls(this.getDraggingCls())},onDrag:function(a){if(!this.isDragging)return;var b=this.dragStartOffset;this.fireAction("drag",[this,a,b.x+a.deltaX,b.y+a.deltaY],this.doDrag)},doDrag:function(a,b,c,d){a.setOffset(c,d)},onDragEnd:function(a){if(!this.isDragging)return;this.onDrag(a),this.isDragging=!1,this.getElement().removeCls(this.getDraggingCls()),this.fireEvent("dragend",this,a,this.offset.x,this.offset.y)},setOffset:function(a,b,c){var d=this.offset,e=this.getConstraint(),f=e.min,g=e.max,h=Math.min,i=Math.max;this.isAxisEnabled("x")&&typeof a=="number"?a=h(i(a,f.x),g.x):a=d.x,this.isAxisEnabled("y")&&typeof b=="number"?b=h(i(b,f.y),g.y):b=d.y,d.x=a,d.y=b,this.getTranslatable().translate(a,b,c)},getOffset:function(){return this.offset},refreshConstraint:function(){this.setConstraint(this.currentConstraint)},refreshOffset:function(){var a=this.offset;this.setOffset(a.x,a.y)},doRefresh:function(){this.refreshConstraint(),this.getTranslatable().refresh(),this.refreshOffset()},refresh:function(){var a=this.sizeMonitors;a.element&&a.element.refresh(),a.container&&a.container.refresh(),this.doRefresh()},enable:function(){return this.setDisabled(!1)},disable:function(){return this.setDisabled(!0)},destroy:function(){var a=this.sizeMonitors,b=this.getTranslatable();a.element&&a.element.destroy(),a.container&&a.container.destroy();var c=this.getElement();c&&!c.isDestroyed&&c.removeCls(this.getCls()),this.detachListeners(),b&&b.destroy()}},function(){this.override({constructor:function(a){return a&&a.constrain&&(Ext.Logger.deprecate("'constrain' config is deprecated, please use 'contraint' instead"),a.contraint=a.constrain,delete a.constrain),this.callOverridden(arguments)}})}),Ext.define("Ext.behavior.Draggable",{extend:"Ext.behavior.Behavior",requires:["Ext.util.Draggable"],constructor:function(){this.listeners={painted:"onComponentPainted",scope:this},this.callParent(arguments)},onComponentPainted:function(){this.draggable.refresh()},setConfig:function(a){var b=this.draggable,c=this.component;return a?b?Ext.isObject(a)&&b.setConfig(a):(c.setTranslatable(!0),this.draggable=b=new Ext.util.Draggable(a),b.setTranslatable(c.getTranslatable()),b.setElement(c.renderElement),b.on("destroy","onDraggableDestroy",this),c.isPainted()&&this.onComponentPainted(c),c.on(this.listeners)):b&&b.destroy(),this},getDraggable:function(){return this.draggable},onDraggableDestroy:function(){var a=this.component;delete this.draggable,a.un(this.listeners)},onComponentDestroy:function(){var a=this.draggable;a&&a.destroy()}}),function(a){Ext.define("Ext.Component",{extend:"Ext.AbstractComponent",alternateClassName:"Ext.lib.Component",mixins:["Ext.mixin.Traversable"],requires:["Ext.ComponentManager","Ext.XTemplate","Ext.dom.Element","Ext.behavior.Translatable","Ext.behavior.Draggable"],xtype:"component",observableType:"component",cachedConfig:{baseCls:null,cls:null,floatingCls:null,hiddenCls:a+"item-hidden",ui:null,margin:null,padding:null,border:null,styleHtmlCls:a+"html",styleHtmlContent:null},eventedConfig:{left:null,top:null,right:null,bottom:null,width:null,height:null,minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,docked:null,centered:null,hidden:null,disabled:null},config:{style:null,html:null,draggable:null,translatable:null,renderTo:null,zIndex:null,tpl:null,enterAnimation:null,exitAnimation:null,showAnimation:null,hideAnimation:null,tplWriteMode:"overwrite",data:null,disabledCls:a+"item-disabled",contentEl:null,itemId:undefined,record:null,plugins:null},listenerOptionsRegex:/^(?:delegate|single|delay|buffer|args|prepend|element)$/,alignmentRegex:/^([a-z]+)-([a-z]+)(\?)?$/,isComponent:!0,floating:!1,rendered:!1,dockPositions:{top:!0,right:!0,bottom:!0,left:!0},innerElement:null,element:null,template:[],constructor:function(a){var b=this,c=b.config,d;b.onInitializedListeners=[],b.initialConfig=a,a!==undefined&&"id"in a?d=a.id:"id"in c?d=c.id:d=b.getId(),b.id=d,b.setId(d),Ext.ComponentManager.register(b),b.initElement(),b.initConfig(b.initialConfig),b.initialize(),b.triggerInitialized(),"fullscreen"in b.config&&b.fireEvent("fullscreen",b),b.fireEvent("initialize",b)},beforeInitConfig:function(a){this.beforeInitialize.apply(this,arguments)},beforeInitialize:Ext.emptyFn,initialize:Ext.emptyFn,getTemplate:function(){return this.template},getElementConfig:function(){return{reference:"element",children:this.getTemplate()}},triggerInitialized:function(){var a=this.onInitializedListeners,b=a.length,c,d;if(!this.initialized){this.initialized=!0;if(b>0){for(d=0;d<b;d++)c=a[d],c.fn.call(c.scope,this);a.length=0}}},onInitialized:function(a,b){var c=this.onInitializedListeners;b||(b=this),this.initialized?a.call(b,this):c.push({fn:a,scope:b})},renderTo:function(a,b){var c=this.renderElement.dom,d=Ext.getDom(a),e=Ext.getDom(b);d&&(e?d.insertBefore(c,e):d.appendChild(c),this.setRendered(Boolean(c.offsetParent)))},setParent:function(a){var b=this.parent;return a&&b&&b!==a&&b.remove(this,!1),this.parent=a,this},applyPlugins:function(a){var b,c,d;if(!a)return a;a=[].concat(a);for(c=0,b=a.length;c<b;c++)d=a[c],Ext.isObject(d)&&d.ptype&&(Ext.Logger.deprecate("Using a ptype is now deprecated, please use type instead",1),d.type=d.ptype),a[c]=Ext.factory(d,"Ext.plugin.Plugin",null,"plugin");return a},updatePlugins:function(a,b){var c,d;if(a)for(d=0,c=a.length;d<c;d++)a[d].init(this);if(b)for(d=0,c=b.length;d<c;d++)Ext.destroy(b[d])},updateRenderTo:function(a){this.renderTo(a)},updateStyle:function(a){this.element.applyStyles(a)},updateBorder:function(a){this.element.setBorder(a)},updatePadding:function(a){this.innerElement.setPadding(a)},updateMargin:function(a){this.element.setMargin(a)},updateUi:function(a,b){var c=this.getBaseCls();c&&(b&&this.element.removeCls(b,c),a&&this.element.addCls(a,c))},applyBaseCls:function(b){return b||a+this.xtype},updateBaseCls:function(a,b){var c=this,d=c.getUi();a&&(this.element.addCls(a),d&&this.element.addCls(a,null,d)),b&&(this.element.removeCls(b),d&&this.element.removeCls(b,null,d))},addCls:function(a,b,c){var d=this.getCls(),e=d?d.slice():[],f,g,h;b=b||"",c=c||"",typeof a=="string"&&(a=[a]),f=a.length;if(!e.length&&b===""&&c==="")e=a;else for(g=0;g<f;g++)h=b+a[g]+c,e.indexOf(h)==-1&&e.push(h);this.setCls(e)},removeCls:function(a,b,c){var d=this.getCls(),e=d?d.slice():[],f,g;b=b||"",c=c||"";if(typeof a=="string")e=Ext.Array.remove(e,b+a+c);else{f=a.length;for(g=0;g<f;g++)e=Ext.Array.remove(e,b+a[g]+c)}this.setCls(e)},replaceCls:function(a,b,c,d){var e=this.getCls(),f=e?e.slice():[],g,h,i;c=c||"",d=d||"";if(typeof a=="string")f=Ext.Array.remove(f,c+a+d);else if(a){g=a.length;for(h=0;h<g;h++)f=Ext.Array.remove(f,c+a[h]+d)}if(typeof b=="string")f.push(c+b+d);else if(b){g=b.length;if(!f.length&&c===""&&d==="")f=b;else for(h=0;h<g;h++)i=c+b[h]+d,f.indexOf(i)==-1&&f.push(i)}this.setCls(f)},applyCls:function(a){typeof a=="string"&&(a=[a]);if(!a||!a.length)a=null;return a},updateCls:function(a,b){this.element.replaceCls(b,a)},updateStyleHtmlCls:function(a,b){var c=this.innerHtmlElement,d=this.innerElement;this.getStyleHtmlContent()&&b&&(c?c.replaceCls(b,a):d.replaceCls(b,a))},applyStyleHtmlContent:function(a){return Boolean(a)},updateStyleHtmlContent:function(a){var b=this.getStyleHtmlCls(),c=this.innerElement,d=this.innerHtmlElement;a?d?d.addCls(b):c.addCls(b):d?d.removeCls(b):c.addCls(b)},applyContentEl:function(a){if(a)return Ext.get(a)},updateContentEl:function(a,b){b&&(b.hide(),Ext.getBody().append(b)),a&&(this.setHtml(a.dom),a.show())},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},isCentered:function(){return Boolean(this.getCentered())},isFloating:function(){return this.floating},isDocked:function(){return Boolean(this.getDocked())},isInnerItem:function(){var a=this;return!a.isCentered()&&!a.isFloating()&&!a.isDocked()},filterPositionValue:function(a){if(a===""||a==="auto")a=null;return a},applyTop:function(a){return this.filterPositionValue(a)},applyRight:function(a){return this.filterPositionValue(a)},applyBottom:function(a){return this.filterPositionValue(a)},applyLeft:function(a){return this.filterPositionValue(a)},doSetTop:function(a){this.updateFloating(),this.element.setTop(a)},doSetRight:function(a){this.updateFloating(),this.element.setRight(a)},doSetBottom:function(a){this.updateFloating(),this.element.setBottom(a)},doSetLeft:function(a){this.updateFloating(),this.element.setLeft(a)},doSetWidth:function(a){this.element.setWidth(a)},doSetHeight:function(a){this.element.setHeight(a)},doSetMinWidth:function(a){this.element.setMinWidth(a)},doSetMinHeight:function(a){this.element.setMinHeight(a)},doSetMaxWidth:function(a){this.element.setMaxWidth(a)},doSetMaxHeight:function(a){this.element.setMaxHeight(a)},applyCentered:function(a){return a=Boolean(a),a&&(this.isFloating()&&this.resetFloating(),this.isDocked()&&this.setDocked(!1)),a},doSetCentered:Ext.emptyFn,applyDocked:function(a){if(a){if(!this.dockPositions[a]){Ext.Logger.error("Invalid docking position of '"+a+"', must be either 'top', 'right', 'bottom', "+"'left' or `null` (for no docking)",this);return}this.isFloating()&&this.resetFloating(),this.isCentered()&&this.setCentered(!1)}return a},doSetDocked:Ext.emptyFn,resetFloating:function(){this.setTop(null),this.setRight(null),this.setBottom(null),this.setLeft(null)},updateFloating:function(){var a=!0,b=this.getFloatingCls();this.getTop()===null&&this.getBottom()===null&&this.getRight()===null&&this.getLeft()===null&&(a=!1),a!==this.floating&&(a?(this.isCentered()&&this.setCentered(!1),this.isDocked()&&this.setDocked(!1),b&&this.addCls(b)):b&&this.removeCls(b),this.floating=a,this.fireEvent("floatingchange",this,a))},updateFloatingCls:function(a,b){this.isFloating()&&this.replaceCls(b,a)},applyDisabled:function(a){return Boolean(a)},doSetDisabled:function(a){this.element[a?"addCls":"removeCls"](this.getDisabledCls())},updateDisabledCls:function(a,b){this.isDisabled()&&this.element.replaceCls(b,a)},disable:function(){this.setDisabled(!0)},enable:function(){this.setDisabled(!1)},isDisabled:function(){return this.getDisabled()},applyZIndex:function(a){return a!==null&&(a=Number(a),isNaN(a)&&(a=null)),a},updateZIndex:function(a){var b=this.element.dom.style;a!==null?b.setProperty("z-index",a,"important"):b.removeProperty("z-index")},getInnerHtmlElement:function(){var a=this.innerHtmlElement,b=this.getStyleHtmlCls();if(!a||!a.dom||!a.dom.parentNode)this.innerHtmlElement=a=this.innerElement.createChild({cls:"x-innerhtml "}),this.getStyleHtmlContent()&&(this.innerHtmlElement.addCls(b),this.innerElement.removeCls(b));return a},updateHtml:function(a){var b=this.getInnerHtmlElement();Ext.isElement(a)?(b.setHtml(""),b.append(a)):b.setHtml(a)},applyHidden:function(a){return Boolean(a)},doSetHidden:function(a){var b=this.renderElement;if(b.isDestroyed)return;a?b.hide():b.show(),this.element&&this.element[a?"addCls":"removeCls"](this.getHiddenCls()),this.fireEvent(a?"hide":"show",this)},updateHiddenCls:function(a,b){this.isHidden()&&this.element.replaceCls(b,a)},isHidden:function(){return this.getHidden()},hide:function(a){if(!this.getHidden()){if(a===undefined||a&&a.isComponent)a=this.getHideAnimation();a&&(a===!0&&(a="fadeOut"),this.onBefore({hiddenchange:"animateFn",scope:this,single:!0,args:[a]})),this.setHidden(!0)}return this},show:function(a){var b=this.getHidden();if(b||b===null){if(a===undefined||a&&!a.isComponent)a=this.getShowAnimation();a&&(a===!0&&(a="fadeIn"),this.onBefore({hiddenchange:"animateFn",scope:this,single:!0,args:[a]})),this.setHidden(!1)}return this},animateFn:function(a,b,c,d,e,f){if(a){var g=new Ext.fx.Animation(a);g.setElement(b.element),c&&(g.setOnEnd(function(){f.resume()}),f.pause()),Ext.Animator.run(g)}},setVisibility:function(a){this.renderElement.setVisibility(a)},isRendered:function(){return this.rendered},isPainted:function(){return this.renderElement.isPainted()},applyTpl:function(a){return Ext.isObject(a)&&a.isTemplate?a:new Ext.XTemplate(a)},applyData:function(a){return Ext.isObject(a)?Ext.apply({},a):a},updateData:function(a){var b=this;if(a){var c=b.getTpl(),d=b.getTplWriteMode();c&&c[d](b.getInnerHtmlElement(),a),this.fireEvent("updatedata",b,a)}},applyRecord:function(a){return a&&Ext.isObject(a)&&a.isModel?a:null},updateRecord:function(a,b){var c=this;b&&b.unjoin(c),a?(a.join(c),c.updateData(a.getData(!0))):c.updateData("")},afterEdit:function(){this.updateRecord(this.getRecord())},afterErase:function(){this.setRecord(null)},applyItemId:function(a){return a||this.getId()},isXType:function(a,b){return b?this.xtypes.indexOf(a)!=-1:Boolean(this.xtypesMap[a])},getXTypes:function(){return this.xtypesChain.join("/")},getDraggableBehavior:function(){var a=this.draggableBehavior;return a||(a=this.draggableBehavior=new Ext.behavior.Draggable(this)),a},applyDraggable:function(a){this.getDraggableBehavior().setConfig(a)},getDraggable:function(){return this.getDraggableBehavior().getDraggable()},getTranslatableBehavior:function(){var a=this.translatableBehavior;return a||(a=this.translatableBehavior=new Ext.behavior.Translatable(this)),a},applyTranslatable:function(a){this.getTranslatableBehavior().setConfig(a)},getTranslatable:function(){return this.getTranslatableBehavior().getTranslatable()},translateAxis:function(a,b,c){var d,e;return a==="x"?d=b:e=b,this.translate(d,e,c)},translate:function(){var a=this.getTranslatable();a||(this.setTranslatable(!0),a=this.getTranslatable()),a.translate.apply(a,arguments)},setRendered:function(a){var b=this.rendered;return a!==b?(this.rendered=a,!0):!1},setSize:function(a,b){a!=undefined&&this.setWidth(a),b!=undefined&&this.setHeight(b)},doAddListener:function(a,b,c,d,e){return d&&"element"in d&&(this.referenceList.indexOf(d.element)===-1&&Ext.Logger.error("Adding event listener with an invalid element reference of '"+d.element+"' for this component. Available values are: '"+this.referenceList.join("', '")+"'",this),this[d.element].doAddListener(a,b,c||this,d,e)),this.callParent(arguments)},doRemoveListener:function(a,b,c,d,e){return d&&"element"in d&&(this.referenceList.indexOf(d.element)===-1&&Ext.Logger.error("Removing event listener with an invalid element reference of '"+d.element+"' for this component. Available values are: '"+this.referenceList.join('", "')+"'",this),this[d.element].doRemoveListener(a,b,c||this,d,e)),this.callParent(arguments)},showBy:function(a,b){var c=Ext.Array.from(arguments),d=Ext.Viewport,e=this.getParent();this.setVisibility(!1),e!==d&&d.add(this),this.show(),this.on("erased","onShowByErased",this,{single:!0}),d.on("resize","refreshShowBy",this,{args:[a,b]}),this.currentShowByArgs=c,this.alignTo(a,b),this.setVisibility(!0)},refreshShowBy:function(a,b){this.alignTo(a,b)},onShowByErased:function(){Ext.Viewport.un("resize","refreshShowBy",this)},alignTo:function(a,b){var c=a.isComponent?a.renderElement:a,d=this.renderElement,e=c.getPageBox(),f=this.getParent().element.getPageBox(),g=d.getPageBox(),h=e.height,i=e.width,j=g.height,k=g.width;f.bottom-=5,f.height-=10,f.left+=5,f.right-=5,f.top+=5,f.width-=10;if(!b||b==="auto")f.bottom-e.bottom<j?e.top-f.top<j?e.left-f.left<k?b="cl-cr?":b="cr-cl?":b="bc-tc?":b="tc-bc?";var l=b.match(this.alignmentRegex);l||Ext.Logger.error("Invalid alignment value of '"+b+"'");var m=l[1].split(""),n=l[2].split(""),o=l[3]==="?",p=m[0],q=m[1]||p,r=n[0],s=n[1]||r,t=e.top,u=e.left,v=h/2,w=i/2,x=k/2,y=j/2,z,A;switch(p){case"t":switch(r){case"c":t+=v;break;case"b":t+=h}break;case"b":switch(r){case"c":t-=j-v;break;case"t":t-=j;break;case"b":t-=j-h}break;case"c":switch(r){case"t":t-=y;break;case"c":t-=y-v;break;case"b":t-=y-h}}switch(q){case"l":switch(s){case"c":u+=v;break;case"r":u+=i}break;case"r":switch(s){case"r":u-=k-i;break;case"c":u-=k-x;break;case"l":u-=k}break;case"c":switch(s){case"l":u-=x;break;case"c":u-=x-w;break;case"r":u-=x-i}}o&&(z=f.left+f.width-k,A=f.top+f.height-j,u=Math.max(f.left,Math.min(z,u)),t=Math.max(f.top,Math.min(A,t))),this.setLeft(u),this.setTop(t)},up:function(a){var b=this.parent;if(a)for(;b;b=b.parent)if(Ext.ComponentQuery.is(b,a))return b;return b},getBubbleTarget:function(){return this.getParent()},destroy:function(){this.destroy=Ext.emptyFn;var a=this.getParent(),b=this.referenceList,c,d,e;a&&a.remove(this,!1);for(c=0,d=b.length;c<d;c++)e=b[c],this[e].destroy(),delete this[e];this.setRecord(null),Ext.destroy(this.innerHtmlElement,this.getTranslatable()),Ext.ComponentManager.unregister(this),this.callParent()},onClassExtended:function(a,b){var c=this,d=c.prototype.config,e=b.config||{},f;for(f in d)f in b&&(e[f]=b[f],delete b[f],Ext.Logger.deprecate(f+" is deprecated as a property directly on the Component. "+'Please put it inside the config object, and retrieve it using "this.config.'+f+'"'));b.config=e}},function(){var a=Ext.emptyFn;this.override({constructor:function(b){var c;if(b){b.enabled&&(Ext.Logger.deprecate("'enabled' config is deprecated, please use 'disabled' config instead",this),b.disabled=!b.enabled),(b.scroll||this.config.scroll||this.scrollable||this.config.scrollable)&&!this.isContainer&&(Ext.Logger.deprecate("You are no longer able to scroll a component. Please use a Ext.Container instead.",this),delete b.scrollable,delete b.scroll),(b.hideOnMaskTap||this.config.hideOnMaskTap)&&!this.isContainer&&(Ext.Logger.deprecate("You are no longer able use hideOnMaskTap on a component. Please use a Ext.Container instead.",this),delete b.hideOnMaskTap),(b.modal||this.config.modal)&&!this.isContainer&&(Ext.Logger.deprecate("You are no longer able use modal on a component. Please use a Ext.Container instead.",this),delete b.modal),b.dock&&(Ext.Logger.deprecate("'dock' config for docked items is deprecated, please use 'docked' instead"),b.docked=b.dock,delete b.dock),b.enterAnimation&&(Ext.Logger.deprecate("'enterAnimation' config for Components is deprecated, please use 'showAnimation' instead"),b.showAnimation=b.enterAnimation,delete b.enterAnimation),b.exitAnimation&&(Ext.Logger.deprecate("'exitAnimation' config for Components is deprecated, please use 'hideAnimation' instead"),b.hideAnimation=b.exitAnimation,delete b.exitAnimation),b.componentCls&&(Ext.Logger.deprecate("'componentCls' config is deprecated, please use 'cls' config instead",this),b.cls=b.componentCls),b.floating&&(Ext.Logger.deprecate("'floating' config is deprecated, please set 'left', 'right', 'top' or 'bottom' config instead",this),b.left=b.left||0);for(c in b)b.hasOwnProperty(c)&&c!=="xtype"&&c!=="xclass"&&!this.hasConfig(c)&&(this[c]=b[c]);b.layoutOnOrientationChange&&(Ext.Logger.deprecate("'layoutOnOrientationChange' has been fully removed and no longer used"),delete b.layoutOnOrientationChange),b.monitorOrientation&&(Ext.Logger.deprecate("'monitorOrientation' has been removed. If you need to monitor the orientaiton, please use the 'resize' event."),delete b.monitorOrientation),b.stopMaskTapEvent&&(Ext.Logger.deprecate("'stopMaskTapEvent' has been removed."),delete b.stopMaskTapEvent)}this.callParent(arguments),this.onRender!==a&&(Ext.Logger.deprecate("onRender() is deprecated, please put your code inside initialize() instead",this),this.onRender()),this.afterRender!==a&&(Ext.Logger.deprecate("afterRender() is deprecated, please put your code inside initialize() instead",this),this.afterRender()),this.initEvents!==a&&(Ext.Logger.deprecate("initEvents() is deprecated, please put your code inside initialize() instead",this),this.initEvents()),this.initComponent!==a&&(Ext.Logger.deprecate("initComponent() is deprecated, please put your code inside initialize() instead",this),this.initComponent()),this.setOrientation!==a&&(Ext.Logger.deprecate("setOrientation() is deprecated",this),this.setOrientation())},onRender:a,afterRender:a,initEvents:a,initComponent:a,setOrientation:a,show:function(){if(this.renderElement.dom){var a=this.renderElement.dom.parentNode;a&&a.nodeType==11&&(Ext.Logger.deprecate("Call show() on a component that doesn't currently belong to any container. Please add it to the the Viewport first, i.e: Ext.Viewport.add(component);",this),Ext.Viewport.add(this))}return this.callParent(arguments)},doAddListener:function(a,b,c,d,e){switch(a){case"render":return Ext.Logger.warn("The render event on Components is deprecated. Please use the painted event. Please refer to: http://bit.ly/xgv3K1 for more details.",this),this}return this.callParent(arguments)},addListener:function(a){return arguments.length===1&&Ext.isObject(a)&&("el"in a||"body"in a)&&Ext.Logger.error("Adding component element listeners using the old format is no longer supported. Please refer to: http://bit.ly/xHCyfa for more details.",this),this.callParent(arguments)},getEl:function(){return Ext.Logger.deprecate("getEl() is deprecated, please access the Component's element from the 'element' property instead",this),this.renderElement},setFloating:function(a){var b=this.isFloating();a&&!b?this.setTop(0):b&&this.resetFloating()},setScrollable:function(){return Ext.Logger.deprecate("Ext.Component cannot be scrollable. Please use Ext.Container#setScrollable on a Ext.Container.",this),!1}}),Ext.deprecateClassMembers(this,{el:"element",body:"element",outer:"renderElement",ownerCt:"parent",update:"setHtml"})})}(Ext.baseCSSPrefix),Ext.define("Ext.Img",{extend:"Ext.Component",xtype:["image","img"],config:{src:null,baseCls:Ext.baseCSSPrefix+"img",mode:"background"},beforeInitialize:function(){var a=this;a.onLoad=Ext.Function.bind(a.onLoad,a),a.onError=Ext.Function.bind(a.onError,a)},initialize:function(){var a=this;a.callParent(),a.relayEvents(a.renderElement,"*"),a.element.on({tap:"onTap",scope:a})},hide:function(){this.callParent(),this.hiddenSrc=this.hiddenSrc||this.getSrc(),this.setSrc(null)},show:function(){this.callParent(),this.hiddenSrc&&(this.setSrc(this.hiddenSrc),delete this.hiddenSrc)},updateMode:function(a){a==="background"?this.imageElement&&(this.imageElement.destroy(),delete this.imageElement,this.updateSrc(this.getSrc())):this.imageElement=this.element.createChild({tag:"img"})},onTap:function(a){this.fireEvent("tap",this,a)},onAfterRender:function(){this.updateSrc(this.getSrc())},updateSrc:function(a){var b=this,c;b.getMode()==="background"?c=this.imageObject||new Image:c=b.imageElement.dom,this.imageObject=c,c.setAttribute("src",Ext.isString(a)?a:""),c.addEventListener("load",b.onLoad,!1),c.addEventListener("error",b.onError,!1)},detachListeners:function(){var a=this.imageObject;a&&(a.removeEventListener("load",this.onLoad,!1),a.removeEventListener("error",this.onError,!1))},onLoad:function(a){this.detachListeners(),this.getMode()==="background"&&(this.element.dom.style.backgroundImage='url("'+this.imageObject.src+'")'),this.fireEvent("load",this,a)},onError:function(a){this.detachListeners(),this.fireEvent("error",this,a)},doSetWidth:function(a){var b=this.getMode()==="background"?this.element:this.imageElement;b.setWidth(a),this.callParent(arguments)},doSetHeight:function(a){var b=this.getMode()==="background"?this.element:this.imageElement;b.setHeight(a),this.callParent(arguments)},destroy:function(){this.detachListeners(),Ext.destroy(this.imageObject),delete this.imageObject,this.callParent()}}),Ext.define("Ext.dataview.IndexBar",{extend:"Ext.Component",alternateClassName:"Ext.IndexBar",config:{baseCls:Ext.baseCSSPrefix+"indexbar",direction:"vertical",letters:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ui:"alphabet",listPrefix:null},itemCls:Ext.baseCSSPrefix+"",updateDirection:function(a,b){var c=this.getBaseCls();this.element.replaceCls(c+"-"+b,c+"-"+a)},getElementConfig:function(){return{reference:"wrapper",classList:["x-centered","x-indexbar-wrapper"],children:[this.callParent()]}},updateLetters:function(a){this.innerElement.setHtml("");if(a){var b=a.length,c;for(c=0;c<b;c++)this.innerElement.createChild({html:a[c]})}},updateListPrefix:function(a){a&&a.length&&this.innerElement.createChild({html:a},0)},initialize:function(){this.callParent(),this.innerElement.on({touchstart:this.onTouchStart,touchend:this.onTouchEnd,touchmove:this.onTouchMove,scope:this})},onTouchStart:function(a,b){a.stopPropagation(),this.innerElement.addCls(this.getBaseCls()+"-pressed"),this.pageBox=this.innerElement.getPageBox(),this.onTouchMove(a)},onTouchEnd:function(a,b){this.innerElement.removeCls(this.getBaseCls()+"-pressed")},onTouchMove:function(a){var b=Ext.util.Point.fromEvent(a),c,d=this.pageBox;d||(d=this.pageBox=this.el.getPageBox());if(this.getDirection()==="vertical"){if(b.y>d.bottom||b.y<d.top)return;c=Ext.Element.fromPoint(d.left+d.width/2,b.y)}else{if(b.x>d.right||b.x<d.left)return;c=Ext.Element.fromPoint(b.x,d.top+d.height/2)}c&&this.fireEvent("index",this,c.dom.innerHTML,c)},destroy:function(){var a=this,b=Array.prototype.slice.call(a.innerElement.dom.childNodes),c=b.length,d=0;for(;d<c;d++)Ext.removeNode(b[d]);this.callParent()}},function(){Ext.deprecateMethod(this,"isHorizontal",null,"Ext.dataview.IndexBar.isHorizontal() has been removed"),Ext.deprecateMethod(this,"isVertical",null,"Ext.dataview.IndexBar.isVertical() has been removed"),Ext.deprecateMethod(this,"refresh",null,"Ext.dataview.IndexBar.refresh() has been removed"),Ext.deprecateProperty(this,"alphabet",null,"Ext.dataview.IndexBar.alphabet has been removed"),Ext.deprecateProperty(this,"itemSelector",null,"Ext.dataview.IndexBar.itemSelector has been removed"),Ext.deprecateProperty(this,"store",null,"Ext.dataview.IndexBar.store has been removed")}),Ext.define("Ext.dataview.ListItemHeader",{extend:"Ext.Component",xtype:"listitemheader",config:{baseCls:Ext.baseCSSPrefix+"list-header",docked:"top"}}),Ext.define("Ext.dataview.element.Container",{extend:"Ext.Component",doInitialize:function(){this.element.on({touchstart:"onItemTouchStart",touchend:"onItemTouchEnd",tap:"onItemTap",taphold:"onItemTapHold",touchmove:"onItemTouchMove",singletap:"onItemSingleTap",doubletap:"onItemDoubleTap",swipe:"onItemSwipe",delegate:"> div",scope:this})},initialize:function(){this.callParent(),this.doInitialize()},updateBaseCls:function(a,b){var c=this;c.callParent([a+"-container",b])},onItemTouchStart:function(a){var b=this,c=a.getTarget(),d=b.getViewItems().indexOf(c);Ext.get(c).on({touchmove:"onItemTouchMove",scope:b,single:!0}),b.fireEvent("itemtouchstart",b,Ext.get(c),d,a)},onItemTouchEnd:function(a){var b=this,c=a.getTarget(),d=b.getViewItems().indexOf(c);Ext.get(c).un({touchmove:"onItemTouchMove",scope:b}),b.fireEvent("itemtouchend",b,Ext.get(c),d,a)},onItemTouchMove:function(a){var b=this,c=a.getTarget(),d=b.getViewItems().indexOf(c);b.fireEvent("itemtouchmove",b,Ext.get(c),d,a)},onItemTap:function(a){var b=this,c=a.getTarget(),d=b.getViewItems().indexOf(c);b.fireEvent("itemtap",b,Ext.get(c),d,a)},onItemTapHold:function(a){var b=this,c=a.getTarget(),d=b.getViewItems().indexOf(c);b.fireEvent("itemtaphold",b,Ext.get(c),d,a)},onItemDoubleTap:function(a){var b=this,c=a.getTarget(),d=b.getViewItems().indexOf(c);b.fireEvent("itemdoubletap",b,Ext.get(c),d,a)},onItemSingleTap:function(a){var b=this,c=a.getTarget(),d=b.getViewItems().indexOf(c);b.fireEvent("itemsingletap",b,Ext.get(c),d,a)},onItemSwipe:function(a){var b=this,c=a.getTarget(),d=b.getViewItems().indexOf(c);b.fireEvent("itemswipe",b,Ext.get(c),d,a)},updateListItem:function(a,b){var c=this,d=c.dataview,e=d.prepareData(a.getData(!0),d.getStore().indexOf(a),a);b.innerHTML=c.dataview.getItemTpl().apply(e)},addListItem:function(a,b){var c=this,d=c.dataview,e=d.prepareData(b.getData(!0),d.getStore().indexOf(b),b),f=c.element,g=f.dom.childNodes,h=g.length,i;i=Ext.Element.create(this.getItemElementConfig(a,e)),!h||a==h?i.appendTo(f):i.insertBefore(g[a])},getItemElementConfig:function(a,b){var c=this.dataview,d=c.getItemCls(),e=c.getBaseCls()+"-item";return d&&(e+=" "+d),{cls:e,html:c.getItemTpl().apply(b)}},doRemoveItemCls:function(a){var b=this.getViewItems(),c=b.length,d=0;for(;d<c;d++)Ext.fly(b[d]).removeCls(a)},doAddItemCls:function(a){var b=this.getViewItems(),c=b.length,d=0;for(;d<c;d++)Ext.fly(b[d]).addCls(a)},moveItemsToCache:function(a,b){var c=this,d=c.getViewItems(),e=b-a,f;for(;e>=0;e--)f=d[a+e],f.parentNode.removeChild(f);c.getViewItems().length==0&&this.dataview.showEmptyText()},moveItemsFromCache:function(a){var b=this,c=b.dataview,d=c.getStore(),e=a.length,f,g;e&&c.hideEmptyText();for(f=0;f<e;f++)a[f]._tmpIndex=d.indexOf(a[f]);Ext.Array.sort(a,function(a,b){return a._tmpIndex>b._tmpIndex?1:-1});for(f=0;f<e;f++)g=a[f],b.addListItem(g._tmpIndex,g),delete g._tmpIndex},getViewItems:function(){return Array.prototype.slice.call(this.element.dom.childNodes)},destroy:function(){var a=this.getViewItems(),b=a.length,c=0;for(;c<b;c++)Ext.removeNode(a[c]);this.callParent()}}),Ext.define("Ext.dataview.element.List",{extend:"Ext.dataview.element.Container",updateBaseCls:function(a){var b=this;b.itemClsShortCache=a+"-item",b.headerClsShortCache=a+"-header",b.headerClsCache="."+b.headerClsShortCache,b.headerItemClsShortCache=a+"-header-item",b.footerClsShortCache=a+"-footer-item",b.footerClsCache="."+b.footerClsShortCache,b.labelClsShortCache=a+"-item-label",b.labelClsCache="."+b.labelClsShortCache,b.disclosureClsShortCache=a+"-disclosure",b.disclosureClsCache="."+b.disclosureClsShortCache,b.iconClsShortCache=a+"-icon",b.iconClsCache="."+b.iconClsShortCache,this.callParent(arguments)},hiddenDisplayCache:Ext.baseCSSPrefix+"hidden-display",getItemElementConfig:function(a,b){var c=this,d=c.dataview,e=d.getItemCls(),f=c.itemClsShortCache,g,h;return e&&(f+=" "+e),g={cls:f,children:[{cls:c.labelClsShortCache,html:d.getItemTpl().apply(b)}]},d.getIcon()&&(h=b.iconSrc,g.children.push({cls:c.iconClsShortCache,style:"background-image: "+h?'url("'+newSrc+'")':""})),d.getOnItemDisclosure()&&g.children.push({cls:c.disclosureClsShortCache+(b[d.getDisclosureProperty()]===!1?c.hiddenDisplayCache:"")}),g},updateListItem:function(a,b){var c=this,d=c.dataview,e=Ext.fly(b),f=e.down(c.labelClsCache,!0),g=a.data,h=d.getDisclosureProperty(),i=g&&g.hasOwnProperty(h),j=g&&g.hasOwnProperty("iconSrc"),k,l;f.innerHTML=d.getItemTpl().apply(g),i&&g[h]===!1&&(k=e.down(c.disclosureClsCache),k[i?"removeCls":"addCls"](c.hiddenDisplayCache)),d.getIcon()&&(l=e.down(c.iconClsCache,!0),l.style.backgroundImage=j?'url("'+j+'")':"")},doRemoveHeaders:function(){var a=this,b=a.headerItemClsShortCache,c=a.element.query(a.headerClsCache),d=c.length,e=0,f;for(;e<d;e++)f=c[e],Ext.fly(f.parentNode).removeCls(b),Ext.removeNode(f)},doRemoveFooterCls:function(){var a=this,b=a.footerClsShortCache,c=a.element.query(a.footerClsCache),d=c.length,e=0;for(;e<d;e++)Ext.fly(c[e]).removeCls(b)},doAddHeader:function(a,b){a=Ext.fly(a),b&&a.insertFirst(Ext.Element.create({cls:this.headerClsShortCache,html:b})),a.addCls(this.headerItemClsShortCache)},destroy:function(){this.doRemoveHeaders(),this.callParent()}}),Ext.define("Ext.Decorator",{extend:"Ext.Component",isDecorator:!0,config:{component:{}},statics:{generateProxySetter:function(a){return function(b){var c=this.getComponent();return c[a].call(c,b),this}},generateProxyGetter:function(a){return function(){var b=this.getComponent();return b[a].call(b)}}},onClassExtended:function(a,b){if(!b.hasOwnProperty("proxyConfig"))return;var c=Ext.Class,d=b.proxyConfig,e=b.config;b.config=e?Ext.applyIf(e,d):d;var f,g,h,i;for(f in d)d.hasOwnProperty(f)&&(g=c.getConfigNameMap(f),h=g.set,i=g.get,b[h]=this.generateProxySetter(h),b[i]=this.generateProxyGetter(i))},applyComponent:function(a){return Ext.factory(a,Ext.Component)},updateComponent:function(a,b){b&&(this.isRendered()&&b.setRendered(!1)?b.fireAction("renderedchange",[this,b,!1],"doUnsetComponent",this,{args:[b]}):this.doUnsetComponent(b)),a&&(this.isRendered()&&a.setRendered(!0)?a.fireAction("renderedchange",[this,a,!0],"doSetComponent",this,{args:[a]}):this.doSetComponent(a))},doUnsetComponent:function(a){a.renderElement.dom&&this.innerElement.dom.removeChild(a.renderElement.dom)},doSetComponent:function(a){a.renderElement.dom&&this.innerElement.dom.appendChild(a.renderElement.dom)},setRendered:function(a){var b;return this.callParent(arguments)?(b=this.getComponent(),b&&b.setRendered(a),!0):!1},setDisabled:function(a){this.callParent(arguments),this.getComponent().setDisabled(a)},destroy:function(){Ext.destroy(this.getComponent()),this.callParent()}}),Ext.define("Ext.field.Input",{extend:"Ext.Component",xtype:"input",tag:"input",cachedConfig:{cls:Ext.baseCSSPrefix+"form-field",focusCls:Ext.baseCSSPrefix+"field-focus",maskCls:Ext.baseCSSPrefix+"field-mask",useMask:"auto",type:"text",checked:!1},config:{baseCls:Ext.baseCSSPrefix+"field-input",name:null,value:null,isFocused:!1,tabIndex:null,placeHolder:null,minValue:null,maxValue:null,stepValue:null,maxLength:null,autoComplete:null,autoCapitalize:null,autoCorrect:null,readOnly:null,maxRows:null,startValue:!1},getTemplate:function(){var a=[{reference:"input",tag:this.tag},{reference:"clearIcon",cls:"x-clear-icon"}];return a.push({reference:"mask",classList:[this.config.maskCls]}),a},initElement:function(){var a=this;a.callParent(),a.input.on({scope:a,keyup:"onKeyUp",focus:"onFocus",blur:"onBlur",paste:"onPaste"}),a.mask.on({tap:"onMaskTap",scope:a}),a.clearIcon&&a.clearIcon.on({tap:"onClearIconTap",scope:a})},applyUseMask:function(a){return a==="auto"&&(a=Ext.os.is.iOS&&Ext.os.version.lt("5")),Boolean(a)},updateUseMask:function(a){this.mask[a?"show":"hide"]()},updateFieldAttribute:function(a,b){var c=this.input;b?c.dom.setAttribute(a,b):c.dom.removeAttribute(a)},updateCls:function(a,b){this.input.addCls(Ext.baseCSSPrefix+"input-el"),this.input.replaceCls(b,a)},updateType:function(a,b){var c=Ext.baseCSSPrefix+"input-";this.input.replaceCls(c+b,c+a),this.updateFieldAttribute("type",a)},updateName:function(a){this.updateFieldAttribute("name",a)},getValue:function(){var a=this.input;return a&&(this._value=a.dom.value),this._value},applyValue:function(a){return Ext.isEmpty(a)?"":a},updateValue:function(a){var b=this.input;b&&(b.dom.value=a)},setValue:function(a){return this.updateValue(this.applyValue(a)),this},applyTabIndex:function(a){if(a!==null&&typeof a!="number")throw new Error("Ext.field.Field: [applyTabIndex] trying to pass a value which is not a number");return a},updateTabIndex:function(a){this.updateFieldAttribute("tabIndex",a)},testAutoFn:function(a){return[!0,"on"].indexOf(a)!==-1},applyMaxLength:function(a){if(a!==null&&typeof a!="number")throw new Error("Ext.field.Text: [applyMaxLength] trying to pass a value which is not a number");return a},updateMaxLength:function(a){this.updateFieldAttribute("maxlength",a)},updatePlaceHolder:function(a){this.updateFieldAttribute("placeholder",a)},applyAutoComplete:function(a){return this.testAutoFn(a)},updateAutoComplete:function(a){var b=a?"on":"off";this.updateFieldAttribute("autocomplete",b)},applyAutoCapitalize:function(a){return this.testAutoFn(a)},updateAutoCapitalize:function(a){var b=a?"on":"off";this.updateFieldAttribute("autocapitalize",b)},applyAutoCorrect:function(a){return this.testAutoFn(a)},updateAutoCorrect:function(a){var b=a?"on":"off";this.updateFieldAttribute("autocorrect",b)},updateMinValue:function(a){this.updateFieldAttribute("min",a)},updateMaxValue:function(a){this.updateFieldAttribute("max",a)},updateStepValue:function(a){this.updateFieldAttribute("step",a)},checkedRe:/^(true|1|on)/i,getChecked:function(){var a=this.input,b;return a&&(b=a.dom.checked,this._checked=b),b},applyChecked:function(a){return!!this.checkedRe.test(String(a))},setChecked:function(a){this.updateChecked(this.applyChecked(a)),this._checked=a},updateChecked:function(a){this.input.dom.checked=a},updateReadOnly:function(a){this.updateFieldAttribute("readonly",a)},applyMaxRows:function(a){if(a!==null&&typeof a!="number")throw new Error("Ext.field.Input: [applyMaxRows] trying to pass a value which is not a number");return a},updateMaxRows:function(a){this.updateFieldAttribute("rows",a)},doSetDisabled:function(a){this.callParent(arguments),this.input.dom.disabled=a,a||this.blur()},isDirty:function(){return this.getDisabled()?!1:String(this.getValue())!==String(this.originalValue)},reset:function(){this.setValue(this.originalValue)},onMaskTap:function(a){this.fireAction("masktap",[this,a],"doMaskTap")},doMaskTap:function(a,b){if(a.getDisabled())return!1;a.maskCorrectionTimer=Ext.defer(a.showMask,1e3,a),a.hideMask()},showMask:function(a){this.mask&&this.mask.setStyle("display","block")},hideMask:function(a){this.mask&&this.mask.setStyle("display","none")},focus:function(){var a=this,b=a.input;return b&&b.dom.focus&&b.dom.focus(),a},blur:function(){var a=this,b=this.input;return b&&b.dom.blur&&b.dom.blur(),a},select:function(){var a=this,b=a.input;return b&&b.dom.setSelectionRange&&b.dom.setSelectionRange(0,9999),a},onFocus:function(a){this.fireAction("focus",[a],"doFocus")},doFocus:function(a){var b=this;b.mask&&(b.maskCorrectionTimer&&clearTimeout(b.maskCorrectionTimer),b.hideMask()),b.getIsFocused()||(b.setIsFocused(!0),b.setStartValue(b.getValue()))},onBlur:function(a){this.fireAction("blur",[a],"doBlur")},doBlur:function(a){var b=this,c=b.getValue(),d=b.getStartValue();b.setIsFocused(!1),String(c)!=String(d)&&b.onChange(b,c,d),b.showMask()},onClearIconTap:function(a){var b=this.getValue(),c;this.fireEvent("clearicontap",this,a),c=this.getValue(),String(c)!=String(b)&&this.onChange(this,c,b),Ext.os.is.Android&&this.focus()},onClick:function(a){this.fireEvent("click",a)},onChange:function(a,b,c){this.fireEvent("change",a,b,c)},onKeyUp:function(a){this.fireEvent("keyup",a)},onPaste:function(a){this.fireEvent("paste",a)},onMouseDown:function(a){this.fireEvent("mousedown",a)}}),Ext.define("Ext.field.Field",{extend:"Ext.Decorator",alternateClassName:"Ext.form.Field",xtype:"field",requires:["Ext.field.Input"],isField:!0,isFormField:!0,config:{baseCls:Ext.baseCSSPrefix+"field",label:null,labelAlign:"left",labelWidth:"30%",clearIcon:null,required:!1,inputType:null,name:null,value:null,tabIndex:null},cachedConfig:{labelCls:null,requiredCls:Ext.baseCSSPrefix+"field-required",inputCls:null},getElementConfig:function(){var a=Ext.baseCSSPrefix;return{reference:"element",className:"x-container",children:[{reference:"label",cls:a+"form-label",children:[{reference:"labelspan",tag:"span"}]},{reference:"innerElement",cls:a+"component-outer"}]}},updateLabel:function(a,b){var c=this.renderElement,d=Ext.baseCSSPrefix;a?(this.labelspan.setHtml(a),c.addCls(d+"field-labeled")):c.removeCls(d+"field-labeled")},updateLabelAlign:function(a,b){var c=this.renderElement,d=Ext.baseCSSPrefix;a&&(c.addCls(d+"label-align-"+a),a=="top"?this.label.setWidth("100%"):this.updateLabelWidth(this.getLabelWidth())),b&&c.removeCls(d+"label-align-"+b)},updateLabelCls:function(a,b){a&&this.label.addCls(a),b&&this.label.removeCls(b)},updateLabelWidth:function(a){a&&(this.getLabelAlign()=="top"?this.label.setWidth("100%"):this.label.setWidth(a))},updateRequired:function(a){this.renderElement[a?"addCls":"removeCls"](this.getRequiredCls())},updateRequiredCls:function(a,b){this.getRequired()&&this.renderElement.replaceCls(b,a)},initialize:function(){var a=this;a.callParent(),a.doInitValue()},doInitValue:function(){this.originalValue=this.getInitialConfig().value},reset:function(){return this.setValue(this.originalValue),this},isDirty:function(){return!1}},function(){var a=this.prototype;this.override({constructor:function(a){a=a||{};var b=function(b,c,d){a.hasOwnProperty(b)&&(c?(a[c]=a[c]||{},a[c][d?d:b]=a[c][d?d:b]||a[b]):a[d]=a[b],delete a[b],Ext.Logger.deprecate("'"+b+"' config is deprecated, use the '"+(c?c+".":"")+(d?d:b)+"' config instead",2))};b("fieldCls",null,"inputCls"),b("fieldLabel",null,"label"),b("useClearIcon",null,"clearIcon"),a.hasOwnProperty("autoCreateField")&&Ext.Logger.deprecate("'autoCreateField' config is deprecated. If you are subclassing Ext.field.Field and you do not want a Ext.field.Input, set the 'input' config to false.",this),this.callOverridden(arguments)}}),Ext.Object.defineProperty(a,"fieldEl",{get:function(){return Ext.Logger.deprecate("'fieldEl' is deprecated, please use getInput() to get an instance of Ext.field.Field instead",this),this.getInput().input}}),Ext.Object.defineProperty(a,"labelEl",{get:function(){return Ext.Logger.deprecate("'labelEl' is deprecated",this),this.getLabel().element}})}),Ext.define("Ext.field.Checkbox",{extend:"Ext.field.Field",alternateClassName:"Ext.form.Checkbox",xtype:"checkboxfield",qsaLeftRe:/[\[]/g,qsaRightRe:/[\]]/g,isCheckbox:!0,config:{ui:"checkbox",value:"",checked:!1,tabIndex:-1,component:{xtype:"input",type:"checkbox",useMask:!0,cls:Ext.baseCSSPrefix+"input-checkbox"}},initialize:function(){var a=this;a.callParent(),a.getComponent().on({scope:a,order:"before",masktap:"onMaskTap"})},doInitValue:function(){var a=this,b=a.getInitialConfig();b.hasOwnProperty("value")&&(a.originalState=b.value),b.hasOwnProperty("checked")&&(a.originalState=b.checked),a.callParent(arguments)},updateInputType:function(a){var b=this.getComponent();b&&b.setType(a)},updateName:function(a){var b=this.getComponent();b&&b.setName(a)},getChecked:function(){return this._checked=this.getComponent().getChecked(),this._checked},getValue:function(){return this.getChecked()},getSubmitValue:function(){return this.getChecked()?this._value||!0:!1},setChecked:function(a){this.updateChecked(a),this._checked=a},updateChecked:function(a){this.getComponent().setChecked(a)},onMaskTap:function(a,b){var c=this,d=a.input.dom;return c.getDisabled()?!1:(d.checked=!d.checked,c.getChecked()?c.fireEvent("check",c,b):c.fireEvent("uncheck",c,b),!1)},doChecked:Ext.emptyFn,doUnChecked:Ext.emptyFn,isChecked:function(){return this.getChecked()},check:function(){return this.setChecked(!0)},uncheck:function(){return this.setChecked(!1)},getSameGroupFields:function(){var a=this.up("formpanel")||this.up("fieldset"),b=this.getName(),c=this.qsaLeftRe,d=this.qsaRightRe,e=[],f,g,h,i;if(!a)return null;b=b.replace(c,"\\["),b=b.replace(d,"\\]"),f=Ext.query("[name="+b+"]",a.element.dom),i=f.length;for(h=0;h<i;h++)g=f[h],g=Ext.fly(g).up(".x-field-"+g.getAttribute("type")),g&&g.id&&e.push(Ext.getCmp(g.id));return e},getGroupValues:function(){var a=[];return this.getSameGroupFields().forEach(function(b){b.getChecked()&&a.push(b.getValue())}),a},setGroupValues:function(a){return this.getSameGroupFields().forEach(function(b){b.setChecked(a.indexOf(b.getValue())!==-1)}),this},resetGroupValues:function(){return this.getSameGroupFields().forEach(function(a){a.setChecked(a.originalState)}),this},reset:function(){return this.setChecked(this.originalState),this}}),Ext.define("Ext.field.Text",{extend:"Ext.field.Field",xtype:"textfield",alternateClassName:"Ext.form.Text",config:{ui:"text",clearIcon:!0,placeHolder:null,maxLength:null,autoComplete:null,autoCapitalize:null,autoCorrect:null,readOnly:null,component:{xtype:"input",type:"text"}},initialize:function(){var a=this;a.callParent(),a.getComponent().on({scope:this,keyup:"onKeyUp",change:"onChange",focus:"onFocus",blur:"onBlur",paste:"onPaste",mousedown:"onMouseDown",clearicontap:"onClearIconTap"}),a.originalValue=a.originalValue||"",a.getComponent().originalValue=a.originalValue,a.syncEmptyCls()},syncEmptyCls:function(){var a=this._value?this._value.length:!1,b=Ext.baseCSSPrefix+"empty";a?this.removeCls(b):this.addCls(b)},updateValue:function(a){var b=this.getComponent();b&&b.setValue(a),this[a?"showClearIcon":"hideClearIcon"](),this.syncEmptyCls()},getValue:function(){var a=this;return a._value=a.getComponent().getValue(),a.syncEmptyCls(),a._value},updatePlaceHolder:function(a){this.getComponent().setPlaceHolder(a)},updateMaxLength:function(a){this.getComponent().setMaxLength(a)},updateAutoComplete:function(a){this.getComponent().setAutoComplete(a)},updateAutoCapitalize:function(a){this.getComponent().setAutoCapitalize(a)},updateAutoCorrect:function(a){this.getComponent().setAutoCorrect(a)},updateReadOnly:function(a){a?this.hideClearIcon():this.showClearIcon(),this.getComponent().setReadOnly(a)},updateInputType:function(a){var b=this.getComponent();b&&b.setType(a)},updateName:function(a){var b=this.getComponent();b&&b.setName(a)},updateTabIndex:function(a){var b=this.getComponent();b&&b.setTabIndex(a)},updateInputCls:function(a,b){var c=this.getComponent();c&&c.replaceCls(b,a)},doSetDisabled:function(a){var b=this;b.callParent(arguments);var c=b.getComponent();c&&c.setDisabled(a),a?b.hideClearIcon():b.showClearIcon()},showClearIcon:function(){var a=this;return!a.getDisabled()&&!a.getReadOnly()&&a.getValue()&&a.getClearIcon()&&a.element.addCls(Ext.baseCSSPrefix+"field-clearable"),a},hideClearIcon:function(){this.getClearIcon()&&this.element.removeCls(Ext.baseCSSPrefix+"field-clearable")},onKeyUp:function(a){this.fireAction("keyup",[this,a],"doKeyUp")},doKeyUp:function(a,b){var c=a.getValue();a[c?"showClearIcon":"hideClearIcon"](),b.browserEvent.keyCode===13&&a.fireAction("action",[a,b],"doAction")},doAction:function(){this.blur()},onClearIconTap:function(a){this.fireAction("clearicontap",[this,a],"doClearIconTap")},doClearIconTap:function(a,b){a.setValue(""),a.getValue()},onChange:function(a,b,c){a.fireEvent("change",this,b,c)},onFocus:function(a){this.isFocused=!0,this.fireEvent("focus",this,a)},onBlur:function(a){var b=this;this.isFocused=!1,b.fireEvent("blur",b,a),setTimeout(function(){b.isFocused=!1},50)},onPaste:function(a){this.fireEvent("paste",this,a)},onMouseDown:function(a){this.fireEvent("mousedown",this,a)},focus:function(){return this.getComponent().focus(),this},blur:function(){return this.getComponent().blur(),this},select:function(){return this.getComponent().select(),this},reset:function(){this.getComponent().reset(),this.getValue(),this[this._value?"showClearIcon":"hideClearIcon"]()},isDirty:function(){var a=this.getComponent();return a?a.isDirty():!1}}),Ext.define("Ext.Button",{extend:"Ext.Component",xtype:"button",cachedConfig:{pressedCls:Ext.baseCSSPrefix+"button-pressing",badgeCls:Ext.baseCSSPrefix+"badge",hasBadgeCls:Ext.baseCSSPrefix+"hasbadge",labelCls:Ext.baseCSSPrefix+"button-label",iconMaskCls:Ext.baseCSSPrefix+"icon-mask"},config:{badgeText:null,text:null,iconCls:null,icon:null,iconAlign:"left",pressedDelay:0,iconMask:null,handler:null,scope:null,autoEvent:null,ui:"normal",baseCls:Ext.baseCSSPrefix+"button"},template:[{tag:"span",reference:"badgeElement",hidden:!0},{tag:"span",className:Ext.baseCSSPrefix+"button-icon",reference:"iconElement",hidden:!0},{tag:"span",reference:"textElement",hidden:!0}],initialize:function(){this.callParent(),this.element.on({scope:this,tap:"onTap",touchstart:"onPress",touchend:"onRelease"})},updateBadgeText:function(a){var b=this.element,c=this.badgeElement;a?(c.show(),c.setText(a)):c.hide(),b[a?"addCls":"removeCls"](this.getHasBadgeCls())},updateText:function(a){var b=this.textElement;a?(b.show(),b.setHtml(a)):b.hide()},updateHtml:function(a){var b=this.textElement;a?(b.show(),b.setHtml(a)):b.hide()},updateBadgeCls:function(a,b){this.badgeElement.replaceCls(b,a)},updateHasBadgeCls:function(a,b){var c=this.element;c.hasCls(b)&&c.replaceCls(b,a)},updateLabelCls:function(a,b){this.textElement.replaceCls(b,a)},updatePressedCls:function(a,b){var c=this.element;c.hasCls(b)&&c.replaceCls(b,a)},updateIcon:function(a){var b=this,c=b.iconElement;a?(b.showIconElement(),c.setStyle("background-image",a?"url("+a+")":""),b.refreshIconAlign(),b.refreshIconMask()):(b.hideIconElement(),b.setIconAlign(!1))},updateIconCls:function(a,b){var c=this,d=c.iconElement;a?(c.showIconElement(),d.replaceCls(b,a),c.refreshIconAlign(),c.refreshIconMask()):(c.hideIconElement(),c.setIconAlign(!1))},updateIconAlign:function(a,b){var c=this.element,d=Ext.baseCSSPrefix+"iconalign-";this.getText()||(a="center"),c.removeCls(d+"center"),c.removeCls(d+b),(this.getIcon()||this.getIconCls())&&c.addCls(d+a)},refreshIconAlign:function(){this.updateIconAlign(this.getIconAlign())},updateIconMaskCls:function(a,b){var c=this.iconElement;this.getIconMask()&&c.replaceCls(b,a)},updateIconMask:function(a){this.iconElement[a?"addCls":"removeCls"](this.getIconMaskCls())},refreshIconMask:function(){this.updateIconMask(this.getIconMask())},applyAutoEvent:function(a){var b=this;return typeof a=="string"&&(a={name:a,scope:b.scope||b}),a},updateAutoEvent:function(a){var b=a.name,c=a.scope;this.setHandler(function(){c.fireEvent(b,c,this)}),this.setScope(c)},hideIconElement:function(){this.iconElement.hide()},showIconElement:function(){this.iconElement.show()},applyUi:function(a){if(a&&Ext.isString(a)){var b=a.split("-");if(b&&(b[1]=="back"||b[1]=="forward"))return b}return a},getUi:function(){var a=this._ui;return Ext.isArray(a)?a.join("-"):a},applyPressedDelay:function(a){return Ext.isNumber(a)?a:a?100:0},onPress:function(){var a=this.element,b=this.getPressedDelay(),c=this.getPressedCls();this.getDisabled()||(this.isPressed=!0,this.hasOwnProperty("releasedTimeout")&&(clearTimeout(this.releasedTimeout),delete this.releasedTimeout),b>0?this.pressedTimeout=setTimeout(function(){a&&a.addCls(c)},b):a.addCls(c))},onRelease:function(a){this.fireAction("release",[this,a],"doRelease")},doRelease:function(a,b){if(!a.isPressed)return;a.isPressed=!1,a.hasOwnProperty("pressedTimeout")&&(clearTimeout(a.pressedTimeout),delete a.pressedTimeout),a.releasedTimeout=setTimeout(function(){a&&a.element&&a.element.removeCls(a.getPressedCls())},10)},onTap:function(a){if(this.getDisabled())return!1;this.fireAction("tap",[this,a],"doTap")},doTap:function(a,b){var c=a.getHandler(),d=a.getScope()||a;if(!c)return;typeof c=="string"&&(c=d[c]),b.preventDefault(),c.apply(d,arguments)}},function(){Ext.deprecateClassMethod(this,"setBadge","setBadgeText"),Ext.deprecateClassMethod(this,"setIconClass","setIconCls"),this.override({constructor:function(a){a&&a.hasOwnProperty("badge")&&(Ext.Logger.deprecate("'badge' config is deprecated, please use 'badgeText' config instead",this),a.badgeText=a.badge),this.callParent([a])}})}),Ext.define("Ext.Title",{extend:"Ext.Component",xtype:"title",config:{baseCls:"x-title",title:""},updateTitle:function(a){this.setHtml(a)}}),Ext.define("Ext.Spacer",{extend:"Ext.Component",alias:"widget.spacer",config:{},constructor:function(a){a=a||{},a.width||(a.flex=1),this.callParent([a])}}),Ext.define("Ext.field.TextAreaInput",{extend:"Ext.field.Input",xtype:"textareainput",tag:"textarea"}),Ext.define("Ext.field.TextArea",{extend:"Ext.field.Text",xtype:"textareafield",requires:["Ext.field.TextAreaInput"],alternateClassName:"Ext.form.TextArea",config:{ui:"textarea",autoCapitalize:!1,component:{xtype:"textareainput"},maxRows:null},updateMaxRows:function(a){this.getComponent().setMaxRows(a)},doSetHeight:function(a){this.callParent(arguments);var b=this.getComponent();b.input.setHeight(a)},doSetWidth:function(a){this.callParent(arguments);var b=this.getComponent();b.input.setWidth(a)},doKeyUp:function(a){var b=a.getValue();a[b?"showClearIcon":"hideClearIcon"]()}}),Ext.define("Ext.Mask",{extend:"Ext.Component",xtype:"mask",config:{baseCls:Ext.baseCSSPrefix+"mask",transparent:!1,top:0,left:0,right:0,bottom:0},initialize:function(){this.callParent(),this.on({painted:"onPainted",erased:"onErased"})},onPainted:function(){this.element.on("*","onEvent",this)},onErased:function(){this.element.un("*","onEvent",this)},onEvent:function(a){var b=arguments[arguments.length-1];return b.info.eventName==="tap"?(this.fireEvent("tap",this,a),!1):(a&&a.stopEvent&&a.stopEvent(),!1)},updateTransparent:function(a){this[a?"addCls":"removeCls"](this.getBaseCls()+"-transparent")}}),Ext.define("Ext.LoadMask",{extend:"Ext.Mask",xtype:"loadmask",config:{message:"Loading...",messageCls:Ext.baseCSSPrefix+"mask-message",indicator:!0,listeners:{painted:"onPainted",erased:"onErased"}},getTemplate:function(){var a=Ext.baseCSSPrefix;return[{reference:"innerElement",cls:a+"mask-inner",children:[{reference:"indicatorElement",cls:a+"loading-spinner-outer",children:[{cls:a+"loading-spinner",children:[{tag:"span",cls:a+"loading-top"},{tag:"span",cls:a+"loading-right"},{tag:"span",cls:a+"loading-bottom"},{tag:"span",cls:a+"loading-left"}]}]},{reference:"messageElement"}]}]},updateMessage:function(a){this.messageElement.setHtml(a)},updateMessageCls:function(a,b){this.messageElement.replaceCls(b,a)},updateIndicator:function(a){this[a?"removeCls":"addCls"](Ext.baseCSSPrefix+"indicator-hidden")},onPainted:function(){this.getParent().on({scope:this,resize:this.refreshPosition}),this.refreshPosition()},onErased:function(){this.getParent().un({scope:this,resize:this.refreshPosition})},refreshPosition:function(){var a=this.getParent(),b=a.getScrollable(),c=b?b.getScroller():null,d=c?c.position:{x:0,y:0},e=a.element.getSize(),f=this.element.getSize();this.innerElement.setStyle({marginTop:Math.round(e.height-f.height+d.y*2)+"px",marginLeft:Math.round(e.width-f.width+d.x)+"px"})}},function(){this.override({constructor:function(a,b){typeof b!="undefined"&&(a=b,Ext.Logger.deprecate("You no longer need to pass an element to create a Ext.LoadMask. It is a component and can be shown using the Ext.Container.masked configuration.",this)),a&&(a.hasOwnProperty("msg")&&(a.message=a.msg,Ext.Logger.deprecate("'msg' config is deprecated, please use 'message' config instead",this),delete a.msg),a.hasOwnProperty("msgCls")&&(a.messageCls=a.msgCls,Ext.Logger.deprecate("'msgCls' config is deprecated, please use 'messageCls' config instead",this),delete a.msgCls),a.hasOwnProperty("store")&&(Ext.Logger.deprecate("'store' config has been removed. You can no longer bind a store to a Ext.LoadMask",this),delete a.store)),this.callParent([a])},bindStore:function(){Ext.Logger.deprecate("You can no longer bind a store to a Ext.LoadMask",this)}})}),Ext.define("Ext.fx.easing.EaseOut",{extend:"Ext.fx.easing.Linear",alias:"easing.ease-out",config:{exponent:4,duration:1500},getValue:function(){var a=Ext.Date.now()-this.getStartTime(),b=this.getDuration(),c=this.getStartValue(),d=this.getEndValue(),e=this.distance,f=a/b,g=1-f,h=1-Math.pow(g,this.getExponent()),i=c+h*e;return a>=b?(this.isEnded=!0,d):i}}),Ext.define("Ext.scroll.Scroller",{extend:"Ext.Evented",requires:["Ext.fx.easing.BoundMomentum","Ext.fx.easing.EaseOut","Ext.util.SizeMonitor","Ext.util.Translatable"],config:{element:null,direction:"auto",translationMethod:"auto",fps:"auto",disabled:null,directionLock:!1,momentumEasing:{momentum:{acceleration:30,friction:.5},bounce:{acceleration:30,springTension:.3},minVelocity:1},bounceEasing:{duration:400},outOfBoundRestrictFactor:.5,startMomentumResetTime:300,maxAbsoluteVelocity:6,containerSize:"auto",containerScrollSize:"auto",size:"auto",autoRefresh:!0,initialOffset:{x:0,y:0},slotSnapSize:{x:0,y:0},slotSnapOffset:{x:0,y:0},slotSnapEasing:{duration:150}},cls:Ext.baseCSSPrefix+"scroll-scroller",containerCls:Ext.baseCSSPrefix+"scroll-container",dragStartTime:0,dragEndTime:0,isDragging:!1,isAnimating:!1,constructor:function(a){var b=a&&a.element;return this.doAnimationFrame=Ext.Function.bind(this.doAnimationFrame,this),this.stopAnimation=Ext.Function.bind(this.stopAnimation,this),this.listeners={scope:this,touchstart:"onTouchStart",touchend:"onTouchEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd"},this.minPosition={x:0,y:0},this.startPosition={x:0,y:0},this.size={x:0,y:0},this.position={x:0,y:0},this.velocity={x:0,y:0},this.isAxisEnabledFlags={x:!1,y:!1},this.flickStartPosition={x:0,y:0},this.flickStartTime={x:0,y:0},this.lastDragPosition={x:0,y:0},this.dragDirection={x:0,y:0},this.initialConfig=a,b&&this.setElement(b),this},applyElement:function(a){if(!a)return;return Ext.get(a)},updateElement:function(a){return this.initialize(),a.addCls(this.cls),this.getDisabled()||this.attachListeneners(),this.onConfigUpdate(["containerSize","size"],"refreshMaxPosition"),this.on("maxpositionchange","snapToBoundary"),this.on("minpositionchange","snapToBoundary"),this},getTranslatable:function(){if(!this.hasOwnProperty("translatable")){var a=this.getBounceEasing();this.translatable=new Ext.util.Translatable({translationMethod:this.getTranslationMethod(),element:this.getElement(),easingX:a.x,easingY:a.y,useWrapper:!1,listeners:{animationframe:"onAnimationFrame",animationend:"onAnimationEnd",axisanimationend:"onAxisAnimationEnd",scope:this}})}return this.translatable},updateFps:function(a){a!=="auto"&&this.getTranslatable().setFps(a)},attachListeneners:function(){this.getContainer().on(this.listeners)},detachListeners:function(){this.getContainer().un(this.listeners)},updateDisabled:function(a){a?this.detachListeners():this.attachListeneners()},updateInitialOffset:function(a){typeof a=="number"&&(a={x:a,y:a});var b=this.position,c,d;b.x=c=a.x,b.y=d=a.y,this.getTranslatable().doTranslate(-c,-d)},applyDirection:function(a){var b=this.getMinPosition(),c=this.getMaxPosition(),d,e;return this.givenDirection=a,a==="auto"&&(d=c.x>b.x,e=c.y>b.y,d&&e?a="both":d?a="horizontal":a="vertical"),a},updateDirection:function(a){var b=this.isAxisEnabledFlags;b.x=a==="both"||a==="horizontal",b.y=a==="both"||a==="vertical"},isAxisEnabled:function(a){return this.getDirection(),this.isAxisEnabledFlags[a]},applyMomentumEasing:function(a){var b=Ext.fx.easing.BoundMomentum;return{x:Ext.factory(a,b),y:Ext.factory(a,b)}},applyBounceEasing:function(a){var b=Ext.fx.easing.EaseOut;return{x:Ext.factory(a,b),y:Ext.factory(a,b)}},applySlotSnapEasing:function(a){var b=Ext.fx.easing.EaseOut;return{x:Ext.factory(a,b),y:Ext.factory(a,b)}},getMinPosition:function(){var a=this.minPosition;return a||(this.minPosition=a={x:0,y:0},this.fireEvent("minpositionchange",this,a)),a},getMaxPosition:function(){var a=this.maxPosition,b,c;return a||(b=this.getSize(),c=this.getContainerSize(),this.maxPosition=a={x:Math.max(0,b.x-c.x),y:Math.max(0,b.y-c.y)},this.fireEvent("maxpositionchange",this,a)),a},refreshMaxPosition:function(){this.maxPosition=null,this.getMaxPosition()},applyContainerSize:function(a){var b=this.getContainer().dom,c,d;if(!b)return;return this.givenContainerSize=a,a==="auto"?(c=b.offsetWidth,d=b.offsetHeight):(c=a.x,d=a.y),{x:c,y:d}},applySize:function(a){var b=this.getElement().dom,c,d;if(!b)return;return this.givenSize=a,a==="auto"?(c=b.offsetWidth,d=b.offsetHeight):(c=a.x,d=a.y),{x:c,y:d}},applyContainerScrollSize:function(a){var b=this.getContainer().dom,c,d;if(!b)return;return this.givenContainerScrollSize=a,a==="auto"?(c=b.scrollWidth,d=b.scrollHeight):(c=a.x,d=a.y),{x:c,y:d}},updateAutoRefresh:function(a){var b=Ext.util.SizeMonitor,c;a?this.sizeMonitors={element:new b({element:this.getElement(),callback:this.doRefresh,scope:this}),container:new b({element:this.getContainer(),callback:this.doRefresh,scope:this})}:(c=this.sizeMonitors,c&&(c.element.destroy(),c.container.destroy()))},applySlotSnapSize:function(a){return typeof a=="number"?{x:a,y:a}:a},applySlotSnapOffset:function(a){return typeof a=="number"?{x:a,y:a}:a},getContainer:function(){var a=this.container;return a||(this.container=a=this.getElement().getParent(),a||Ext.Logger.error("Making an element scrollable that doesn't have any container"),a.addCls(this.containerCls)),a},doRefresh:function(){this.stopAnimation(),this.getTranslatable().refresh(),this.setSize(this.givenSize),this.setContainerSize(this.givenContainerSize),this.setContainerScrollSize(this.givenContainerScrollSize),this.setDirection(this.givenDirection),this.fireEvent("refresh",this)},refresh:function(){var a=this.sizeMonitors;return a&&(a.element.refresh(),a.container.refresh()),this.doRefresh(),this},scrollTo:function(a,b,c){typeof a!="number"&&arguments.length===1&&(Ext.Logger.deprecate("Calling scrollTo() with an object argument is deprecated, please pass x and y arguments instead",this),b=a.y,a=a.x);var d=this.getTranslatable(),e=this.position,f=!1,g,h;return this.isAxisEnabled("x")&&(typeof a!="number"?a=e.x:e.x!==a&&(e.x=a,f=!0),g=-a),this.isAxisEnabled("y")&&(typeof b!="number"?b=e.y:e.y!==b&&(e.y=b,f=!0),h=-b),f&&(c!==undefined?d.translateAnimated(g,h,c):(this.fireEvent("scroll",this,e.x,e.y),d.doTranslate(g,h))),this},scrollToTop:function(a){var b=this.getInitialOffset();return this.scrollTo(b.x,b.y,a)},scrollToEnd:function(a){return this.scrollTo(0,this.getSize().y-this.getContainerSize().y,a)},scrollBy:function(a,b,c){var d=this.position;return a=typeof a=="number"?a+d.x:null,b=typeof b=="number"?b+d.y:null,this.scrollTo(a,b,c)},onTouchStart:function(){this.isTouching=!0,this.stopAnimation()},onTouchEnd:function(){var a=this.position;this.isTouching=!1,!this.isDragging&&this.snapToSlot()&&this.fireEvent("scrollstart",this,a.x,a.y)},onDragStart:function(a){var b=this.getDirection(),c=a.absDeltaX,d=a.absDeltaY,e=this.getDirectionLock(),f=this.startPosition,g=this.flickStartPosition,h=this.flickStartTime,i=this.lastDragPosition,j=this.position,k=this.dragDirection,l=j.x,m=j.y,n=Ext.Date.now();this.isDragging=!0;if(e&&b!=="both"){if(!(b==="horizontal"&&c>d||b==="vertical"&&d>c)){this.isDragging=!1;return}a.stopPropagation()}i.x=l,i.y=m,g.x=l,g.y=m,f.x=l,f.y=m,h.x=n,h.y=n,k.x=0,k.y=0,this.dragStartTime=n,this.isDragging=!0,this.fireEvent("scrollstart",this,l,m)},onAxisDrag:function(a,b){if(!this.isAxisEnabled(a))return;var c=this.flickStartPosition,d=this.flickStartTime,e=this.lastDragPosition,f=this.dragDirection,g=this.position[a],h=this.getMinPosition()[a],i=this.getMaxPosition()[a],j=this.startPosition[a],k=e[a],l=j-b,m=f[a],n=this.getOutOfBoundRestrictFactor(),o=this.getStartMomentumResetTime(),p=Ext.Date.now(),q;l<h?l*=n:l>i&&(q=l-i,l=i+q*n),l>k?f[a]=1:l<k&&(f[a]=-1);if(m!==0&&f[a]!==m||p-d[a]>o)c[a]=g,d[a]=p;e[a]=l},onDrag:function(a){if(!this.isDragging)return;var b=this.lastDragPosition;this.onAxisDrag("x",a.deltaX),this.onAxisDrag("y",a.deltaY),this.scrollTo(b.x,b.y)},onDragEnd:function(a){var b,c;if(!this.isDragging)return;this.dragEndTime=Ext.Date.now(),this.onDrag(a),this.isDragging=!1,b=this.getAnimationEasing("x"),c=this.getAnimationEasing("y"),b||c?this.getTranslatable().animate(b,c):this.onScrollEnd()},getAnimationEasing:function(a){if(!this.isAxisEnabled(a))return null;var b=this.position[a],c=this.flickStartPosition[a],d=this.flickStartTime[a],e=this.getMinPosition()[a],f=this.getMaxPosition()[a],g=this.getMaxAbsoluteVelocity(),h=null,i=this.dragEndTime,j,k,l;return b<e?h=e:b>f&&(h=f),h!==null?(j=this.getBounceEasing()[a],j.setConfig({startTime:i,startValue:-b,endValue:-h}),j):(l=i-d,l===0?null:(k=(b-c)/(i-d),k===0?null:(k<-g?k=-g:k>g&&(k=g),j=this.getMomentumEasing()[a],j.setConfig({startTime:i,startValue:-b,startVelocity:-k,minMomentumValue:-f,maxMomentumValue:0}),j)))},onAnimationFrame:function(a,b,c){var d=this.position;d.x=-b,d.y=-c,this.fireEvent("scroll",this,d.x,d.y)},onAxisAnimationEnd:function(a){},onAnimationEnd:function(){this.snapToBoundary(),this.onScrollEnd()},stopAnimation:function(){this.getTranslatable().stopAnimation()},onScrollEnd:function(){var a=this.position;(this.isTouching||!this.snapToSlot())&&this.fireEvent("scrollend",this,a.x,a.y)},snapToSlot:function(){var a=this.getSnapPosition("x"),b=this.getSnapPosition("y"),c=this.getSlotSnapEasing();return a!==null||b!==null?(this.scrollTo(a,b,{easingX:c.x,easingY:c.y}),!0):!1},getSnapPosition:function(a){var b=this.getSlotSnapSize()[a],c=null,d,e,f,g;return b!==0&&this.isAxisEnabled(a)&&(d=this.position[a],e=this.getSlotSnapOffset()[a],f=this.getMaxPosition()[a],g=(d-e)%b,g!==0&&(Math.abs(g)>b/2?(c=d+(g>0?b-g:g-b),c>f&&(c=d-g)):c=d-g)),c},snapToBoundary:function(){var a=this.position,b=this.getMinPosition(),c=this.getMaxPosition(),d=b.x,e=b.y,f=c.x,g=c.y,h=Math.round(a.x),i=Math.round(a.y);h<d?h=d:h>f&&(h=f),i<e?i=e:i>g&&(i=g),this.scrollTo(h,i)},destroy:function(){var a=this.getElement(),b=this.sizeMonitors;b&&(b.element.destroy(),b.container.destroy()),a&&!a.isDestroyed&&(a.removeCls(this.cls),this.getContainer().removeCls(this.containerCls)),Ext.destroy(this.translatable),this.callParent(arguments)}},function(){this.override({constructor:function(a){var b,c,d,e,f,g;a||(a={}),typeof a=="string"&&(a={direction:a}),arguments.length==2&&(Ext.Logger.deprecate("Passing element as the first argument is deprecated, pass it as the 'element' property of the config object instead"),b=a,a=arguments[1],a||(a={}),a.element=b),a.hasOwnProperty("acceleration")&&(c=a.acceleration,delete a.acceleration,Ext.Logger.deprecate("'acceleration' config is deprecated, set momentumEasing.momentum.acceleration and momentumEasing.bounce.acceleration configs instead"),Ext.merge(a,{momentumEasing:{momentum:{acceleration:c},bounce:{acceleration:c}}})),a.hasOwnProperty("snap")&&(a.slotSnapOffset=a.snap,Ext.Logger.deprecate("'snap' config is deprecated, please use the 'slotSnapOffset' config instead")),a.hasOwnProperty("friction")&&(e=a.friction,delete a.friction,Ext.Logger.deprecate("'friction' config is deprecated, set momentumEasing.momentum.friction config instead"),Ext.merge(a,{momentumEasing:{momentum:{friction:e}}})),a.hasOwnProperty("springTension")&&(f=a.springTension,delete a.springTension,Ext.Logger.deprecate("'springTension' config is deprecated, set momentumEasing.momentum.springTension config instead"),Ext.merge(a,{momentumEasing:{momentum:{springTension:f}}})),a.hasOwnProperty("minVelocityForAnimation")&&(g=a.minVelocityForAnimation,delete a.minVelocityForAnimation,Ext.Logger.deprecate("'minVelocityForAnimation' config is deprecated, set momentumEasing.minVelocity config instead"),Ext.merge(a,{momentumEasing:{minVelocity:g}})),this.callOverridden(arguments)},scrollToAnimated:function(a,b,c){return Ext.Logger.deprecate("scrollToAnimated() is deprecated, please use scrollTo() and pass 'animation' as the third argument instead"),this.scrollTo.apply(this,arguments)},scrollBy:function(a,b,c){return Ext.isObject(a)&&(Ext.Logger.deprecate("calling scrollBy() with an object of x and y properties is no longer supported. Please pass x and y values as two separate arguments instead"),b=a.y,a=a.x),this.callOverridden([a,b,c])},setOffset:function(a){return this.scrollToAnimated(-a.x,-a.y)}})}),Ext.define("Ext.fx.layout.card.Abstract",{extend:"Ext.Evented",isAnimation:!0,config:{direction:"left",duration:null,reverse:null,layout:null},updateLayout:function(){this.enable()},enable:function(){var a=this.getLayout();a&&a.onBefore("activeitemchange","onActiveItemChange",this)},disable:function(){var a=this.getLayout();this.isAnimating&&this.stopAnimation(),a&&a.unBefore("activeitemchange","onActiveItemChange",this)},onActiveItemChange:Ext.emptyFn,destroy:function(){var a=this.getLayout();this.isAnimating&&this.stopAnimation(),a&&a.unBefore("activeitemchange","onActiveItemChange",this),this.setLayout(null)}}),Ext.define("Ext.fx.layout.card.Scroll",{extend:"Ext.fx.layout.card.Abstract",requires:["Ext.fx.easing.Linear"],alias:"fx.layout.card.scroll",config:{duration:150},constructor:function(a){this.initConfig(a),this.doAnimationFrame=Ext.Function.bind(this.doAnimationFrame,this)},getEasing:function(){var a=this.easing;return a||(this.easing=a=new Ext.fx.easing.Linear),a},updateDuration:function(a){this.getEasing().setDuration(a)},onActiveItemChange:function(a,b,c,d,e){var f=this.getDirection(),g=this.getEasing(),h,i,j,k,l,m;b&&c&&(this.isAnimating&&this.stopAnimation(),h=this.getLayout().container.innerElement,k=h.getWidth(),l=h.getHeight(),i=b.renderElement,j=c.renderElement,this.oldItem=c,this.newItem=b,this.currentEventController=e,this.containerElement=h,this.isReverse=m=this.getReverse(),b.show(),f=="right"?(f="left",this.isReverse=m=!m):f=="down"&&(f="up",this.isReverse=m=!m),f=="left"?m?(g.setConfig({startValue:k,endValue:0}),h.dom.scrollLeft=k,j.setLeft(k)):(g.setConfig({startValue:0,endValue:k}),i.setLeft(k)):m?(g.setConfig({startValue:l,endValue:0}),h.dom.scrollTop=l,j.setTop(l)):(g.setConfig({startValue:0,endValue:l}),i.setTop(l)),this.startAnimation(),e.pause())},startAnimation:function(){this.isAnimating=!0,this.getEasing().setStartTime(Date.now()),this.timer=setInterval(this.doAnimationFrame,20),this.doAnimationFrame()},doAnimationFrame:function(){var a=this.getEasing(),b=this.getDirection(),c="scrollTop",d;if(b=="left"||b=="right")c="scrollLeft";a.isEnded?this.stopAnimation():(d=a.getValue(),this.containerElement.dom[c]=d)},stopAnimation:function(){var a=this.getDirection(),b="setTop";if(a=="left"||a=="right")b="setLeft";this.currentEventController.resume(),this.isReverse?this.oldItem.renderElement[b](null):this.newItem.renderElement[b](null),clearInterval(this.timer),this.isAnimating=!1,this.fireEvent("animationend",this)}}),Ext.define("Ext.fx.layout.card.Style",{extend:"Ext.fx.layout.card.Abstract",requires:["Ext.fx.Animation"],config:{inAnimation:{before:{visibility:null},preserveEndState:!1,replacePrevious:!0},outAnimation:{preserveEndState:!1,replacePrevious:!0}},constructor:function(a){var b,c;this.initConfig(a),this.endAnimationCounter=0,b=this.getInAnimation(),c=this.getOutAnimation(),b.on("animationend","incrementEnd",this),c.on("animationend","incrementEnd",this),b.setConfig(a),c.setConfig(a)},incrementEnd:function(){this.endAnimationCounter++,this.endAnimationCounter>1&&(this.endAnimationCounter=0,this.fireEvent("animationend",this))},applyInAnimation:function(a,b){return Ext.factory(a,Ext.fx.Animation,b)},applyOutAnimation:function(a,b){return Ext.factory(a,Ext.fx.Animation,b)},updateInAnimation:function(a){a.setScope(this)},updateOutAnimation:function(a){a.setScope(this)},onActiveItemChange:function(a,b,c,d,e){var f=this.getInAnimation(),g=this.getOutAnimation(),h,i;b&&c&&c.isPainted()&&(h=b.renderElement,i=c.renderElement,f.setElement(h),g.setElement(i),g.setOnBeforeEnd(function(a,b){if(b||Ext.Animator.hasRunningAnimations(a))e.firingArguments[1]=null,e.firingArguments[2]=null}),g.setOnEnd(function(){e.resume()}),h.dom.style.setProperty("visibility","hidden","!important"),b.show(),Ext.Animator.run([g,f]),e.pause())}}),Ext.define("Ext.fx.layout.card.Slide",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.slide",config:{inAnimation:{type:"slide",easing:"ease-out"},outAnimation:{type:"slide",easing:"ease-out",out:!0}},updateReverse:function(a){this.getInAnimation().setReverse(a),this.getOutAnimation().setReverse(a)}}),Ext.define("Ext.fx.layout.card.Cover",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.cover",config:{reverse:null,inAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out"},outAnimation:{easing:"ease-out",from:{opacity:.99},to:{opacity:1},out:!0}},updateReverse:function(a){this.getInAnimation().setReverse(a),this.getOutAnimation().setReverse(a)}}),Ext.define("Ext.fx.layout.card.Reveal",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.reveal",config:{inAnimation:{easing:"ease-out",from:{opacity:.99},to:{opacity:1}},outAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out",out:!0}},updateReverse:function(a){this.getInAnimation().setReverse(a),this.getOutAnimation().setReverse(a)}}),Ext.define("Ext.fx.layout.card.Fade",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.fade",config:{reverse:null,inAnimation:{type:"fade",easing:"ease-out"},outAnimation:{type:"fade",easing:"ease-out",out:!0}}}),Ext.define("Ext.fx.layout.card.Flip",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.flip",config:{duration:500,inAnimation:{type:"flip",half:!0,easing:"ease-out",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null}},outAnimation:{type:"flip",half:!0,easing:"ease-in",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null},out:!0}},updateDuration:function(a){var b=a/2,c=this.getInAnimation(),d=this.getOutAnimation();c.setDelay(b),c.setDuration(b),d.setDuration(b)}}),Ext.define("Ext.fx.layout.card.Pop",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.pop",config:{duration:500,inAnimation:{type:"pop",easing:"ease-out"},outAnimation:{type:"pop",easing:"ease-in",out:!0}},updateDuration:function(a){var b=a/2,c=this.getInAnimation(),d=this.getOutAnimation();c.setDelay(b),c.setDuration(b),d.setDuration(b)}}),Ext.define("Ext.fx.layout.Card",{requires:["Ext.fx.layout.card.Slide","Ext.fx.layout.card.Cover","Ext.fx.layout.card.Reveal","Ext.fx.layout.card.Fade","Ext.fx.layout.card.Flip","Ext.fx.layout.card.Pop","Ext.fx.layout.card.Scroll"],constructor:function(a){var b=Ext.fx.layout.card.Abstract,c;return a?(typeof a=="string"?(c=a,a={}):a.type&&(c=a.type),a.elementBox=!1,c&&(Ext.os.is.Android2?c!="fade"&&(c="scroll"):c==="slide"&&Ext.browser.is.ChromeMobile&&(c="scroll"),b=Ext.ClassManager.getByAlias("fx.layout.card."+c),b||Ext.Logger.error("Unknown card animation type: '"+c+"'")),Ext.factory(a,b)):null}}),Ext.define("Ext.layout.Card",{extend:"Ext.layout.Fit",alternateClassName:"Ext.layout.CardLayout",isCard:!0,requires:["Ext.fx.layout.Card"],alias:"layout.card",cls:Ext.baseCSSPrefix+"layout-card",itemCls:Ext.baseCSSPrefix+"layout-card-item",constructor:function(){this.callParent(arguments),this.container.onInitialized(this.onContainerInitialized,this)},applyAnimation:function(a){return new Ext.fx.layout.Card(a)},updateAnimation:function(a,b){a&&a.isAnimation&&a.setLayout(this),b&&b.destroy()},doItemAdd:function(a,b){a.isInnerItem()&&a.hide(),this.callParent(arguments)},doItemRemove:function(a,b,c){this.callParent(arguments),!c&&a.isInnerItem()&&a.show()},onContainerInitialized:function(a){var b=a.getActiveItem();b&&b.show(),a.on("activeitemchange","onContainerActiveItemChange",this)},onContainerActiveItemChange:function(a){this.relayEvent(arguments,"doActiveItemChange")},doActiveItemChange:function(a,b,c){c&&c.hide(),b&&b.show()},doItemDockedChange:function(a,b){var c=a.element;b?c.removeCls(this.itemCls):c.addCls(this.itemCls),this.callParent(arguments)}}),Ext.define("Ext.layout.Layout",{requires:["Ext.layout.Fit","Ext.layout.Card","Ext.layout.HBox","Ext.layout.VBox"],constructor:function(a,b){var c=Ext.layout.Default,d,e;return typeof b=="string"?(d=b,b={}):"type"in b&&(d=b.type),d&&(c=Ext.ClassManager.getByAlias("layout."+d),c||Ext.Logger.error("Unknown layout type of: '"+d+"'")),new c(a,b)}}),Ext.define("Ext.scroll.indicator.Abstract",{extend:"Ext.Component",config:{baseCls:"x-scroll-indicator",axis:"x",value:0,length:null,hidden:!0,ui:"dark"},cachedConfig:{ratio:1,barCls:"x-scroll-bar",active:!0},barElement:null,barLength:0,gapLength:0,getElementConfig:function(){return{reference:"barElement",children:[this.callParent()]}},applyRatio:function(a){return isNaN(a)&&(a=1),a},refresh:function(){var a=this.barElement,b=a.dom,c=this.getRatio(),d=this.getAxis(),e=d==="x"?b.offsetWidth:b.offsetHeight,f=e*c;this.barLength=e,this.gapLength=e-f,this.setLength(f),this.updateValue(this.getValue())},updateBarCls:function(a){this.barElement.addCls(a)},updateAxis:function(a){this.element.addCls(this.getBaseCls(),null,a),this.barElement.addCls(this.getBarCls(),null,a)},updateValue:function(a){this.setOffset(this.gapLength*a)},updateActive:function(a){this.barElement[a?"addCls":"removeCls"]("active")},doSetHidden:function(a){var b=this.element.dom.style;a?b.opacity="0":b.opacity=""},updateLength:function(a){var b=this.getAxis(),c=this.element;b==="x"?c.setWidth(a):c.setHeight(a)},setOffset:function(a){var b=this.getAxis(),c=this.element;b==="x"?c.setLeft(a):c.setTop(a)}}),Ext.define("Ext.scroll.indicator.Default",{extend:"Ext.scroll.indicator.Abstract",config:{cls:"default"},setOffset:function(a){var b=this.getAxis(),c=this.element.dom.style;b==="x"?c.webkitTransform="translate3d("+a+"px, 0, 0)":c.webkitTransform="translate3d(0, "+a+"px, 0)"},applyLength:function(a){return Math.round(Math.max(0,a))},updateValue:function(a){var b=this.barLength,c=this.gapLength,d=this.getLength(),e,f,g;a<=0?(f=0,this.updateLength(this.applyLength(d+a*b))):a>=1?(g=Math.round((a-1)*b),e=this.applyLength(d-g),g=d-e,this.updateLength(e),f=c+g):f=c*a,this.setOffset(f)}}),Ext.define("Ext.scroll.indicator.ScrollPosition",{extend:"Ext.scroll.indicator.Abstract",config:{cls:"scrollposition"},getElementConfig:function(){var a=this.callParent(arguments);return a.children.unshift({className:"x-scroll-bar-stretcher"}),a},updateValue:function(a){this.gapLength===0?(a>1&&(a-=1),this.setOffset(this.barLength*a)):this.setOffset(this.gapLength*a)},setLength:function(a){var b=this.getAxis(),c=this.barLength,d=this.barElement.dom,e=this.element;this.callParent(arguments),b==="x"?(d.scrollLeft=c,e.setLeft(c)):(d.scrollTop=c,e.setTop(c))},setOffset:function(a){var b=this.getAxis(),c=this.barLength,d=this.barElement.dom;a=c-a,b==="x"?d.scrollLeft=a:d.scrollTop=a}}),Ext.define("Ext.scroll.indicator.CssTransform",{extend:"Ext.scroll.indicator.Abstract",config:{cls:"csstransform"},getElementConfig:function(){var a=this.callParent();return a.children[0].children=[{reference:"startElement"},{reference:"middleElement"},{reference:"endElement"}],a},refresh:function(){var a=this.getAxis(),b=this.startElement.dom,c=this.endElement.dom,d=this.middleElement,e,f;a==="x"?(e=b.offsetWidth,f=c.offsetWidth,d.setLeft(e)):(e=b.offsetHeight,f=c.offsetHeight,d.setTop(e)),this.startElementLength=e,this.endElementLength=f,this.minLength=e+f,this.callParent()},applyLength:function(a){return Math.round(Math.max(this.minLength,a))},updateLength:function(a){var b=this.getAxis(),c=this.endElement.dom.style,d=this.middleElement.dom.style,e=this.endElementLength,f=a-e,g=f-this.startElementLength;b==="x"?(c.webkitTransform="translate3d("+f+"px, 0, 0)",d.webkitTransform="translate3d(0, 0, 0) scaleX("+g+")"):(c.webkitTransform="translate3d(0, "+f+"px, 0)",d.webkitTransform="translate3d(0, 0, 0) scaleY("+g+")")},updateValue:function(a){var b=this.barLength,c=this.gapLength,d=this.getLength(),e,f,g;a<=0?(f=0,this.updateLength(this.applyLength(d+a*b))):a>=1?(g=Math.round((a-1)*b),e=this.applyLength(d-g),g=d-e,this.updateLength(e),f=c+g):f=c*a,this.setOffset(f)},setOffset:function(a){var b=this.getAxis(),c=this.element.dom.style;a=Math.round(a),b==="x"?c.webkitTransform="translate3d("+a+"px, 0, 0)":c.webkitTransform="translate3d(0, "+a+"px, 0)"}}),Ext.define("Ext.scroll.Indicator",{requires:["Ext.scroll.indicator.Default","Ext.scroll.indicator.ScrollPosition","Ext.scroll.indicator.CssTransform"],alternateClassName:"Ext.util.Indicator",constructor:function(a){return Ext.os.is.Android2||Ext.browser.is.ChromeMobile?new Ext.scroll.indicator.ScrollPosition(a):Ext.os.is.iOS?new Ext.scroll.indicator.CssTransform(a):new Ext.scroll.indicator.Default(a)}}),Ext.define("Ext.scroll.View",{extend:"Ext.Evented",alternateClassName:"Ext.util.ScrollView",requires:["Ext.scroll.Scroller","Ext.scroll.Indicator"],config:{indicatorsUi:"dark",element:null,scroller:{},indicators:{x:{axis:"x"},y:{axis:"y"}},indicatorsHidingDelay:100,cls:Ext.baseCSSPrefix+"scroll-view"},processConfig:function(a){if(!a)return null;typeof a=="string"&&(a={direction:a}),a=Ext.merge({},a);var b=a.scroller,c;b||(a.scroller=b={});for(c in a)a.hasOwnProperty(c)&&(this.hasConfig(c)||(b[c]=a[c],delete a[c]));return a},constructor:function(a){a=this.processConfig(a),this.useIndicators={x:!0,y:!0},this.doHideIndicators=Ext.Function.bind(this.doHideIndicators,this),this.initConfig(a)},setConfig:function(a){return this.callParent([this.processConfig(a)])},updateIndicatorsUi:function(a){var b=this.getIndicators();b.x.setUi(a),b.y.setUi(a)},applyScroller:function(a,b){return Ext.factory(a,Ext.scroll.Scroller,b)},applyIndicators:function(a,b){var c=Ext.scroll.Indicator,d=this.useIndicators;return a||(a={}),a.x||(d.x=!1,a.x={}),a.y||(d.y=!1,a.y={}),{x:Ext.factory(a.x,c,b&&b.x),y:Ext.factory(a.y,c,b&&b.y)}},updateIndicators:function(a){this.indicatorsGrid=Ext.Element.create({className:"x-scroll-bar-grid-wrapper",children:[{className:"x-scroll-bar-grid",children:[{children:[{},{children:[a.y.barElement]}]},{children:[{children:[a.x.barElement]},{}]}]}]})},updateScroller:function(a){a.on({scope:this,scrollstart:"onScrollStart",scroll:"onScroll",scrollend:"onScrollEnd",refresh:"refreshIndicators"})},isAxisEnabled:function(a){return this.getScroller().isAxisEnabled(a)&&this.useIndicators[a]},applyElement:function(a){if(a)return Ext.get(a)},updateElement:function(a){var b=a.getFirstChild().getFirstChild(),c=this.getScroller();return a.addCls(this.getCls()),a.insertFirst(this.indicatorsGrid),c.setElement(b),this.refreshIndicators(),this},showIndicators:function(){var a=this.getIndicators();this.hasOwnProperty("indicatorsHidingTimer")&&(clearTimeout(this.indicatorsHidingTimer),delete this.indicatorsHidingTimer),this.isAxisEnabled("x")&&a.x.show(),this.isAxisEnabled("y")&&a.y.show()},hideIndicators:function(){var a=this.getIndicatorsHidingDelay();a>0?this.indicatorsHidingTimer=setTimeout(this.doHideIndicators,a):this.doHideIndicators()},doHideIndicators:function(){var a=this.getIndicators();this.isAxisEnabled("x")&&a.x.hide(),this.isAxisEnabled("y")&&a.y.hide()},onScrollStart:function(){this.onScroll.apply(this,arguments),this.showIndicators()},onScrollEnd:function(){this.hideIndicators()},onScroll:function(a,b,c){this.setIndicatorValue("x",b),this.setIndicatorValue("y",c),this.isBenchmarking&&this.framesCount++},isBenchmarking:!1,framesCount:0,getCurrentFps:function(){var a=Date.now(),b;return this.isBenchmarking?b=Math.round(this.framesCount*1e3/(a-this.framesCountStartTime)):(this.isBenchmarking=!0,b=0),this.framesCountStartTime=a,this.framesCount=0,b},setIndicatorValue:function(a,b){if(!this.isAxisEnabled(a))return this;var c=this.getScroller(),d=c.getMaxPosition()[a],e=c.getContainerSize()[a],f;d===0?(f=b/e,b>=0&&(f+=1)):b>d?f=1+(b-d)/e:b<0?f=b/e:f=b/d,this.getIndicators()[a].setValue(f)},refreshIndicator:function(a){if(!this.isAxisEnabled(a))return this;var b=this.getScroller(),c=this.getIndicators()[a],d=b.getContainerSize()[a],e=b.getSize()[a],f=d/e;c.setRatio(f),c.refresh()},refresh:function(){return this.getScroller().refresh()},refreshIndicators:function(){var a=this.getIndicators();a.x.setActive(this.isAxisEnabled("x")),a.y.setActive(this.isAxisEnabled("y")),this.refreshIndicator("x"),this.refreshIndicator("y")},destroy:function(){var a=this.getElement(),b=this.getIndicators();a&&!a.isDestroyed&&a.removeCls(this.getCls()),b.x.destroy(),b.y.destroy(),Ext.destroy(this.getScroller(),this.indicatorsGrid),delete this.indicatorsGrid,this.callParent(arguments)}}),Ext.define("Ext.behavior.Scrollable",{extend:"Ext.behavior.Behavior",requires:["Ext.scroll.View"],constructor:function(){this.listeners={painted:"onComponentPainted",scope:this},this.callParent(arguments)},onComponentPainted:function(){this.scrollView.refresh()},setConfig:function(a){var b=this.scrollView,c=this.component,d,e,f;return a?b?Ext.isObject(a)&&b.setConfig(a):(this.scrollView=b=new Ext.scroll.View(a),b.on("destroy","onScrollViewDestroy",this),c.setUseBodyElement(!0),this.scrollerElement=f=c.innerElement,this.scrollContainer=e=f.wrap(),this.scrollViewElement=d=c.bodyElement,b.setElement(d),c.isPainted()&&this.onComponentPainted(c),c.on(this.listeners)):b&&b.destroy(),this},getScrollView:function(){return this.scrollView},onScrollViewDestroy:function(){var a=this.component,b=this.scrollerElement;b.isDestroyed||this.scrollerElement.unwrap(),this.scrollContainer.destroy(),a.un(this.listeners),delete this.scrollerElement,delete this.scrollView,delete this.scrollContainer},onComponentDestroy:function(){var a=this.scrollView;a&&a.destroy()}}),Ext.define("Ext.Container",{extend:"Ext.Component",alternateClassName:"Ext.lib.Container",requires:["Ext.layout.Layout","Ext.ItemCollection","Ext.behavior.Scrollable","Ext.Mask"],xtype:"container",eventedConfig:{activeItem:0},config:{layout:null,control:{},defaults:null,items:null,autoDestroy:!0,defaultType:null,scrollable:null,useBodyElement:null,masked:null,modal:null,hideOnMaskTap:null},isContainer:!0,delegateListeners:{delegate:"> component",centeredchange:"onItemCenteredChange",dockedchange:"onItemDockedChange",floatingchange:"onItemFloatingChange"},constructor:function(a){var b=this;b._items=b.items=new Ext.ItemCollection,b.innerItems=[],b.onItemAdd=b.onFirstItemAdd,b.callParent(arguments)},getElementConfig:function(){return{reference:"element",className:"x-container",children:[{reference:"innerElement",className:"x-inner"}]}},applyMasked:function(a,b){return b=Ext.factory(a,Ext.Mask,b),b&&this.add(b),b},mask:function(a){this.setMasked(a||!0)},unmask:function(){this.setMasked(!1)},applyModal:function(a,b){if(!a&&!b)return;return Ext.factory(a,Ext.Mask,b)},updateModal:function(a,b){var c={painted:"refreshModalMask",erased:"destroyModalMask"};a?(this.on(c),a.on("destroy","onModalDestroy",this),this.getTop()===null&&this.getBottom()===null&&this.getRight()===null&&this.getLeft()===null&&!this.getCentered()&&(Ext.Logger.warn("You have specified a modal config on a container that is neither centered nor has any positioning information.  Setting to top and left to 0 to compensate."),this.setTop(0),this.setLeft(0)),this.isPainted()&&this.refreshModalMask()):b&&(b.un("destroy","onModalDestroy",this),this.un(c))},onModalDestroy:function(){this.setModal(null)},refreshModalMask:function(){var a=this.getModal(),b=this.getParent();this.painted||(this.painted=!0,a&&(b.insertBefore(a,this),a.setZIndex(this.getZIndex()-1),this.getHideOnMaskTap()&&a.on("tap","hide",this,{single:!0})))},destroyModalMask:function(){var a=this.getModal(),b=this.getParent();this.painted&&(this.painted=!1,a&&(a.un("tap","hide",this),b.remove(a,!1)))},updateZIndex:function(a){var b=this.getModal();this.callParent(arguments),b&&b.setZIndex(a-1)},updateBaseCls:function(a,b){var c=this,d=c.getUi();a&&(this.element.addCls(a),this.innerElement.addCls(a,null,"inner"),d&&this.element.addCls(a,null,d)),b&&(this.element.removeCls(b),this.innerElement.removeCls(a,null,"inner"),d&&this.element.removeCls(b,null,d))},updateUseBodyElement:function(a){a&&(this.bodyElement=this.innerElement.wrap({cls:"x-body"}),this.referenceList.push("bodyElement"))},applyItems:function(a,b){a&&(this.getDefaultType(),this.getDefaults(),this.initialized&&b.length>0&&this.removeAll(),this.add(a))},applyControl:function(a){var b,c,d,e;for(b in a){e=a[b];for(c in e)d=e[c],Ext.isObject(d)&&(d.delegate=b);e.delegate=b,this.addListener(e)}return a},onFirstItemAdd:function(){return delete this.onItemAdd,this.setLayout(new Ext.layout.Layout(this,this.getLayout()||"default")),this.innerHtmlElement&&!this.getHtml()&&(this.innerHtmlElement.destroy(),delete this.innerHtmlElement),this.on(this.delegateListeners),this.onItemAdd.apply(this,arguments)},updateLayout:function(a,b){b&&b.isLayout&&Ext.Logger.error("Replacing a layout after one has already been initialized is not currently supported.")},updateDefaultType:function(a){this.defaultItemClass=Ext.ClassManager.getByAlias("widget."+a),this.defaultItemClass||Ext.Logger.error("Invalid defaultType of: '"+a+"', must be a valid component xtype")},applyDefaults:function(a){if(a)return this.factoryItem=this.factoryItemWithDefaults,a},factoryItem:function(a){return a||Ext.Logger.error("Invalid item given: "+a+", must be either the config object to factory a new item, "+"or an existing component instance"),Ext.factory(a,this.defaultItemClass)},factoryItemWithDefaults:function(a){a||Ext.Logger.error("Invalid item given: "+a+", must be either the config object to factory a new item, "+"or an existing component instance");var b=this,c=b.getDefaults(),d;return c?(a.isComponent?(d=a,c&&a.isInnerItem()&&!b.has(d)&&d.setConfig(c,!0)):(c&&!a.ignoreDefaults&&(a.hasOwnProperty("left")&&a.hasOwnProperty("right")&&a.hasOwnProperty("top")&&a.hasOwnProperty("bottom")&&a.hasOwnProperty("docked")&&a.hasOwnProperty("centered")||(a=Ext.mergeIf({},a,c))),d=Ext.factory(a,b.defaultItemClass)),d):Ext.factory(a,b.defaultItemClass)},add:function(a){var b=this,c,d,e,f;a=Ext.Array.from(a),d=a.length;for(c=0;c<d;c++)e=b.factoryItem(a[c]),this.doAdd(e),!f&&!this.getActiveItem()&&this.innerItems.length>0&&e.isInnerItem()&&(f=e);return f&&this.setActiveItem(f),e},doAdd:function(a){var b=this,c=b.getItems(),d;c.has(a)||(d=c.length,c.add(a),a.isInnerItem()&&b.insertInner(a),a.setParent(b),b.onItemAdd(a,d))},remove:function(a,b){var c=this,d=c.indexOf(a),e=c.getInnerItems();return b===undefined&&(b=c.getAutoDestroy()),d!==-1&&(!c.removingAll&&e.length>1&&a===c.getActiveItem()?(c.on({activeitemchange:"doRemove",scope:c,single:!0,order:"after",args:[a,d,b]}),c.doResetActiveItem(e.indexOf(a))):(c.doRemove(a,d,b),e.length===0&&c.setActiveItem(null))),c},doResetActiveItem:function(a){a===0?this.setActiveItem(1):this.setActiveItem(0)},doRemove:function(a,b,c){var d=this;d.items.remove(a),a.isInnerItem()&&d.removeInner(a),d.onItemRemove(a,b,c),a.setParent(null),c&&a.destroy()},removeAll:function(a,b){var c=this.items,d=c.length,e=0,f;a===undefined&&(a=this.getAutoDestroy()),b=Boolean(b),this.removingAll=!0;for(;e<d;e++)f=c.getAt(e),f&&(b||f.isInnerItem())&&(this.doRemove(f,e,a),e--,d--);return this.removingAll=!1,this},getAt:function(a){return this.items.getAt(a)},removeAt:function(a){var b=this.getAt(a);return b&&this.remove(b),this},removeInnerAt:function(a){var b=this.getInnerItems()[a];return b&&this.remove(b),this},has:function(a){return this.getItems().indexOf(a)!=-1},hasInnerItem:function(a){return this.innerItems.indexOf(a)!=-1},indexOf:function(a){return this.getItems().indexOf(a)},insertInner:function(a,b){var c=this.getItems().items,d=this.innerItems,e=d.indexOf(a),f=-1,g;e!==-1&&d.splice(e,1);if(typeof b=="number"){do g=c[++b];while(g&&!g.isInnerItem());g&&(f=d.indexOf(g),d.splice(f,0,a))}return f===-1&&(d.push(a),f=d.length-1),e!==-1&&this.onInnerItemMove(a,f,e),this},onInnerItemMove:Ext.emptyFn,removeInner:function(a){return Ext.Array.remove(this.innerItems,a),this},insert:function(a,b){var c=this,d;if(Ext.isArray(b)){for(d=b.length-1;d>=0;d--)c.insert(a,b[d]);return c}return b=this.factoryItem(b),this.doInsert(a,b),b},doInsert:function(a,b){var c=this,d=c.items,e=d.length,f,g;g=b.isInnerItem(),a>e&&(a=e);if(d[a-1]===b)return c;f=c.indexOf(b),f!==-1?(f<a&&(a-=1),d.removeAt(f)):b.setParent(c),d.insert(a,b),g&&c.insertInner(b,a),f!==-1?c.onItemMove(b,a,f):c.onItemAdd(b,a)},insertFirst:function(a){return this.insert(0,a)},insertLast:function(a){return this.insert(this.getItems().length,a)},insertBefore:function(a,b){var c=this.indexOf(b);return c!==-1&&this.insert(c,a),this},insertAfter:function(a,b){var c=this.indexOf(b);return c!==-1&&this.insert(c+1,a),this},onItemAdd:function(a,b){this.doItemLayoutAdd(a,b),this.initialized&&this.fireEvent("add",this,a,b)},doItemLayoutAdd:function(a,b){var c=this.getLayout();this.isRendered()&&a.setRendered(!0)?a.fireAction("renderedchange",[this,a,!0],"onItemAdd",c,{args:[a,b]}):c.onItemAdd(a,b)},onItemRemove:function(a,b){this.doItemLayoutRemove(a,b),this.fireEvent("remove",this,a,b)},doItemLayoutRemove:function(a,b){var c=this.getLayout();this.isRendered()&&a.setRendered(!1)?a.fireAction("renderedchange",[this,a,!1],"onItemRemove",c,{args:[a,b]}):c.onItemRemove(a,b)},onItemMove:function(a,b,c){a.isDocked()&&a.setDocked(null),this.doItemLayoutMove(a,b,c),this.fireEvent("move",this,a,b,c)},doItemLayoutMove:function(a,b,c){this.getLayout().onItemMove(a,b,c)},onItemCenteredChange:function(a,b){!a.isFloating()&&!a.isDocked()&&(b?this.removeInner(a):this.insertInner(a,this.indexOf(a))),this.getLayout().onItemCenteredChange(a,b)},onItemFloatingChange:function(a,b){!a.isCentered()&&!a.isDocked()&&(b?this.removeInner(a):this.insertInner(a,this.indexOf(a))),this.getLayout().onItemFloatingChange(a,b)},onItemDockedChange:function(a,b,c){!a.isCentered()&&!a.isFloating()&&(b?this.removeInner(a):this.insertInner(a,this.indexOf(a))),this.getLayout().onItemDockedChange(a,b,c)},getInnerItems:function(){return this.innerItems},getDockedItems:function(){var a=this.getItems().items,b=[],c=a.length,d,e;for(e=0;e<c;e++)d=a[e],d.isDocked()&&b.push(d);return b},applyActiveItem:function(a,b){var c=this.getInnerItems();this.getItems();if(!a&&c.length===0)return 0;if(typeof a=="number"){a=Math.max(0,Math.min(a,c.length-1)),a=c[a];if(a)return a;if(b)return null}else if(a)return a.isComponent||(a=this.factoryItem(a)),a.isInnerItem()||Ext.Logger.error("Setting activeItem to be a non-inner item"),this.has(a)||this.add(a),a},animateActiveItem:function(a,b){var c=this.getLayout(),d;return this.activeItemAnimation&&this.activeItemAnimation.destroy(),this.activeItemAnimation=b=new Ext.fx.layout.Card(b),b&&c.isCard&&(b.setLayout(c),d=c.getAnimation(),d&&(d.disable(),b.on("animationend",function(){d.enable(),b.destroy()},this))),this.setActiveItem(a)},doSetActiveItem:function(a,b){b&&b.fireEvent("deactivate",b,this,a),a&&a.fireEvent("activate",a,this,b)},setRendered:function(a){if(this.callParent(arguments)){var b=this.items.items,c,d;for(c=0,d=b.length;c<d;c++)b[c].setRendered(a);return!0}return!1},getScrollableBehavior:function(){var a=this.scrollableBehavior;return a||(a=this.scrollableBehavior=new Ext.behavior.Scrollable(this)),a},applyScrollable:function(a){this.getScrollableBehavior().setConfig(a)},getScrollable:function(){return this.getScrollableBehavior().getScrollView()},getRefItems:function(a){var b=this.getItems().items.slice(),c=b.length,d,e;if(a)for(d=0;d<c;d++)e=b[d],e.getRefItems&&(b=b.concat(e.getRefItems(!0)));return b},getComponent:function(a){return Ext.isObject(a)&&(a=a.getItemId()),this.getItems().get(a)},getDockedComponent:function(a){Ext.isObject(a)&&(a=a.getItemId());var b=this.getDockedItems(),c=b.length,d,e;if(Ext.isNumber(a))return b[a];for(e=0;e<c;e++){d=b[e];if(d.id==a)return d}return!1},query:function(a){return Ext.ComponentQuery.query(a,this)},child:function(a){return this.query("> "+a)[0]||null},down:function(a){return this.query(a)[0]||null},onClassExtended:function(a,b){if("onAdd"in b||"onRemove"in b)throw new Error("["+a.$className+"] 'onAdd()' and 'onRemove()' methods "+"no longer exist in Ext.Container, please use 'onItemAdd()' "+"and 'onItemRemove()' instead }")},destroy:function(){var a=this.getModal();a&&a.destroy(),this.removeAll(!0,!0),Ext.destroy(this.getScrollable(),this.bodyElement),this.callParent()}},function(){this.addMember("defaultItemClass",this),Ext.deprecateClassMethod(this,"addAll","add"),Ext.deprecateClassMethod(this,"removeDocked","remove"),this.override({constructor:function(a){a=a||{};var b=a.dockedItems,c,d,e;a.scroll&&(Ext.Logger.deprecate("'scroll' config is deprecated, please use 'scrollable' instead.",this),a.scrollable=a.scroll,delete a.scroll),this.callParent(arguments);if(b){Ext.Logger.deprecate("'dockedItems' config is deprecated, please add all docked items inside the 'items' config with a 'docked' property indicating the docking position instead, i.e { /*...*/ docked: 'top' /*...*/ }"),b=Ext.Array.from(b);for(c=0,d=b.length;c<d;c++)e=b[c],"dock"in e&&(Ext.Logger.deprecate("'dock' config for docked items is deprecated, please use 'docked' instead"),e.docked=e.dock);this.add(b)}},add:function(){var a=arguments;if(a.length>1){if(typeof a[0]=="number")return Ext.Logger.deprecate("add(index, item) method signature is deprecated, please use insert(index, item) instead"),this.insert(a[0],a[1]);Ext.Logger.deprecate("Passing items as multiple arguments is deprecated, please use one single array of items instead"),a=[Array.prototype.slice.call(a)]}return this.callParent(a)},doAdd:function(a){var b=a.getDocked(),c=a.overlay,d;return c&&b&&(Ext.Logger.deprecate("'overlay' config is deprecated on docked items, please set the top/left/right/bottom configurations instead.",this),b=="top"?d={top:0,bottom:"auto",left:0,right:0}:b=="bottom"&&(d={top:null,bottom:0,left:0,right:0}),d&&(a.setDocked(!1),a.setTop(d.top),a.setBottom(d.bottom),a.setLeft(d.left),a.setRight(d.right))),this.callOverridden(arguments)},applyDefaults:function(a){return typeof a=="function"&&Ext.Logger.deprecate("Passing a function as 'defaults' is deprecated. To add custom logics when 'defaults' is applied to each item, have your own factoryItem() method in your sub-class instead"),this.callParent(arguments)},factoryItemWithDefaults:function(a){var b=this.getDefaults(),c,d;return typeof b=="function"&&(c=b.call(this,a)),typeof a=="string"&&(Ext.Logger.deprecate("Passing a string id of item ('"+a+"') is deprecated, please pass a reference to that item instead"),a=Ext.getCmp(a)),c&&(this._defaults=c),d=this.callParent([a]),c&&(this._defaults=b),d},applyMasked:function(a){return Ext.isObject(a)&&!a.isInstance&&"message"in a&&!("xtype"in a)&&!("xclass"in a)&&(a.xtype="loadmask",Ext.Logger.deprecate("Using a 'message' config without specify an 'xtype' or 'xclass' will no longer implicitly set 'xtype' to 'loadmask'. Please set that explicitly.")),this.callOverridden(arguments)}}),Ext.deprecateClassMethod(this,"setMask","setMasked")}),Ext.define("Ext.Toolbar",{extend:"Ext.Container",xtype:"toolbar",requires:["Ext.Button","Ext.Title","Ext.Spacer"],isToolbar:!0,config:{baseCls:Ext.baseCSSPrefix+"toolbar",ui:"dark",title:null,defaultType:"button",layout:{type:"hbox",align:"center"}},constructor:function(a){a=a||{};if(a.docked=="left"||a.docked=="right")a.layout={type:"vbox",align:"stretch"};this.callParent([a])},applyTitle:function(a){return typeof a=="string"&&(a={title:a,centered:!0}),Ext.factory(a,Ext.Title,this.getTitle())},updateTitle:function(a,b){a&&(this.add(a),this.getLayout().setItemFlex(a,1)),b&&b.destroy()},showTitle:function(){var a=this.getTitle();a&&a.show()},hideTitle:function(){var a=this.getTitle();a&&a.hide()}},function(){Ext.deprecateProperty(this,"titleCls",null,"Ext.Toolbar.titleCls has been removed. Use #cls config of title instead.")}),Ext.define("Ext.Panel",{extend:"Ext.Container",requires:["Ext.util.LineSegment"],alternateClassName:"Ext.lib.Panel",xtype:"panel",isPanel:!0,config:{baseCls:Ext.baseCSSPrefix+"panel",bodyPadding:null,bodyMargin:null,bodyBorder:null},getElementConfig:function(){var a=this.callParent();return a.children.push({reference:"tipElement",className:"x-anchor",hidden:!0}),a},applyBodyPadding:function(a){return a===!0&&(a=5),a&&(a=Ext.dom.Element.unitizeBox(a)),a},updateBodyPadding:function(a){this.element.setStyle("padding",a)},applyBodyMargin:function(a){return a===!0&&(a=5),a&&(a=Ext.dom.Element.unitizeBox(a)),a},updateBodyMargin:function(a){this.element.setStyle("margin",a)},applyBodyBorder:function(a){return a===!0&&(a=1),a&&(a=Ext.dom.Element.unitizeBox(a)),a},updateBodyBorder:function(a){this.element.setStyle("border-width",a)},alignTo:function(a){var b=this.tipElement;b.hide(),this.currentTipPosition&&b.removeCls("x-anchor-"+this.currentTipPosition),this.callParent(arguments);var c=Ext.util.LineSegment,d=a.isComponent?a.renderElement:a,e=this.renderElement,f=d.getPageBox(),g=e.getPageBox(),h=g.left,i=g.top,j=g.right,k=g.bottom,l=h+g.width/2,m=i+g.height/2,n={x:h,y:i},o={x:j,y:i},p={x:h,y:k},q={x:j,y:k},r={x:l,y:m},s=f.left+f.width/2,t=f.top+f.height/2,u={x:s,y:t},v=new c(r,u),w=0,x=0,y,z,A,B,C,D;b.setVisibility(!1),b.show(),y=b.getSize(),z=y.width,A=y.height,v.intersects(new c(n,o))?(C=Math.min(Math.max(s,h),j-z/2),D=i,x=A+10,B="top"):v.intersects(new c(n,p))?(C=h,D=Math.min(Math.max(t+z/2,i),k),w=A+10,B="left"):v.intersects(new c(p,q))?(C=Math.min(Math.max(s,h),j-z/2),D=k,x=-A-10,B="bottom"):v.intersects(new c(o,q))&&(C=j,D=Math.min(Math.max(t-z/2,i),k),w=-A-10,B="right");if(C||D)this.currentTipPosition=B,b.addCls("x-anchor-"+B),b.setLeft(C-h),b.setTop(D-i),b.setVisibility(!0),this.setLeft(this.getLeft()+w),this.setTop(this.getTop()+x)}}),Ext.define("Ext.Sheet",{extend:"Ext.Panel",xtype:"sheet",requires:["Ext.fx.Animation"],config:{baseCls:Ext.baseCSSPrefix+"sheet",modal:!0,centered:!0,stretchX:null,stretchY:null,enter:"bottom",exit:"bottom",showAnimation:Ext.os.is.Android2?null:{type:"slideIn",duration:250,easing:"ease-out"},hideAnimation:Ext.os.is.Android2?null:{type:"slideOut",duration:250,easing:"ease-in"}},applyHideAnimation:function(a){var b=this.getExit(),c=b;if(b===null)return null;a===!0&&(a={type:"slideOut"}),Ext.isString(a)&&(a={type:a});var d=Ext.factory(a,Ext.fx.Animation);return d&&(b=="bottom"&&(c="down"),b=="top"&&(c="up"),d.setDirection(c)),d},applyShowAnimation:function(a){var b=this.getEnter(),c=b;if(b===null)return null;a===!0&&(a={type:"slideIn"}),Ext.isString(a)&&(a={type:a});var d=Ext.factory(a,Ext.fx.Animation);return d&&(b=="bottom"&&(c="down"),b=="top"&&(c="up"),d.setBefore({display:null}),d.setReverse(!0),d.setDirection(c)),d},updateStretchX:function(a){this.getLeft(),this.getRight(),a&&(this.setLeft(0),this.setRight(0))},updateStretchY:function(a){this.getTop(),this.getBottom(),a&&(this.setTop(0),this.setBottom(0))}}),Ext.define("Ext.MessageBox",{extend:"Ext.Sheet",requires:["Ext.Toolbar","Ext.field.Text","Ext.field.TextArea"],config:{ui:"dark",baseCls:Ext.baseCSSPrefix+"msgbox",iconCls:null,showAnimation:{type:"popIn",duration:250,easing:"ease-out"},hideAnimation:{type:"popOut",duration:250,easing:"ease-out"},zIndex:10,defaultTextHeight:75,title:null,buttons:null,message:null,prompt:null,layout:{type:"vbox",pack:"center"}},statics:{OK:{text:"OK",itemId:"ok",ui:"action"},YES:{text:"Yes",itemId:"yes",ui:"action"},NO:{text:"No",itemId:"no"},CANCEL:{text:"Cancel",itemId:"cancel"},INFO:Ext.baseCSSPrefix+"msgbox-info",WARNING:Ext.baseCSSPrefix+"msgbox-warning",QUESTION:Ext.baseCSSPrefix+"msgbox-question",ERROR:Ext.baseCSSPrefix+"msgbox-error",OKCANCEL:[{text:"Cancel",itemId:"cancel"},{text:"OK",itemId:"ok",ui:"action"}],YESNOCANCEL:[{text:"Cancel",itemId:"cancel"},{text:"No",itemId:"no"},{text:"Yes",itemId:"yes",ui:"action"}],YESNO:[{text:"No",itemId:"no"},{text:"Yes",itemId:"yes",ui:"action"}]},constructor:function(a){a=a||{},a.hasOwnProperty("promptConfig")&&(Ext.Logger.deprecate("'promptConfig' config is deprecated, please use 'prompt' config instead",this),Ext.applyIf(a,{prompt:a.promptConfig}),delete a.promptConfig);if(a.hasOwnProperty("multiline")||a.hasOwnProperty("multiLine"))a.prompt=a.prompt||{},Ext.applyIf(a.prompt,{multiLine:a.multiline||a.multiLine}),delete a.multiline,delete a.multiLine;this.defaultAllowedConfig={};var b=["ui","showAnimation","hideAnimation","title","message","prompt","iconCls","buttons","defaultTextHeight"],c=b.length,d,e;for(d=0;d<c;d++)e=b[d],this.defaultAllowedConfig[e]=this.defaultConfig[e];this.callParent([a])},applyTitle:function(a){return typeof a=="string"&&(a={title:a}),Ext.applyIf(a,{docked:"top",cls:this.getBaseCls()+"-title"}),Ext.factory(a,Ext.Toolbar,this.getTitle())},updateTitle:function(a){a&&this.add(a)},updateButtons:function(a){var b=this;a&&(b.buttonsToolbar?(b.buttonsToolbar.removeAll(),b.buttonsToolbar.setItems(a)):(b.buttonsToolbar=Ext.create("Ext.Toolbar",{docked:"bottom",defaultType:"button",layout:{type:"hbox",pack:"center"},ui:b.getUi(),cls:b.getBaseCls()+"-buttons",items:a}),b.add(b.buttonsToolbar)))},applyMessage:function(a){return a={html:a,cls:this.getBaseCls()+"-text"},Ext.factory(a,Ext.Component,this._message)},updateMessage:function(a){a&&this.add(a)},getMessage:function(){return this._message?this._message.getHtml():null},applyIconCls:function(a){return a={xtype:"component",docked:"left",width:40,height:40,baseCls:Ext.baseCSSPrefix+"icon",hidden:a?!1:!0,cls:a},Ext.factory(a,Ext.Component,this._iconCls)},updateIconCls:function(a,b){var c=this;this.getTitle(),this.getButtons(),a&&!b?this.add(a):this.remove(b)},getIconCls:function(){var a=this._iconCls,b;return a?(b=a.getCls(),b?b[0]:null):null},applyPrompt:function(a){if(a){var b={label:!1};return Ext.isObject(a)&&Ext.apply(b,a),b.multiLine?(b.height=Ext.isNumber(b.multiLine)?parseFloat(b.multiLine):this.getDefaultTextHeight(),Ext.factory(b,Ext.field.TextArea,this.getPrompt())):Ext.factory(b,Ext.field.Text,this.getPrompt())}return a},updatePrompt:function(a,b){a&&this.add(a),b&&this.remove(b)},onClick:function(a){if(a){var b=a.config.userConfig||{},c=a.getInitialConfig(),d=this.getPrompt();typeof b.fn=="function"&&this.on({hiddenchange:function(){b.fn.call(b.scope||null,c.itemId||c.text,d?d.getValue():null,b)},single:!0,scope:this}),b.input&&b.input.dom.blur()}this.hide()},show:function(a){!this.getParent()&&Ext.Viewport&&Ext.Viewport.add(this);if(!a)return this.callParent();var b=Ext.Object.merge({},{value:""},a),c=a.buttons||Ext.MessageBox.OK||[],d=[],e=a;Ext.each(c,function(a){if(!a)return;d.push(Ext.apply({userConfig:e,scope:this,handler:"onClick"},a))},this),b.buttons=d,b.promptConfig&&Ext.Logger.deprecate("'promptConfig' config is deprecated, please use 'prompt' config instead",this),b.prompt=b.promptConfig||b.prompt||null,b.multiLine&&(b.prompt=b.prompt||{},b.prompt.multiLine=b.multiLine,delete b.multiLine),b=Ext.merge({},this.defaultAllowedConfig,b),this.setConfig(b);var f=this.getPrompt();return f&&f.setValue(a.value||""),this.callParent(),this},alert:function(a,b,c,d){return this.show({title:a,message:b,buttons:Ext.MessageBox.OK,promptConfig:!1,fn:function(a){c&&c.call(d,a)},scope:d})},confirm:function(a,b,c,d){return this.show({title:a,message:b,buttons:Ext.MessageBox.YESNO,promptConfig:!1,scope:d,fn:function(a){c&&c.call(d,a)}})},prompt:function(a,b,c,d,e,f,g){return this.show({title:a,message:b,buttons:Ext.MessageBox.OKCANCEL,scope:d,prompt:g||!0,multiLine:e,value:f,fn:function(a,b){c&&c.call(d,a,b)}})}},function(a){this.override({setIcon:function(a,b){return Ext.Logger.deprecate("Ext.MessageBox#setIcon is deprecated, use setIconCls instead",2),this.setIconCls(a),this},updateText:function(a){return Ext.Logger.deprecate("Ext.MessageBox#updateText is deprecated, use setMessage instead",2),this.setMessage(a),this}}),Ext.onSetup(function(){Ext.Msg=new a})}),Ext.define("Ext.dataview.component.DataItem",{extend:"Ext.Container",xtype:"dataitem",config:{baseCls:Ext.baseCSSPrefix+"data-item",defaultType:"component",record:null,itemCls:null,dataMap:{},items:[{xtype:"component"}]},updateBaseCls:function(a,b){var c=this;c.callParent(arguments)},updateItemCls:function(a,b){b&&this.removeCls(b),a&&this.addCls(a)},updateRecord:function(a){if(!a)return;this._record=a;var b=this,c=b.config.dataview,d=c.prepareData(a.getData(!0),c.getStore().indexOf(a),a),e=b.getItems(),f=e.first(),g=b.getDataMap(),h,i,j,k;if(!f)return;for(h in g){j=g[h],i=b[h]();if(i)for(k in j)i[k]&&i[k](d[j[k]])}b.fireEvent("updatedata",b,d),f.updateData(d)}}),Ext.define("Ext.dataview.component.Container",{extend:"Ext.Container",requires:["Ext.dataview.component.DataItem"],constructor:function(){this.itemCache=[],this.callParent(arguments)},doInitialize:function(){this.innerElement.on({touchstart:"onItemTouchStart",touchend:"onItemTouchEnd",tap:"onItemTap",touchmove:"onItemTouchMove",singletap:"onItemSingleTap",doubletap:"onItemDoubleTap",swipe:"onItemSwipe",delegate:"> ."+Ext.baseCSSPrefix+"data-item",scope:this})},initialize:function(){this.callParent(),this.doInitialize()},onItemTouchStart:function(a){var b=this,c=a.getTarget(),d=Ext.getCmp(c.id);d.on({touchmove:"onItemTouchMove",scope:b,single:!0}),b.fireEvent("itemtouchstart",b,d,b.indexOf(d),a)},onItemTouchMove:function(a){var b=this,c=a.getTarget(),d=Ext.getCmp(c.id);b.fireEvent("itemtouchmove",b,d,b.indexOf(d),a)},onItemTouchEnd:function(a){var b=this,c=a.getTarget(),d=Ext.getCmp(c.id);d.un({touchmove:"onItemTouchMove",scope:b}),b.fireEvent("itemtouchend",b,d,b.indexOf(d),a)},onItemTap:function(a){var b=this,c=a.getTarget(),d=Ext.getCmp(c.id);b.fireEvent("itemtap",b,d,b.indexOf(d),a)},onItemTapHold:function(a){var b=this,c=a.getTarget(),d=Ext.getCmp(c.id);b.fireEvent("itemtaphold",b,d,b.indexOf(d),a)},onItemSingleTap:function(a){var b=this,c=a.getTarget(),d=Ext.getCmp(c.id);b.fireEvent("itemsingletap",b,d,b.indexOf(d),a)},onItemDoubleTap:function(a){var b=this,c=a.getTarget(),d=Ext.getCmp(c.id);b.fireEvent("itemdoubletap",b,d,b.indexOf(d),a)},onItemSwipe:function(a){var b=this,c=a.getTarget(),d=Ext.getCmp(c.id);b.fireEvent("itemswipe",b,d,b.indexOf(d),a)},moveItemsToCache:function(a,b){var c=this,d=c.dataview,e=d.getMaxItemCache(),f=c.getViewItems(),g=c.itemCache,h=g.length,i=d.getPressedCls(),j=d.getSelectedCls(),k=b-a,l;for(;k>=0;k--)l=f[a+k],h!==e?(c.remove(l,!1),l.removeCls([i,j]),g.push(l),h++):l.destroy();c.getViewItems().length==0&&this.dataview.showEmptyText()},moveItemsFromCache:function(a){var b=this,c=b.dataview,d=c.getStore(),e=a.length,f=c.getDefaultType(),g=c.getItemConfig(),h=b.itemCache,i=h.length,j=[],k,l,m;e&&c.hideEmptyText();for(k=0;k<e;k++)a[k]._tmpIndex=d.indexOf(a[k]);Ext.Array.sort(a,function(a,b){return a._tmpIndex>b._tmpIndex?1:-1});for(k=0;k<e;k++)m=a[k],i?(i--,l=h.pop(),this.updateListItem(m,l)):l=b.getDataItemConfig(f,m,g),this.insert(m._tmpIndex,l),delete m._tmpIndex;return j},getViewItems:function(){return this.getInnerItems()},updateListItem:function(a,b){b.updateRecord&&b.updateRecord(a)},getDataItemConfig:function(a,b,c){var d=this.dataview,e={xtype:a,record:b,dataview:d,itemCls:d.getItemCls(),defaults:c};return Ext.merge(e,c)},doRemoveItemCls:function(a){var b=this.getViewItems(),c=b.length,d=0;for(;d<c;d++)b[d].removeCls(a)},doAddItemCls:function(a){var b=this.getViewItems(),c=b.length,d=0;for(;d<c;d++)b[d].addCls(a)},destroy:function(){var a=this,b=a.itemCache,c=b.length,d=0;for(;d<c;d++)b[d].destroy();this.callParent()}}),Ext.define("Ext.dataview.DataView",{extend:"Ext.Container",alternateClassName:"Ext.DataView",mixins:["Ext.mixin.Selectable"],xtype:"dataview",requires:["Ext.LoadMask","Ext.data.StoreManager","Ext.dataview.component.Container","Ext.dataview.element.Container"],config:{store:null,baseCls:Ext.baseCSSPrefix+"dataview",emptyText:null,deferEmptyText:!0,itemTpl:"<div>{text}</div>",pressedCls:"x-item-pressed",itemCls:null,selectedCls:"x-item-selected",triggerEvent:"itemtap",triggerCtEvent:"tap",deselectOnContainerClick:!0,scrollable:!0,inline:null,pressedDelay:100,loadingText:"Loading...",useComponents:null,itemConfig:{},maxItemCache:20,defaultType:"dataitem",scrollToTopOnRefresh:!0},constructor:function(a){var b=this;a&&a.layout&&(Ext.Logger.warn("Attempting to create a DataView with a layout. DataViews do not have a layout configuration as their items are laid out automatically."),delete a.layout),b.hasLoadedStore=!1,b.mixins.selectable.constructor.apply(b,arguments),b.callParent(arguments)},updateItemCls:function(a,b){var c=this.container;c&&(b&&c.doRemoveItemCls(b),a&&c.doAddItemCls(a))},storeEventHooks:{beforeload:"onBeforeLoad",load:"onLoad",refresh:"refresh",addrecords:"onStoreAdd",removerecords:"onStoreRemove",updaterecord:"onStoreUpdate"},initialize:function(){this.callParent();var a=this,b;a.on(a.getTriggerCtEvent(),a.onContainerTrigger,a),b=a.container=this.add(new(Ext.dataview[a.getUseComponents()?"component":"element"].Container)({baseCls:this.getBaseCls()})),b.dataview=a,a.on(a.getTriggerEvent(),a.onItemTrigger,a),b.on({itemtouchstart:"onItemTouchStart",itemtouchend:"onItemTouchEnd",itemtap:"onItemTap",itemtaphold:"onItemTapHold",itemtouchmove:"onItemTouchMove",itemsingletap:"onItemSingleTap",itemdoubletap:"onItemDoubleTap",itemswipe:"onItemSwipe",scope:a}),this.getStore()&&this.refresh()},applyInline:function(a){return Ext.isObject(a)&&(a=Ext.apply({},a)),a},updateInline:function(a,b){var c=this.getBaseCls();b&&this.removeCls([c+"-inlineblock",c+"-nowrap"]),a&&(this.addCls(c+"-inlineblock"),Ext.isObject(a)&&a.wrap===!1?this.addCls(c+"-nowrap"):this.removeCls(c+"-nowrap"))},prepareData:function(a,b,c){return a},onContainerTrigger:function(a){var b=this;if(a.target!=b.element.dom)return;b.getDeselectOnContainerClick()&&b.getStore()&&b.deselectAll()},onItemTrigger:function(a,b){this.selectWithEvent(this.getStore().getAt(b))},doAddPressedCls:function(a){var b=this,c=b.container.getViewItems()[b.getStore().indexOf(a)];Ext.isElement(c)&&(c=Ext.get(c)),c&&c.addCls(b.getPressedCls())},onItemTouchStart:function(a,b,c,d){var e=this,f=e.getStore(),g=f&&f.getAt(c);e.fireAction("itemtouchstart",[e,c,b,g,d],"doItemTouchStart")},doItemTouchStart:function(a,b,c,d){var e=a.getPressedDelay();d&&(e>0?a.pressedTimeout=Ext.defer(a.doAddPressedCls,e,a,[d]):a.doAddPressedCls(d))},onItemTouchEnd:function(a,b,c,d){var e=this,f=e.getStore(),g=f&&f.getAt(c);this.hasOwnProperty("pressedTimeout")&&(clearTimeout(this.pressedTimeout),delete this.pressedTimeout),g&&b&&b.removeCls(e.getPressedCls()),e.fireEvent("itemtouchend",e,c,b,g,d)},onItemTouchMove:function(a,b,c,d){var e=this,f=e.getStore(),g=f&&f.getAt(c);e.hasOwnProperty("pressedTimeout")&&(clearTimeout(e.pressedTimeout),delete e.pressedTimeout),g&&b&&b.removeCls(e.getPressedCls()),e.fireEvent("itemtouchmove",e,c,b,g,d)},onItemTap:function(a,b,c,d){var e=this,f=e.getStore(),g=f&&f.getAt(c);e.fireEvent("itemtap",e,c,b,g,d)},onItemTapHold:function(a,b,c,d){var e=this,f=e.getStore(),g=f&&f.getAt(c);e.fireEvent("itemtaphold",e,c,b,g,d)},onItemSingleTap:function(a,b,c,d){var e=this,f=e.getStore(),g=f&&f.getAt(c);e.fireEvent("itemsingletap",e,c,b,g,d)},onItemDoubleTap:function(a,b,c,d){var e=this,f=e.getStore(),g=f&&f.getAt(c);e.fireEvent("itemdoubletap",e,c,b,g,d)},onItemSwipe:function(a,b,c,d){var e=this,f=e.getStore(),g=f&&f.getAt(c);e.fireEvent("itemswipe",e,c,b,g,d)},onItemSelect:function(a,b){var c=this;b?c.doItemSelect(c,a):c.fireAction("select",[c,a],"doItemSelect")},doItemSelect:function(a,b){if(a.container){var c=a.container.getViewItems()[a.getStore().indexOf(b)];Ext.isElement(c)&&(c=Ext.get(c)),c&&(c.removeCls(a.getPressedCls()),c.addCls(a.getSelectedCls()))}},onItemDeselect:function(a,b){var c=this;c.container&&(b?c.doItemDeselect(c,a):c.fireAction("deselect",[c,a,b],"doItemDeselect"))},doItemDeselect:function(a,b){var c=a.container.getViewItems()[a.getStore().indexOf(b)];Ext.isElement(c)&&(c=Ext.get(c)),c&&c.removeCls([a.getPressedCls(),a.getSelectedCls()])},updateData:function(a){var b=this.getStore();b?b.add(a):this.setStore(Ext.create("Ext.data.Store",{data:a}))},applyStore:function(a){var b=this,c=Ext.apply({},b.storeEventHooks,{scope:b}),d,e;return a&&(a=Ext.data.StoreManager.lookup(a),a&&Ext.isObject(a)&&a.isStore?(a.on(c),d=a.getProxy(),d&&(e=d.getReader(),e&&e.on("exception","handleException",this))):Ext.Logger.warn("The specified Store cannot be found",this)),a},handleException:function(){this.setMasked(!1)},updateStore:function(a,b){var c=this,d=Ext.apply({},c.storeEventHooks,{scope:c}),e,f;b&&Ext.isObject(b)&&b.isStore&&(b.autoDestroy?b.destroy():(b.un(d),e=b.getProxy(),e&&(f=e.getReader(),f&&f.un("exception","handleException",this)))),a&&(a.isLoaded()&&(this.hasLoadedStore=!0),a.isLoading()&&c.onBeforeLoad(),c.container&&c.refresh())},onBeforeLoad:function(){var a=this.getScrollable();a&&a.getScroller().stopAnimation();var b=this.getLoadingText();b&&(this.setMasked({xtype:"loadmask",message:b}),a&&a.getScroller().setDisabled(!0)),this.hideEmptyText()},updateEmptyText:function(a,b){var c=this,d;b&&c.emptyTextCmp&&(c.remove(c.emptyTextCmp,!0),delete c.emptyTextCmp),a&&(c.emptyTextCmp=c.add({xtype:"component",cls:c.getBaseCls()+"-emptytext",html:a,hidden:!0}),d=c.getStore(),d&&c.hasLoadedStore&&!d.getCount()&&this.showEmptyText())},onLoad:function(a){var b=this.getScrollable();this.hasLoadedStore=!0,this.setMasked(!1),b&&b.getScroller().setDisabled(!1),a.getCount()||this.showEmptyText()},refresh:function(){var a=this,b=a.container;if(!a.getStore()){!a.hasLoadedStore&&!a.getDeferEmptyText()&&a.showEmptyText();return}b&&a.fireAction("refresh",[a],"doRefresh")},applyItemTpl:function(a){return Ext.isObject(a)&&a.isTemplate?a:new Ext.XTemplate(a)},onAfterRender:function(){var a=this;a.callParent(arguments),a.updateStore(a.getStore())},getViewItems:function(){return this.container.getViewItems()},doRefresh:function(a){var b=a.container,c=a.getStore(),d=c.getRange(),e=b.getViewItems(),f=d.length,g=e.length,h=f-g,i=a.getScrollable(),j,k;this.getScrollToTopOnRefresh()&&i&&i.getScroller().scrollToTop();if(f<1){a.onStoreClear();return}h<0?(b.moveItemsToCache(g+h,g-1),e=b.getViewItems(),g=e.length):h>0&&b.moveItemsFromCache(c.getRange(g));for(j=0;j<g;j++)k=e[j],b.updateListItem(d[j],k)},showEmptyText:function(){this.getEmptyText()&&(this.hasLoadedStore||!this.getDeferEmptyText())&&this.emptyTextCmp.show()},hideEmptyText:function(){this.getEmptyText()&&this.emptyTextCmp.hide()},onStoreClear:function(){var a=this,b=a.container,c=b.getViewItems();b.moveItemsToCache(0,c.length-1),this.showEmptyText()},onStoreAdd:function(a,b){b&&this.container.moveItemsFromCache(b)},onStoreRemove:function(a,b,c){var d=this.container,e=b.length,f;for(f=0;f<e;f++)d.moveItemsToCache(c[f],c[f])},onStoreUpdate:function(a,b,c,d){var e=this,f=e.container;d=typeof d=="undefined"?c:d,d!==c?(f.moveItemsToCache(d,d),f.moveItemsFromCache([b])):f.updateListItem(b,f.getViewItems()[c])}},function(){Ext.deprecateMethod(this,"collectData",null,"Ext.dataview.DataView.collectData() has been removed"),Ext.deprecateMethod(this,"findItemByChild",null,"Ext.dataview.DataView.findItemByChild() has been removed"),Ext.deprecateMethod(this,"findTargetByEvent",null,"Ext.dataview.DataView.findTargetByEvent() has been removed"),Ext.deprecateMethod(this,"getNode",null,"Ext.dataview.DataView.getNode() has been removed"),Ext.deprecateMethod(this,"getNodes",null,"Ext.dataview.DataView.getNodes() has been removed"),Ext.deprecateMethod(this,"getRecords",null,"Ext.dataview.DataView.getRecords() has been removed"),Ext.deprecateMethod(this,"getSelectedNodes",null,"Ext.dataview.DataView.getSelectedNodes() has been removed"),Ext.deprecateMethod(this,"getSelectedRecords",null,"Ext.dataview.DataView.getSelectedRecords() has been removed"),Ext.deprecateMethod(this,"indexOf",null,"Ext.dataview.DataView.indexOf() has been removed"),Ext.deprecateMethod(this,"refreshNode",null,"Ext.dataview.DataView.refreshNode() has been removed"),Ext.deprecateClassMethod(this,"bindStore","setStore"),Ext.deprecateProperty(this,"blockRefresh",null,"Ext.dataview.DataView.blockRefresh has been removed"),Ext.deprecateProperty(this,"itemSelector",null,"Ext.dataview.DataView.itemSelector has been removed"),Ext.deprecateProperty(this,"multiSelect",null,"Ext.dataview.DataView.multiSelect has been removed"),Ext.deprecateProperty(this,"overItemCls",null,"Ext.dataview.DataView.overItemCls has been removed"),Ext.deprecateProperty(this,"selectedItemCls",null,"Ext.dataview.DataView.selectedItemCls has been removed"),Ext.deprecateProperty(this,"simpleSelect",null,"Ext.dataview.DataView.simpleSelect has been removed"),Ext.deprecateProperty(this,"singleSelect",null,"Ext.dataview.DataView.singleSelect has been removed"),Ext.deprecateProperty(this,"trackOver",null,"Ext.dataview.DataView.trackOver has been removed")}),Ext.define("Ext.dataview.List",{alternateClassName:"Ext.List",extend:"Ext.dataview.DataView",xtype:"list",requires:["Ext.dataview.element.List","Ext.dataview.IndexBar","Ext.dataview.ListItemHeader"],config:{indexBar:!1,icon:null,preventSelectionOnDisclose:!0,baseCls:Ext.baseCSSPrefix+"list",pinHeaders:!0,grouped:!1,onItemDisclosure:null,disclosureProperty:"disclosure",ui:"normal"},constructor:function(){this.translateHeader=Ext.os.is.Android2?this.translateHeaderCssPosition:this.translateHeaderTransform,this.callParent(arguments)},onItemTrigger:function(a,b,c,d,e){(!this.getPreventSelectionOnDisclose()||!Ext.fly(e.target).hasCls(this.getBaseCls()+"-disclosure"))&&this.callParent(arguments)},initialize:function(){var a=this,b;a.on(a.getTriggerCtEvent(),a.onContainerTrigger,a),b=a.container=this.add(new Ext.dataview.element.List({baseCls:this.getBaseCls()})),b.dataview=a,a.on(a.getTriggerEvent(),a.onItemTrigger,a),b.element.on({delegate:"."+this.getBaseCls()+"-disclosure",tap:"handleItemDisclosure",scope:a}),b.on({itemtouchstart:"onItemTouchStart",itemtouchend:"onItemTouchEnd",itemtap:"onItemTap",itemtaphold:"onItemTapHold",itemtouchmove:"onItemTouchMove",itemsingletap:"onItemSingleTap",itemdoubletap:"onItemDoubleTap",itemswipe:"onItemSwipe",scope:a}),this.getStore()&&this.refresh()},updateInline:function(a){this.callParent(arguments),a&&(this.setOnItemDisclosure(!1),this.setIndexBar(!1),this.setGrouped(!1))},applyIndexBar:function(a){return Ext.factory(a,Ext.dataview.IndexBar,this.getIndexBar())},updateIndexBar:function(a){a&&this.getScrollable()&&(this.indexBarElement=this.getScrollableBehavior().getScrollView().getElement().appendChild(a.renderElement),a.on({index:"onIndex",scope:this}),this.element.addCls(this.getBaseCls()+"-indexed"))},updateGrouped:function(a){var b=this.getBaseCls(),c=b+"-grouped",d=b+"-ungrouped";a?(this.addCls(c),this.removeCls(d),this.doRefreshHeaders(),this.updatePinHeaders(this.getPinHeaders())):(this.addCls(d),this.removeCls(c),this.container&&this.container.doRemoveHeaders(),this.updatePinHeaders(null))},updatePinHeaders:function(a){var b=this.getScrollable(),c;b&&(c=b.getScroller());if(!b)return;a&&this.getGrouped()?(c.on({refresh:"doRefreshHeaders",scroll:"onScroll",scope:this}),(!this.header||!this.header.renderElement.dom)&&this.createHeader()):(c.un({refresh:"doRefreshHeaders",scroll:"onScroll",scope:this}),this.header&&this.header.destroy())},createHeader:function(){var a,b=this.getScrollable(),c,d,e;if(!b)return;c=b.getScroller(),d=this.getScrollableBehavior().getScrollView(),e=d.getElement(),this.header=a=Ext.create("Ext.dataview.ListItemHeader",{html:" ",cls:"x-list-header-swap"}),e.dom.insertBefore(a.element.dom,c.getContainer().dom.nextSibling),this.translateHeader(1e3)},refresh:function(){this.callParent(),this.doRefreshHeaders()},onStoreAdd:function(){this.callParent(arguments),this.doRefreshHeaders()},onStoreRemove:function(){this.callParent(arguments),this.doRefreshHeaders()},onStoreUpdate:function(){this.callParent(arguments),this.doRefreshHeaders()},onStoreClear:function(){this.callParent(),this.header&&this.header.destroy(),this.doRefreshHeaders()},getClosestGroups:function(){var a=this.pinHeaderInfo.offsets,b=this.getScrollable(),c=a.length,d=0,e,f,g,h;if(!b)return{current:0,next:0};e=b.getScroller().position;for(;d<c;d++){f=a[d];if(f.offset>e.y){h=f;break}g=f}return{current:g,next:h}},doRefreshHeaders:function(){if(!this.getGrouped()||!this.container)return!1;var a=this.findGroupHeaderIndices(),b=a.length,c=this.container.getViewItems(),d=this.pinHeaderInfo={offsets:[]},e=d.offsets,f=this.getScrollable(),g,h,i,j,k;if(b){for(i=0;i<b;i++)j=c[a[i]],j&&(k=this.getItemHeader(j),e.push({header:k,offset:j.offsetTop}));d.closest=this.getClosestGroups(),this.setActiveGroup(d.closest.current),k&&(d.headerHeight=Ext.fly(k).getHeight()),f&&(g=f.getScroller(),h=g.position,this.onScroll(g,h.x,h.y))}},getItemHeader:function(a){var b=Ext.fly(a).down(this.container.headerClsCache);return b?b.dom:null},onScroll:function(a,b,c){var d=this,e=d.pinHeaderInfo,f=e.closest,g=d.activeGroup,h=e.headerHeight,i,j;if(!f)return;i=f.next,j=f.current,(!this.header||!this.header.renderElement.dom)&&this.createHeader();if(c<=0){g&&(d.setActiveGroup(!1),f.next=j),this.translateHeader(1e3);return}if(i&&c>i.offset||j&&c<j.offset)f=e.closest=this.getClosestGroups(),i=f.next,j=f.current,this.setActiveGroup(j);if(i&&c>0&&i.offset-c<=h){var k=h-(i.offset-c);this.translateHeader(k)}else this.translateHeader(null)},translateHeaderTransform:function(a){this.header.renderElement.dom.style.webkitTransform=a===null?null:"translate3d(0px, -"+a+"px, 0px)"},translateHeaderCssPosition:function(a){this.header.renderElement.dom.style.top=a===null?null:"-"+Math.round(a)+"px"},setActiveGroup:function(a){var b=this,c=b.header;if(c)if(a&&a.header){if(!b.activeGroup||b.activeGroup.header!=a.header)c.show(),c.element&&c.setHtml(a.header.innerHTML)}else c&&c.element&&c.hide();this.activeGroup=a},onIndex:function(a,b){var c=this,d=b.toLowerCase(),e=c.getStore(),f=e.getGroups(),g=f.length,h=c.getScrollable(),i,j,k,l,m,n;if(!h)return;i=c.getScrollable().getScroller();for(k=0;k<g;k++){j=f[k],m=j.name.toLowerCase();if(m==d||m>d){l=j;break}l=j}if(h&&l){n=c.container.getViewItems()[e.indexOf(l.children[0])],i.stopAnimation();var o=i.getContainerSize().y,p=i.getSize().y,q=p-o,r=n.offsetTop>q?q:n.offsetTop;i.scrollTo(0,r)}},applyOnItemDisclosure:function(a){return Ext.isFunction(a)?{scope:this,handler:a}:a},handleItemDisclosure:function(a){var b=this,c=a.getTarget().parentNode,d=b.container.getViewItems().indexOf(c),e=b.getStore().getAt(d);b.fireAction("disclose",[b,e,c,d,a],"doDisclose")},doDisclose:function(a,b,c,d,e){var f=a.getOnItemDisclosure();f&&f.handler&&f.handler.call(a,b,c,d,e)},findGroupHeaderIndices:function(){if(!this.getGrouped())return[];var a=this,b=a.getStore();if(!b)return[];var c=a.container,d=b.getGroups(),e=d.length,f=c.getViewItems(),g=[],h=c.footerClsShortCache,i,j,k,l,m;c.doRemoveHeaders(),c.doRemoveFooterCls();if(f.length){for(i=0;i<e;i++)j=d[i].children[0],k=b.indexOf(j),l=f[k],c.doAddHeader(l,b.getGroupString(j)),i&&Ext.fly(l.previousSibling).addCls(h),g.push(k);m=d[--i].children,Ext.fly(f[b.indexOf(m[m.length-1])]).addCls(h)}return g},destroy:function(){Ext.destroy(this.getIndexBar(),this.indexBarElement,this.header),this.callParent()}}),Ext.define("Ext.event.Touch",{extend:"Ext.event.Dom",requires:["Ext.util.Point"],constructor:function(a,b){return b&&this.set(b),this.touchesMap={},this.changedTouches=this.cloneTouches(a.changedTouches),this.touches=this.cloneTouches(a.touches),this.targetTouches=this.cloneTouches(a.targetTouches),this.callParent([a])},clone:function(){return new this.self(this)},setTargets:function(a){this.doSetTargets(this.changedTouches,a),this.doSetTargets(this.touches,a),this.doSetTargets(this.targetTouches,a)},doSetTargets:function(a,b){var c,d,e,f,g;for(c=0,d=a.length;c<d;c++)e=a[c],f=e.identifier,g=b[f],g&&(e.targets=g)},cloneTouches:function(a){var b=this.touchesMap,c=[],d=null,e,f,g,h;for(e=0,f=a.length;e<f;e++)g=a[e],h=g.identifier,d!==null&&h===d&&h++,d=h,b[h]||(b[h]={pageX:g.pageX,pageY:g.pageY,identifier:h,target:g.target,timeStamp:g.timeStamp,point:Ext.util.Point.fromTouch(g),targets:g.targets}),c[e]=b[h];return c}}),Ext.define("Ext.event.publisher.TouchGesture",{extend:"Ext.event.publisher.Dom",requires:["Ext.util.Point","Ext.event.Touch"],handledEvents:["touchstart","touchmove","touchend","touchcancel"],moveEventName:"touchmove",config:{moveThrottle:1,buffering:{enabled:!1,interval:10},recognizers:{}},currentTouchesCount:0,constructor:function(a){return this.processEvents=Ext.Function.bind(this.processEvents,this),this.eventProcessors={touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd},this.eventToRecognizerMap={},this.activeRecognizers=[],this.currentRecognizers=[],this.currentTargets={},this.currentTouches={},this.buffer=[],this.initConfig(a),this.callParent()},applyBuffering:function(a){return a.enabled===!0?this.bufferTimer=setInterval(this.processEvents,a.interval):clearInterval(this.bufferTimer),a},applyRecognizers:function(a){var b,c;for(b in a)a.hasOwnProperty(b)&&(c=a[b],c&&this.registerRecognizer(c));return a},handles:function(a){return this.callParent(arguments)||this.eventToRecognizerMap.hasOwnProperty(a)},doesEventBubble:function(){return!0},eventLogs:[],onEvent:function(a){var b=this.getBuffering();a=new Ext.event.Touch(a),b.enabled?this.buffer.push(a):this.processEvent(a)},processEvents:function(){var a=this.buffer,b=a.length,c=[],d,e,f;if(b>0){d=a.slice(0),a.length=0;for(f=0;f<b;f++)e=d[f],e.type===this.moveEventName?c.push(e):(c.length>0&&(this.processEvent(this.mergeEvents(c)),c.length=0),this.processEvent(e));c.length>0&&(this.processEvent(this.mergeEvents(c)),c.length=0)}},mergeEvents:function(a){var b=[],c=a.length,d,e,f;f=a[c-1];if(c===1)return f;for(d=0;d<c;d++)e=a[d],b.push(e.changedTouches);return f.changedTouches=this.mergeTouchLists(b),f},mergeTouchLists:function(a){var b={},c=[],d,e,f,g,h,i,j;for(d=0,e=a.length;d<e;d++){f=a[d];for(g=0,h=f.length;g<h;g++)i=f[g],j=i.identifier,b[j]=i}for(j in b)b.hasOwnProperty(j)&&c.push(b[j]);return c},registerRecognizer:function(a){var b=this.eventToRecognizerMap,c=this.activeRecognizers,d=a.getHandledEvents(),e,f,g;a.setOnRecognized(this.onRecognized),a.setCallbackScope(this);for(e=0,f=d.length;e<f;e++)g=d[e],b[g]=a;return c.push(a),this},onRecognized:function(a,b,c,d){var e=[],f=c.length,g,h,i;if(f===1)return this.publish(a,c[0].targets,b,d);for(h=0;h<f;h++)i=c[h],e.push(i.targets);g=this.getCommonTargets(e),this.publish(a,g,b,d)},publish:function(a,b,c,d){return c.set(d),this.callParent([a,b,c])},getCommonTargets:function(a){var b=a[0],c=a.length;if(c===1)return b;var d=[],e=1,f,g,h;for(;;){f=b[b.length-e];if(!f)return d;for(h=1;h<c;h++){g=a[h];if(g[g.length-e]!==f)return d}d.unshift(f),e++}return d},invokeRecognizers:function(a,b){var c=this.activeRecognizers,d=c.length,e,f;if(a==="onStart")for(e=0;e<d;e++)c[e].isActive=!0;for(e=0;e<d;e++)f=c[e],f.isActive&&f[a].call(f,b)===!1&&(f.isActive=!1)},getActiveRecognizers:function(){return this.activeRecognizers},processEvent:function(a){this.eventProcessors[a.type].call(this,a)},onTouchStart:function(a){var b=this.currentTargets,c=this.currentTouches,d=this.currentTouchesCount,e=a.changedTouches,f=a.touches,g=f.length,h={},i=e.length,j,k,l,m;d+=i;if(d>g){for(j=0;j<g;j++)k=f[j],l=k.identifier,h[l]=!0;for(l in c)c.hasOwnProperty(l)&&(h[l]||(d--,m=a.clone(),k=c[l],k.targets=this.getBubblingTargets(this.getElementTarget(k.target)),m.changedTouches=[k],this.onTouchEnd(m)));if(d>g)return}for(j=0;j<i;j++)k=e[j],l=k.identifier,c.hasOwnProperty(l)||this.currentTouchesCount++,c[l]=k,b[l]=this.getBubblingTargets(this.getElementTarget(k.target));a.setTargets(b);for(j=0;j<i;j++)k=e[j],this.publish("touchstart",k.targets,a,{touch:k});this.isStarted||(this.isStarted=!0,this.invokeRecognizers("onStart",a)),this.invokeRecognizers("onTouchStart",a)},onTouchMove:function(a){if(!this.isStarted)return;var b=this.currentTargets,c=this.currentTouches,d=this.getMoveThrottle(),e=a.changedTouches,f=0,g,h,i,j,k,l;a.setTargets(b);for(g=0,h=e.length;g<h;g++){i=e[g],l=i.identifier,j=i.point,k=c[l].point;if(d&&j.isCloseTo(k,d)){f++;continue}c[l]=i,this.publish("touchmove",i.targets,a,{touch:i})}f<h&&this.invokeRecognizers("onTouchMove",a)},onTouchEnd:function(a){if(!this.isStarted)return;var b=this.currentTargets,c=this.currentTouches,d=a.changedTouches,e=d.length,f,g,h,i;a.setTargets(b),this.currentTouchesCount-=e,f=this.currentTouchesCount===0,f&&(this.isStarted=!1);for(h=0;h<e;h++)i=d[h],g=i.identifier,delete c[g],delete b[g],this.publish("touchend",i.targets,a,{touch:i});this.invokeRecognizers("onTouchEnd",a),f&&this.invokeRecognizers("onEnd",a)}},function(){Ext.feature.has.Touch||this.override({moveEventName:"mousemove",map:{mouseToTouch:{mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},touchToMouse:{touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"}},attachListener:function(a){a=this.map.touchToMouse[a];if(!a)return;return this.callOverridden([a])},lastEventType:null,onEvent:function(a){if("button"in a&&a.button!==0)return;var b=a.type,c=[a];if(b==="mousedown"&&this.lastEventType&&this.lastEventType!=="mouseup"){var d=document.createEvent("MouseEvent");d.initMouseEvent("mouseup",a.bubbles,a.cancelable,document.defaultView,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.metaKey,a.button,a.relatedTarget),this.onEvent(d)}return b!=="mousemove"&&(this.lastEventType=b),a.identifier=1,a.touches=b!=="mouseup"?c:[],a.targetTouches=b!=="mouseup"?c:[],a.changedTouches=c,this.callOverridden([a])},processEvent:function(a){this.eventProcessors[this.map.mouseToTouch[a.type]].call(this,a)}})}),Ext.define("Ext.event.recognizer.Recognizer",{mixins:["Ext.mixin.Identifiable"],handledEvents:[],config:{onRecognized:Ext.emptyFn,onFailed:Ext.emptyFn,callbackScope:null},constructor:function(a){return this.initConfig(a),this},getHandledEvents:function(){return this.handledEvents},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,fail:function(){return this.getOnFailed().apply(this.getCallbackScope(),arguments),!1},fire:function(){this.getOnRecognized().apply(this.getCallbackScope(),arguments)}}),Ext.define("Ext.event.recognizer.Touch",{extend:"Ext.event.recognizer.Recognizer",onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:Ext.emptyFn}),Ext.define("Ext.event.recognizer.SingleTouch",{extend:"Ext.event.recognizer.Touch",inheritableStatics:{NOT_SINGLE_TOUCH:1,TOUCH_MOVED:2},onTouchStart:function(a){if(a.touches.length>1)return this.fail(this.self.NOT_SINGLE_TOUCH)}}),Ext.define("Ext.event.recognizer.Drag",{extend:"Ext.event.recognizer.SingleTouch",isStarted:!1,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:["dragstart","drag","dragend"],onTouchStart:function(a){var b,c;if(this.callParent(arguments)===!1)return this.isStarted&&this.lastMoveEvent!==null&&this.onTouchEnd(this.lastMoveEvent),!1;this.startTouches=b=a.changedTouches,this.startTouch=c=b[0],this.startPoint=c.point},onTouchMove:function(a){var b=a.changedTouches,c=b[0],d=c.point,e=a.time;this.lastPoint&&(this.previousPoint=this.lastPoint),this.lastTime&&(this.previousTime=this.lastTime),this.lastTime=e,this.lastPoint=d,this.lastMoveEvent=a,this.isStarted?this.fire("drag",a,b,this.getInfo(a,c)):(this.isStarted=!0,this.startTime=e,this.previousTime=e,this.previousPoint=this.startPoint,this.fire("dragstart",a,this.startTouches,this.getInfo(a,this.startTouch)))},onTouchEnd:function(a){if(this.isStarted){var b=a.changedTouches,c=b[0],d=c.point;this.isStarted=!1,this.lastPoint=d,this.fire("dragend",a,b,this.getInfo(a,c)),this.startTime=0,this.previousTime=0,this.lastTime=0,this.startPoint=null,this.previousPoint=null,this.lastPoint=null,this.lastMoveEvent=null}},getInfo:function(a,b){var c=a.time,d=this.startPoint,e=this.previousPoint,f=this.startTime,g=this.previousTime,h=this.lastPoint,i=h.x-d.x,j=h.y-d.y,k={touch:b,startX:d.x,startY:d.y,previousX:e.x,previousY:e.y,pageX:h.x,pageY:h.y,deltaX:i,deltaY:j,absDeltaX:Math.abs(i),absDeltaY:Math.abs(j),previousDeltaX:h.x-e.x,previousDeltaY:h.y-e.y,time:c,startTime:f,previousTime:g,deltaTime:c-f,previousDeltaTime:c-g};return k}}),Ext.define("Ext.event.recognizer.Tap",{handledEvents:["tap"],extend:"Ext.event.recognizer.SingleTouch",onTouchMove:function(){return this.fail(this.self.TOUCH_MOVED)},onTouchEnd:function(a){var b=a.changedTouches[0];this.fire("tap",a,[b])}},function(){this.override({handledEvents:["tap","tapstart","tapcancel"],onTouchStart:function(a){if(this.callOverridden(arguments)===!1)return!1;this.fire("tapstart",a,[a.changedTouches[0]])},onTouchMove:function(a){return this.fire("tapcancel",a,[a.changedTouches[0]]),this.callOverridden(arguments)}})}),Ext.define("Ext.event.recognizer.DoubleTap",{extend:"Ext.event.recognizer.SingleTouch",config:{maxDuration:300},handledEvents:["singletap","doubletap"],singleTapTimer:null,onTouchStart:function(a){if(this.callParent(arguments)===!1)return!1;this.startTime=a.time,clearTimeout(this.singleTapTimer)},onTouchMove:function(){return this.fail(this.self.TOUCH_MOVED)},onEnd:function(a){var b=this,c=this.getMaxDuration(),d=a.changedTouches[0],e=a.time,f=this.lastTapTime,g;this.lastTapTime=e;if(f){g=e-f;if(g<=c){this.lastTapTime=0,this.fire("doubletap",a,[d],{touch:d,duration:g});return}}e-this.startTime>c?this.fireSingleTap(a,d):this.singleTapTimer=setTimeout(function(){b.fireSingleTap(a,d)},c)},fireSingleTap:function(a,b){this.fire("singletap",a,[b],{touch:b})}}),Ext.define("Ext.event.recognizer.LongPress",{extend:"Ext.event.recognizer.SingleTouch",inheritableStatics:{DURATION_NOT_ENOUGH:32},config:{minDuration:1e3},handledEvents:["longpress"],fireLongPress:function(a){var b=a.changedTouches[0];this.fire("longpress",a,[b],{touch:b,duration:this.getMinDuration()}),this.isLongPress=!0},onTouchStart:function(a){var b=this;if(this.callParent(arguments)===!1)return!1;this.isLongPress=!1,this.timer=setTimeout(function(){b.fireLongPress(a)},this.getMinDuration())},onTouchMove:function(){return this.fail(this.self.TOUCH_MOVED)},onTouchEnd:function(){if(!this.isLongPress)return this.fail(this.self.DURATION_NOT_ENOUGH)},fail:function(){return clearTimeout(this.timer),this.callParent(arguments)}},function(){this.override({handledEvents:["longpress","taphold"],fire:function(a){if(a==="longpress"){var b=Array.prototype.slice.call(arguments);b[0]="taphold",this.fire.apply(this,b)}return this.callOverridden(arguments)}})}),Ext.define("Ext.event.recognizer.Swipe",{extend:"Ext.event.recognizer.SingleTouch",handledEvents:["swipe"],inheritableStatics:{MAX_OFFSET_EXCEEDED:16,MAX_DURATION_EXCEEDED:17,DISTANCE_NOT_ENOUGH:18},config:{minDistance:80,maxOffset:35,maxDuration:1e3},onTouchStart:function(a){if(this.callParent(arguments)===!1)return!1;var b=a.changedTouches[0];this.startTime=a.time,this.isHorizontal=!0,this.isVertical=!0,this.startX=b.pageX,this.startY=b.pageY},onTouchMove:function(a){var b=a.changedTouches[0],c=b.pageX,d=b.pageY,e=Math.abs(c-this.startX),f=Math.abs(d-this.startY),g=a.time;if(g-this.startTime>this.getMaxDuration())return this.fail(this.self.MAX_DURATION_EXCEEDED);this.isVertical&&e>this.getMaxOffset()&&(this.isVertical=!1),this.isHorizontal&&f>this.getMaxOffset()&&(this.isHorizontal=!1);if(!this.isHorizontal&&!this.isVertical)return this.fail(this.self.MAX_OFFSET_EXCEEDED)},onTouchEnd:function(a){if(this.onTouchMove(a)===!1)return!1;var b=a.changedTouches[0],c=b.pageX,d=b.pageY,e=c-this.startX,f=d-this.startY,g=Math.abs(e),h=Math.abs(f),i=this.getMinDistance(),j=a.time-this.startTime,k,l;this.isVertical&&h<i&&(this.isVertical=!1),this.isHorizontal&&g<i&&(this.isHorizontal=!1);if(this.isHorizontal)k=e<0?"left":"right",l=g;else{if(!this.isVertical)return this.fail(this.self.DISTANCE_NOT_ENOUGH);k=f<0?"up":"down",l=h}this.fire("swipe",a,[b],{touch:b,direction:k,distance:l,duration:j})}}),Ext.define("Ext.event.recognizer.HorizontalSwipe",{extend:"Ext.event.recognizer.Swipe",handledEvents:["swipe"],onTouchStart:function(a){if(this.callParent(arguments)===!1)return!1;var b=a.changedTouches[0];this.startTime=a.time,this.startX=b.pageX,this.startY=b.pageY},onTouchMove:function(a){var b=a.changedTouches[0],c=b.pageY,d=Math.abs(c-this.startY),e=a.time,f=this.getMaxDuration(),g=this.getMaxOffset();if(e-this.startTime>f)return this.fail(this.self.MAX_DURATION_EXCEEDED);if(d>g)return this.fail(this.self.MAX_OFFSET_EXCEEDED)},onTouchEnd:function(a){if(this.onTouchMove(a)!==!1){var b=a.changedTouches[0],c=b.pageX,d=c-this.startX,e=Math.abs(d),f=a.time-this.startTime,g=this.getMinDistance(),h;if(e<g)return this.fail(this.self.DISTANCE_NOT_ENOUGH);h=d<0?"left":"right",this.fire("swipe",a,[b],{touch:b,direction:h,distance:e,duration:f})}}}),Ext.define("Ext.event.recognizer.MultiTouch",{extend:"Ext.event.recognizer.Touch",requiredTouchesCount:2,isTracking:!1,isStarted:!1,onTouchStart:function(a){var b=this.requiredTouchesCount,c=a.touches,d=c.length;d===b?this.start(a):d>b&&this.end(a)},onTouchEnd:function(a){this.end(a)},start:function(){this.isTracking||(this.isTracking=!0,this.isStarted=!1)},end:function(a){this.isTracking&&(this.isTracking=!1,this.isStarted&&(this.isStarted=!1,this.fireEnd(a)))}}),Ext.define("Ext.event.recognizer.Pinch",{extend:"Ext.event.recognizer.MultiTouch",requiredTouchesCount:2,handledEvents:["pinchstart","pinch","pinchend"],startDistance:0,lastTouches:null,onTouchMove:function(a){if(!this.isTracking)return;var b=Array.prototype.slice.call(a.touches),c,d,e;c=b[0].point,d=b[1].point,e=c.getDistanceTo(d);if(e===0)return;this.isStarted?this.fire("pinch",a,b,{touches:b,distance:e,scale:e/this.startDistance}):(this.isStarted=!0,this.startDistance=e,this.fire("pinchstart",a,b,{touches:b,distance:e,scale:1})),this.lastTouches=b},fireEnd:function(a){this.fire("pinchend",a,this.lastTouches)},fail:function(){return this.callParent(arguments)}}),Ext.define("Ext.event.recognizer.Rotate",{extend:"Ext.event.recognizer.MultiTouch",requiredTouchesCount:2,handledEvents:["rotatestart","rotate","rotateend"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(a){if(!this.isTracking)return;var b=Array.prototype.slice.call(a.touches),c=this.lastAngle,d,e,f,g,h,i;d=b[0].point,e=b[1].point,f=d.getAngleTo(e),c!==null&&(i=Math.abs(c-f),g=f+360,h=f-360,Math.abs(g-c)<i?f=g:Math.abs(h-c)<i&&(f=h)),this.lastAngle=f,this.isStarted?this.fire("rotate",a,b,{touches:b,angle:f,rotation:f-this.startAngle}):(this.isStarted=!0,this.startAngle=f,this.fire("rotatestart",a,b,{touches:b,angle:f,rotation:0})),this.lastTouches=b},fireEnd:function(a){this.lastAngle=null,this.fire("rotateend",a,this.lastTouches)}}),Ext.define("Ext.ComponentQuery",{singleton:!0,uses:["Ext.ComponentManager"]},function(){var a=this,b=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),c=function(a,b){return b.method.apply(this,[a].concat(b.args))},d=function(a,b){var c=[],d=0,e=a.length,f,g=b!==">";for(;d<e;d++)f=a[d],f.getRefItems&&(c=c.concat(f.getRefItems(g)));return c},e=function(a){var b=[],c=0,d=a.length,e;for(;c<d;c++){e=a[c];while(!!(e=e.ownerCt||e.floatParent))b.push(e)}return b},f=function(a,b,c){if(b==="*")return a.slice();var d=[],e=0,f=a.length,g;for(;e<f;e++)g=a[e],g.isXType(b,c)&&d.push(g);return d},g=function(a,b){var c=Ext.Array,d=[],e=0,f=a.length,g;for(;e<f;e++)g=a[e],(g.el?g.el.hasCls(b):c.contains(g.initCls(),b))&&d.push(g);return d},h=function(a,b,c,d){var e=[],f=0,g=a.length,h,i,j;for(;f<g;f++)h=a[f],i=Ext.Class.getConfigNameMap(b).get,h[i]?(j=h[i](),(d?String(j)===d:!!j)&&e.push(h)):h.config&&h.config[b]?(d?String(h.config[b])===d:!!h.config[b])&&e.push(h):(d?String(h[b])===d:!!h[b])&&e.push(h);return e},i=function(a,b){var c=[],d=0,e=a.length,f;for(;d<e;d++)f=a[d],(f.getId()===b||f.getItemId()===b)&&c.push(f);return c},j=function(b,c,d){return a.pseudos[c](b,d)},k=/^(\s?([>\^])\s?|\s|$)/,l=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,m=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:f},{re:/^(?:[\[](?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]])/,method:h},{re:/^#([\w\-]+)/,method:i},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:j},{re:/^(?:\{([^\}]+)\})/,method:b}];a.Query=Ext.extend(Object,{constructor:function(a){a=a||{},Ext.apply(this,a)},execute:function(a){var b=this.operations,f=0,g=b.length,h,i;a?Ext.isArray(a)&&(i=a):i=Ext.ComponentManager.all.getArray();for(;f<g;f++){h=b[f],h.mode==="^"?i=e(i||[a]):h.mode?i=d(i||[a],h.mode):i=c(i||d([a]),h);if(f===g-1)return i}return[]},is:function(a){var b=this.operations,d=Ext.isArray(a)?a:[a],e=d.length,f=b[b.length-1],g,h;d=c(d,f);if(d.length===e){if(b.length>1)for(h=0,g=d.length;h<g;h++)if(Ext.Array.indexOf(this.execute(),d[h])===-1)return!1;return!0}return!1}}),Ext.apply(this,{cache:{},pseudos:{not:function(a,b){var c=Ext.ComponentQuery,d=0,e=a.length,f=[],g=-1,h;for(;d<e;++d)h=a[d],c.is(h,b)||(f[++g]=h);return f}},query:function(a,b){var c=a.split(","),d=c.length,e=0,f=[],g=[],h={},i,j,k;for(;e<d;e++)a=Ext.String.trim(c[e]),i=this.parse(a),f=f.concat(i.execute(b));if(d>1){j=f.length;for(e=0;e<j;e++)k=f[e],h[k.id]||(g.push(k),h[k.id]=!0);f=g}return f},is:function(a,b){if(!b)return!0;var c=this.cache[b];return c||(this.cache[b]=c=this.parse(b)),c.is(a)},parse:function(b){var c=[],d=m.length,e,h,j,n,o,p,q,r;while(b&&e!==b){e=b,h=b.match(l),h&&(j=h[1],j==="#"?c.push({method:i,args:[Ext.String.trim(h[2])]}):j==="."?c.push({method:g,args:[Ext.String.trim(h[2])]}):c.push({method:f,args:[Ext.String.trim(h[2]),Boolean(h[3])]}),b=b.replace(h[0],""));while(!(n=b.match(k)))for(p=0;b&&p<d;p++){q=m[p],o=b.match(q.re),r=q.method;if(o){c.push({method:Ext.isString(q.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[r].concat(o.slice(1)))):q.method,args:o.slice(1)}),b=b.replace(o[0],"");break}p===d-1&&Ext.Error.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}n[1]&&(c.push({mode:n[2]||n[1]}),b=b.replace(n[0],""))}return new a.Query({operations:c})}})}),Ext.define("Ext.event.publisher.ComponentDelegation",{extend:"Ext.event.publisher.Publisher",requires:["Ext.Component","Ext.ComponentQuery"],targetType:"component",optimizedSelectorRegex:/^#([\w\-]+)((?:[\s]*)>(?:[\s]*)|(?:\s*))([\w\-]+)$/i,handledEvents:["*"],getSubscribers:function(a,b){var c=this.subscribers,d=c[a];return!d&&b&&(d=c[a]={type:{$length:0},selector:[],$length:0}),d},subscribe:function(a,b){if(this.idSelectorRegex.test(a))return!1;var c=a.match(this.optimizedSelectorRegex),d=this.getSubscribers(b,!0),e=d.type,f=d.selector,g,h,i,j,k;if(c!==null){g=c[1],h=c[2].indexOf(">")===-1,i=c[3],j=e[i],j||(e[i]=j={descendents:{$length:0},children:{$length:0},$length:0}),k=h?j.descendents:j.children;if(k.hasOwnProperty(g))return k[g]++,!0;k[g]=1,k.$length++,j.$length++,e.$length++}else{if(f.hasOwnProperty(a))return f[a]++,!0;f[a]=1,f.push(a)}return d.$length++,!0},unsubscribe:function(a,b,c){var d=this.getSubscribers(b);if(!d)return!1;var e=a.match(this.optimizedSelectorRegex),f=d.type,g=d.selector,h,i,j,k,l;c=Boolean(c);if(e!==null){h=e[1],i=e[2].indexOf(">")===-1,j=e[3],k=f[j];if(!k)return!0;l=i?k.descendents:k.children;if(!l.hasOwnProperty(h)||!c&&--l[h]>0)return!0;delete l[h],l.$length--,k.$length--,f.$length--}else{if(!g.hasOwnProperty(a)||!c&&--g[a]>0)return!0;delete g[a],Ext.Array.remove(g,a)}return--d.$length===0&&delete this.subscribers[b],!0},notify:function(a,b){var c=this.getSubscribers(b),d,e;if(!c||c.$length===0)return!1;d=a.substr(1),e=Ext.ComponentManager.get(d),e&&this.dispatcher.doAddListener(this.targetType,a,b,"publish",this,{args:[b,e]},"before")},matchesSelector:function(a,b){return Ext.ComponentQuery.is(a,b)},dispatch:function(a,b,c,d){this.dispatcher.doDispatchEvent(this.targetType,a,b,c,null,d)},publish:function(a,b){var c=this.getSubscribers(a);if(!c)return;var d=arguments[arguments.length-1],e=c.type,f=c.selector,g=Array.prototype.slice.call(arguments,2,-2),h=b.xtypesChain,i,j,k,l,m,n,o,p,q,r,s,t;for(p=0,q=h.length;p<q;p++){r=h[p],c=e[r];if(c&&c.$length>0){i=c.descendents;if(i.$length>0){l||(l=b.getAncestorIds());for(s=0,t=l.length;s<t;s++)m=l[s],i.hasOwnProperty(m)&&this.dispatch("#"+m+" "+r,a,g,d)}j=c.children,j.$length>0&&(k||(l?k=l[0]:(n=b.getParent(),n&&(k=n.getId()))),k&&j.hasOwnProperty(k)&&this.dispatch("#"+k+" > "+r,a,g,d))}}q=f.length;if(q>0)for(p=0;p<q;p++)o=f[p],this.matchesSelector(b,o)&&this.dispatch(o,a,g,d)}}),Ext.define("Ext.event.publisher.ComponentPaint",{extend:"Ext.event.publisher.Publisher",targetType:"component",handledEvents:["painted","erased"],eventNames:{painted:"painted",erased:"erased"},constructor:function(){this.callParent(arguments),this.hiddenQueue={},this.renderedQueue={}},getSubscribers:function(a,b){var c=this.subscribers;if(!c.hasOwnProperty(a)){if(!b)return null;c[a]={$length:0}}return c[a]},setDispatcher:function(a){var b=this.targetType;return a.doAddListener(b,"*","renderedchange","onBeforeComponentRenderedChange",this,null,"before"),a.doAddListener(b,"*","hiddenchange","onBeforeComponentHiddenChange",this,null,"before"),a.doAddListener(b,"*","renderedchange","onComponentRenderedChange",this,null,"after"),a.doAddListener(b,"*","hiddenchange","onComponentHiddenChange",this,null,"after"),this.callParent(arguments)},subscribe:function(a,b){var c=a.match(this.idSelectorRegex),d,e;return c?(e=c[1],d=this.getSubscribers(b,!0),d.hasOwnProperty(e)?(d[e]++,!0):(d[e]=1,d.$length++,!0)):!1},unsubscribe:function(a,b,c){var d=a.match(this.idSelectorRegex),e,f;return!d||!(e=this.getSubscribers(b))?!1:(f=d[1],!e.hasOwnProperty(f)||!c&&--e[f]>0?!0:(delete e[f],--e.$length===0&&delete this.subscribers[b],!0))},onBeforeComponentRenderedChange:function(a,b,c){var d=this.eventNames,e=c?d.painted:d.erased,f=this.getSubscribers(e),g;f&&f.$length>0&&(this.renderedQueue[b.getId()]=g=[],this.publish(f,b,e,g))},onBeforeComponentHiddenChange:function(a,b){var c=this.eventNames,d=b?c.erased:c.painted,e=this.getSubscribers(d),f;e&&e.$length>0&&(this.hiddenQueue[a.getId()]=f=[],this.publish(e,a,d,f))},onComponentRenderedChange:function(a,b){var c=this.renderedQueue,d=b.getId(),e;if(!c.hasOwnProperty(d))return;e=c[d],delete c[d],e.length>0&&this.dispatchQueue(e)},onComponentHiddenChange:function(a){var b=this.hiddenQueue,c=a.getId(),d;if(!b.hasOwnProperty(c))return;d=b[c],delete b[c],d.length>0&&this.dispatchQueue(d)},dispatchQueue:function(a){var b=this.dispatcher,c=this.targetType,d=this.eventNames,e=a.slice(),f=e.length,g,h,i,j,k;a.length=0;if(f>0){for(g=0;g<f;g++)h=e[g],i=h.component,j=h.eventName,k=i.isPainted(),(j===d.painted&&k||j===d.erased&&!k)&&b.doDispatchEvent(c,"#"+h.id,j,[i]);e.length=0}},publish:function(a,b,c,d){var e=b.getId(),f=!1,g,h,i,j,k;if(a[e]){g=this.eventNames,k=b.isPainted();if(!(c===g.painted&&!k||c===g.erased&&k))return this;f=!0}if(b.isContainer){h=b.getItems().items;for(i=0,j=h.length;i<j;i++)this.publish(a,h[i],c,d)}else b.isDecorator&&this.publish(a,b.getComponent(),c,d);f&&d.push({id:e,eventName:c,component:b})}}),Ext.define("Ext.event.publisher.ComponentSize",{extend:"Ext.event.publisher.Publisher",requires:["Ext.ComponentManager","Ext.util.SizeMonitor"],targetType:"component",handledEvents:["resize"],constructor:function(){this.callParent(arguments),this.sizeMonitors={}},subscribe:function(a){var b=a.match(this.idSelectorRegex),c=this.subscribers,d=this.sizeMonitors,e=this.dispatcher,f=this.targetType,g;return b?(c.hasOwnProperty(a)||(c[a]=0,e.addListener(f,a,"painted","onComponentPainted",this,null,"before"),g=Ext.ComponentManager.get(b[1]),g||Ext.Logger.error("Adding a listener to the 'resize' event of a non-existing component"),d[a]=new Ext.util.SizeMonitor({element:g.element,callback:this.onComponentSizeChange,scope:this,args:[this,a]})),c[a]++,!0):!1},unsubscribe:function(a,b,c){var d=a.match(this.idSelectorRegex),e=this.subscribers,f=this.dispatcher,g=this.targetType,h=this.sizeMonitors;return d?!e.hasOwnProperty(a)||!c&&--e[a]>0?!0:(h[a].destroy(),delete h[a],f.removeListener(g,a,"painted","onComponentPainted",this,"before"),delete e[a],!0):!1},onComponentPainted:function(a){var b=a.getObservableId(),c=this.sizeMonitors[b];c.refresh()},onComponentSizeChange:function(a,b){this.dispatcher.doDispatchEvent(this.targetType,b,"resize",[a])}}),Ext.define("Ext.log.Base",{config:{},constructor:function(a){return this.initConfig(a),this}}),function(){var a=Ext.define("Ext.log.Logger",{extend:"Ext.log.Base",statics:{defaultPriority:"info",priorities:{verbose:0,info:1,deprecate:2,warn:3,error:4}},config:{enabled:!0,minPriority:"deprecate",writers:{}},log:function(b,c,d){if(!this.getEnabled())return this;var e=a,f=e.priorities,g=f[c],h=this.log.caller,i="",j=this.getWriters(),k,l,m;c||(c="info");if(f[this.getMinPriority()]>g)return this;d||(d=1),Ext.isArray(b)?b=b.join(" "):b=String(b);if(typeof d=="number"){l=d;do{l--,h=h.caller;if(!h)break;m||(m=h.caller);if(l<=0&&h.displayName)break}while(h!==m);i=Ext.getDisplayName(h)}else h=h.caller,i=Ext.getDisplayName(d)+"#"+h.$name;k={time:Ext.Date.now(),priority:g,priorityName:c,message:b,caller:h,callerDisplayName:i};for(l in j)j.hasOwnProperty(l)&&j[l].write(Ext.merge({},k));return this}},function(){Ext.Object.each(this.priorities,function(a){this.override(a,function(b,c){c||(c=1),typeof c=="number"&&(c+=1),this.log(b,a,c)})},this)})}(),Ext.define("Ext.log.formatter.Formatter",{extend:"Ext.log.Base",config:{messageFormat:"{message}"},format:function(a){return this.substitute(this.getMessageFormat(),a)},substitute:function(a,b){var c,d;for(c in b)b.hasOwnProperty(c)&&(d=b[c],a=a.replace(new RegExp("\\{"+c+"\\}","g"),d));return a}}),Ext.define("Ext.log.writer.Writer",{extend:"Ext.log.Base",requires:["Ext.log.formatter.Formatter"],config:{formatter:null,filters:{}},constructor:function(){return this.activeFilters=[],this.callParent(arguments)},updateFilters:function(a){var b=this.activeFilters,c,d;b.length=0;for(c in a)a.hasOwnProperty(c)&&(d=a[c],b.push(d))},write:function(a){var b=this.activeFilters,c=this.getFormatter(),d,e,f;for(d=0,e=b.length;d<e;d++){f=b[d];if(!b[d].accept(a))return this}return c&&(a.message=c.format(a)),this.doWrite(a),this},doWrite:Ext.emptyFn}),Ext.define("Ext.log.writer.Console",{extend:"Ext.log.writer.Writer",config:{throwOnErrors:!0,throwOnWarnings:!1},doWrite:function(a){var b=a.message,c=a.priorityName,d;if(c==="error"&&this.getThrowOnErrors())throw new Error(b);if(typeof console!="undefined"){d=c,d==="deprecate"&&(d="warn");if(d==="warn"&&this.getThrowOnWarnings())throw new Error(b);d in console||(d="log"),console[d](b)}}}),Ext.define("Ext.log.formatter.Default",{extend:"Ext.log.formatter.Formatter",config:{messageFormat:"[{priorityName}][{callerDisplayName}] {message}"},format:function(a){var a=Ext.merge({},a,{priorityName:a.priorityName.toUpperCase()});return this.callParent([a])}}),Ext.define("Ext.fx.runner.Css",{extend:"Ext.Evented",requires:["Ext.fx.Animation"],prefixedProperties:{transform:!0,"transform-origin":!0,perspective:!0,"transform-style":!0,transition:!0,"transition-property":!0,"transition-duration":!0,"transition-timing-function":!0,"transition-delay":!0,animation:!0,"animation-name":!0,"animation-duration":!0,"animation-iteration-count":!0,"animation-direction":!0,"animation-timing-function":!0,"animation-delay":!0},lengthProperties:{top:!0,right:!0,bottom:!0,left:!0,width:!0,height:!0,"max-height":!0,"max-width":!0,"min-height":!0,"min-width":!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,"border-bottom-width":!0,"border-left-width":!0,"border-right-width":!0,"border-spacing":!0,"border-top-width":!0,"border-width":!0,"outline-width":!0,"letter-spacing":!0,"line-height":!0,"text-indent":!0,"word-spacing":!0,"font-size":!0,translate:!0,translateX:!0,translateY:!0,translateZ:!0,translate3d:!0},durationProperties:{"transition-duration":!0,"transition-delay":!0,"animation-duration":!0,"animation-delay":!0},angleProperties:{rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,skew:!0,skewX:!0,skewY:!0},lengthUnitRegex:/([a-z%]*)$/,DEFAULT_UNIT_LENGTH:"px",DEFAULT_UNIT_ANGLE:"deg",DEFAULT_UNIT_DURATION:"ms",formattedNameCache:{},constructor:function(){var a=Ext.feature.has.Css3dTransforms;return a?this.transformMethods=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","skewX","skewY","scaleX","scaleY","scaleZ"]:this.transformMethods=["translateX","translateY","rotate","skewX","skewY","scaleX","scaleY"],this.vendorPrefix=Ext.browser.getStyleDashPrefix(),this.ruleStylesCache={},this},getStyleSheet:function(){var a=this.styleSheet,b,c;return a||(b=document.createElement("style"),b.type="text/css",(document.head||document.getElementsByTagName("head")[0]).appendChild(b),c=document.styleSheets,this.styleSheet=a=c[c.length-1]),a},applyRules:function(a){var b=this.getStyleSheet(),c=this.ruleStylesCache,d=b.cssRules,e,f,g,h,i,j,k;for(e in a){f=a[e],g=c[e],g===undefined&&(i=d.length,b.insertRule(e+"{}",i),g=c[e]=d.item(i).style),h=g.$cache,h||(h=g.$cache={});for(j in f)k=this.formatValue(f[j],j),j=this.formatName(j),h[j]!==k&&(h[j]=k,k===null?g.removeProperty(j):g.setProperty(j,k,"important"))}return this},applyStyles:function(a){var b,c,d,e,f,g;for(b in a){c=document.getElementById(b);if(!c)return this;d=c.style,e=a[b];for(f in e)g=this.formatValue(e[f],f),f=this.formatName(f),g===null?d.removeProperty(f):d.setProperty(f,g,"important")}return this},formatName:function(a){var b=this.formattedNameCache,c=b[a];return c||(this.prefixedProperties[a]?c=this.vendorPrefix+a:c=a,b[a]=c),c},formatValue:function(a,b){var c=typeof a,d=this.DEFAULT_UNIT_LENGTH,e,f,g,h,i,j,k;if(c=="string"){if(this.lengthProperties[b]){k=a.match(this.lengthUnitRegex)[1];if(!(k.length>0))return a+d;k!==d&&Ext.Logger.error("Length unit: '"+k+"' in value: '"+a+"' of property: '"+b+"' is not "+"valid for animation. Only 'px' is allowed")}return a}if(c=="number"){if(a==0)return"0";if(this.lengthProperties[b])return a+d;if(this.angleProperties[b])return a+this.DEFAULT_UNIT_ANGLE;if(this.durationProperties[b])return a+this.DEFAULT_UNIT_DURATION}else{if(b==="transform"){e=this.transformMethods,i=[];for(g=0,h=e.length;g<h;g++)f=e[g],i.push(f+"("+this.formatValue(a[f],f)+")");return i.join(" ")}if(Ext.isArray(a)){j=[];for(g=0,h=a.length;g<h;g++)j.push(this.formatValue(a[g],b));return j.length>0?j.join(", "):"none"}}return a}}),Ext.define("Ext.fx.runner.CssTransition",{extend:"Ext.fx.runner.Css",listenersAttached:!1,constructor:function(){return this.runningAnimationsData={},this.callParent(arguments)},attachListeners:function(){this.listenersAttached=!0,this.getEventDispatcher().addListener("element","*","transitionend","onTransitionEnd",this)},onTransitionEnd:function(a){var b=a.target,c=b.id;c&&this.runningAnimationsData.hasOwnProperty(c)&&this.refreshRunningAnimationsData(Ext.get(b),[a.browserEvent.propertyName])},onAnimationEnd:function(a,b,c,d,e){var f=a.getId(),g=this.runningAnimationsData[f],h={},i={},j,k,l,m,n;g&&(j=g.nameMap),h[f]=i,b.onBeforeEnd&&b.onBeforeEnd.call(b.scope||this,a,d),c.fireEvent("animationbeforeend",c,a,d),this.fireEvent("animationbeforeend",this,c,a,d);if(e||!d&&!b.preserveEndState){k=b.toPropertyNames;for(l=0,m=k.length;l<m;l++)n=k[l],j.hasOwnProperty(n)||(i[n]=null)}b.after&&Ext.merge(i,b.after),this.applyStyles(h),b.onEnd&&b.onEnd.call(b.scope||this,a,d),c.fireEvent("animationend",c,a,d),this.fireEvent("animationend",this,c,a,d)},onAllAnimationsEnd:function(a){var b=a.getId(),c={};delete this.runningAnimationsData[b],c[b]={"transition-property":null,"transition-duration":null,"transition-timing-function":null,"transition-delay":null},this.applyStyles(c),this.fireEvent("animationallend",this,a)},hasRunningAnimations:function(a){var b=a.getId(),c=this.runningAnimationsData;return c.hasOwnProperty(b)&&c[b].sessions.length>0},refreshRunningAnimationsData:function(a,b,c,d){var e=a.getId(),f=this.runningAnimationsData,g=f[e],h=g.nameMap,i=g.nameList,j=g.sessions,k,l,m,n,o,p,q,r,s=!1;c=Boolean(c),d=Boolean(d);if(!j)return this;k=j.length;if(k===0)return this;if(d){g.nameMap={},i.length=0;for(o=0;o<k;o++)p=j[o],this.onAnimationEnd(a,p.data,p.animation,c,d);j.length=0}else for(o=0;o<k;o++){p=j[o],q=p.map,r=p.list;for(l=0,m=b.length;l<m;l++)n=b[l],q[n]&&(delete q[n],Ext.Array.remove(r,n),p.length--,--h[n]==0&&(delete h[n],Ext.Array.remove(i,n)));p.length==0&&(j.splice(o,1),o--,k--,s=!0,this.onAnimationEnd(a,p.data,p.animation,c))}!d&&!c&&j.length==0&&s&&this.onAllAnimationsEnd(a)},getRunningData:function(a){var b=this.runningAnimationsData;return b.hasOwnProperty(a)||(b[a]={nameMap:{},nameList:[],sessions:[]}),b[a]},getTestElement:function(){var a=this.testElement,b,c,d;return a||(b=document.createElement("iframe"),d=b.style,d.setProperty("visibility","hidden","important"),d.setProperty("width","0px","important"),d.setProperty("height","0px","important"),d.setProperty("position","absolute","important"),d.setProperty("border","0px","important"),d.setProperty("zIndex","-1000","important"),document.body.appendChild(b),c=b.contentDocument,c.open(),c.writeln("</body>"),c.close(),this.testElement=a=c.createElement("div"),a.style.setProperty("position","absolute","!important"),c.body.appendChild(a),this.testElementComputedStyle=window.getComputedStyle(a)),a},getCssStyleValue:function(a,b){var c=this.getTestElement(),d=this.testElementComputedStyle,e=c.style;return e.setProperty(a,b),b=d.getPropertyValue(a),e.removeProperty(a),b},run:function(a){var b=this,c=this.lengthProperties,d={},e={},f={},g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;this.listenersAttached||this.attachListeners(),a=Ext.Array.from(a);for(q=0,s=a.length;q<s;q++){t=a[q],t=Ext.factory(t,Ext.fx.Animation),g=t.getElement(),w=window.getComputedStyle(g.dom),h=g.getId(),f=Ext.merge({},t.getData()),t.onBeforeStart&&(t.onBeforeStart.call(t.scope||this,g),t.fireEvent("animationstart",t),this.fireEvent("animationstart",this,t)),f[h]=f,k=f.before,i=f.from,j=f.to,f.fromPropertyNames=l=[],f.toPropertyNames=m=[];for(y in j)j.hasOwnProperty(y)&&(j[y]=z=this.formatValue(j[y],y),x=this.formatName(y),C=c.hasOwnProperty(y),C||(z=this.getCssStyleValue(x,z)),i.hasOwnProperty(y)?(i[y]=B=this.formatValue(i[y],y),C||(B=this.getCssStyleValue(x,B)),z!==B&&(l.push(x),m.push(x))):(A=w.getPropertyValue(x),z!==A&&m.push(x)));u=m.length;if(u===0){this.onAnimationEnd(g,f,t);continue}p=this.getRunningData(h),F=p.sessions,F.length>0&&this.refreshRunningAnimationsData(g,Ext.Array.merge(l,m),!0,f.replacePrevious),D=p.nameMap,E=p.nameList,v={};for(r=0;r<u;r++)y=m[r],v[y]=!0,D.hasOwnProperty(y)?D[y]++:(D[y]=1,E.push(y));F.push({element:g,map:v,list:m.slice(),length:u,data:f,animation:t}),d[h]=i=Ext.apply(Ext.Object.chain(k),i),E.length>0&&(l=Ext.Array.difference(E,l),m=Ext.Array.merge(l,m),i["transition-property"]=l),e[h]=j=Ext.Object.chain(j),j["transition-property"]=m,j["transition-duration"]=f.duration,j["transition-timing-function"]=f.easing,j["transition-delay"]=f.delay,t.startTime=Date.now()}o=this.$className,this.applyStyles(d),n=function(a){a.data===o&&a.source===window&&(window.removeEventListener("message",n,!1),b.applyStyles(e))},window.addEventListener("message",n,!1),window.postMessage(o,"*")}}),Ext.define("Ext.fx.Runner",{requires:["Ext.fx.runner.CssTransition"],constructor:function(){return new Ext.fx.runner.CssTransition}}),Ext.define("Ext.viewport.Default",{extend:"Ext.Container",xtype:"viewport",PORTRAIT:"portrait",LANDSCAPE:"landscape",requires:["Ext.LoadMask"],config:{autoMaximize:!1,autoBlurInput:!0,preventPanning:!0,preventZooming:!0,autoRender:!0,layout:"card",width:"100%",height:"100%"},isReady:!1,isViewport:!0,isMaximizing:!1,id:"ext-viewport",isInputRegex:/^(input|textarea|select|a)$/i,focusedElement:null,fullscreenItemCls:Ext.baseCSSPrefix+"fullscreen",constructor:function(a){var b=Ext.Function.bind;return this.doPreventPanning=b(this.doPreventPanning,this),this.doPreventZooming=b(this.doPreventZooming,this),this.doBlurInput=b(this.doBlurInput,this),this.maximizeOnEvents=["ready","orientationchange"],this.orientation=this.determineOrientation(),this.windowWidth=this.getWindowWidth(),this.windowHeight=this.getWindowHeight(),this.windowOuterHeight=this.getWindowOuterHeight(),this.stretchHeights||(this.stretchHeights={}),this.callParent([a]),this.supportsOrientation()?this.addWindowListener("orientationchange",b(this.onOrientationChange,this)):this.addWindowListener("resize",b(this.onResize,this)),document.addEventListener("focus",b(this.onElementFocus,this),!0),document.addEventListener("blur",b(this.onElementBlur,this),!0),Ext.onDocumentReady(this.onDomReady,this),this.on("ready",this.onReady,this,{single:!0}),this.getEventDispatcher().addListener("component","*","fullscreen","onItemFullscreenChange",this),this},onDomReady:function(){this.isReady=!0,this.updateSize(),this.fireEvent("ready",this)},onReady:function(){this.getAutoRender()&&this.render()},onElementFocus:function(a){this.focusedElement=a.target},onElementBlur:function(){this.focusedElement=null},render:function(){if(!this.rendered){var a=Ext.getBody(),b=Ext.baseCSSPrefix,c=[],d=Ext.os,e=d.name.toLowerCase(),f=Ext.browser.name.toLowerCase(),g=d.version.getMajor(),h=this.getOrientation();this.renderTo(a),c.push(b+d.deviceType.toLowerCase()),d.is.iPad&&c.push(b+"ipad"),c.push(b+e),c.push(b+f),g&&c.push(b+e+"-"+g),d.is.BlackBerry&&c.push(b+"bb"),Ext.browser.is.Standalone&&c.push(b+"standalone"),c.push(b+h),a.addCls(c)}},applyAutoBlurInput:function(a){var b=Ext.feature.has.Touch?"touchstart":"mousedown";return a?this.addWindowListener(b,this.doBlurInput,!1):this.removeWindowListener(b,this.doBlurInput,!1),a},applyAutoMaximize:function(a){return a?(this.on("ready","doAutoMaximizeOnReady",this,{single:!0}),this.on("orientationchange","doAutoMaximizeOnOrientationChange",this)):(this.un("ready","doAutoMaximizeOnReady",this),this.un("orientationchange","doAutoMaximizeOnOrientationChange",this)),a},applyPreventPanning:function(a){return a?this.addWindowListener("touchmove",this.doPreventPanning,!1):this.removeWindowListener("touchmove",this.doPreventPanning,!1),a},applyPreventZooming:function(a){var b=Ext.feature.has.Touch?"touchstart":"mousedown";return a?this.addWindowListener(b,this.doPreventZooming,!1):this.removeWindowListener(b,this.doPreventZooming,!1),a},doAutoMaximizeOnReady:function(){var a=arguments[arguments.length-1];a.pause(),this.isMaximizing=!0,this.on("maximize",function(){this.isMaximizing=!1,this.updateSize(),a.resume(),this.fireEvent("ready",this)},this,{single:!0}),this.maximize()},doAutoMaximizeOnOrientationChange:function(){var a=arguments[arguments.length-1],b=a.firingArguments;a.pause(),this.isMaximizing=!0,this.on("maximize",function(){this.isMaximizing=!1,this.updateSize(),b[1]=this.windowWidth,b[2]=this.windowHeight,a.resume()},this,{single:!0}),this.maximize()},doBlurInput:function(a){var b=a.target,c=this.focusedElement;c&&!this.isInputRegex.test(b.tagName)&&(delete this.focusedElement,c.blur())},doPreventPanning:function(a){a.preventDefault()},doPreventZooming:function(a){if("button"in a&&a.button!==0)return;var b=a.target;b&&b.nodeType===1&&!this.isInputRegex.test(b.tagName)&&a.preventDefault()},addWindowListener:function(a,b,c){window.addEventListener(a,b,Boolean(c))},removeWindowListener:function(a,b,c){window.removeEventListener(a,b,Boolean(c))},doAddListener:function(a,b,c,d){if(a==="ready"&&this.isReady&&!this.isMaximizing)return b.call(c),this;this.mixins.observable.doAddListener.apply(this,arguments)},supportsOrientation:function(){return Ext.feature.has.Orientation},onResize:function(){var a=this.windowWidth,b=this.windowHeight,c=this.getWindowWidth(),d=this.getWindowHeight(),e=this.getOrientation(),f=this.determineOrientation();(a!==c||b!==d)&&e!==f&&this.fireOrientationChangeEvent(f,e)},onOrientationChange:function(){var a=this.getOrientation(),b=this.determineOrientation();b!==a&&this.fireOrientationChangeEvent(b,a)},fireOrientationChangeEvent:function(a,b){var c=Ext.baseCSSPrefix;Ext.getBody().replaceCls(c+b,c+a),this.orientation=a,this.updateSize(),this.fireEvent("orientationchange",this,a,this.windowWidth,this.windowHeight)},updateSize:function(a,b){return this.windowWidth=a!==undefined?a:this.getWindowWidth(),this.windowHeight=b!==undefined?b:this.getWindowHeight(),this},waitUntil:function(a,b,c,d,e){d||(d=50),e||(e=2e3);var f=this,g=0;setTimeout(function h(){g+=d,a.call(f)===!0?b&&b.call(f):g>=e?c&&c.call(f):setTimeout(h,d)},d)},maximize:function(){this.fireMaximizeEvent()},fireMaximizeEvent:function(){this.updateSize(),this.fireEvent("maximize",this)},doSetHeight:function(a){Ext.getBody().setHeight(a),this.callParent(arguments)},doSetWidth:function(a){Ext.getBody().setWidth(a),this.callParent(arguments)},scrollToTop:function(){window.scrollTo(0,-1)},getWindowWidth:function(){return window.innerWidth},getWindowHeight:function(){return window.innerHeight},getWindowOuterHeight:function(){return window.outerHeight},getWindowOrientation:function(){return window.orientation},getOrientation:function(){return this.orientation},getSize:function(){return{width:this.windowWidth,height:this.windowHeight}},determineOrientation:function(){var a=this.PORTRAIT,b=this.LANDSCAPE;return this.supportsOrientation()?this.getWindowOrientation()%180===0?a:b:this.getWindowHeight()>=this.getWindowWidth()?a:b},onItemFullscreenChange:function(a){a.addCls(this.fullscreenItemCls),this.add(a)}}),Ext.define("Ext.viewport.Ios",{extend:"Ext.viewport.Default",isFullscreen:function(){return this.isHomeScreen()},isHomeScreen:function(){return window.navigator.standalone===!0},constructor:function(){this.callParent(arguments),this.getAutoMaximize()&&!this.isFullscreen()&&this.addWindowListener("touchstart",Ext.Function.bind(this.onTouchStart,this))},maximize:function(){if(this.isFullscreen())return this.callParent();var a=this.stretchHeights,b=this.orientation,c=this.getWindowHeight(),d=a[b];window.scrollY>0?(this.scrollToTop(),d||(a[b]=d=this.getWindowHeight()),this.setHeight(d),this.fireMaximizeEvent()):(d||(d=this.getScreenHeight()),this.setHeight(d),this.waitUntil(function(){return this.scrollToTop(),c!==this.getWindowHeight()},function(){a[b]||(d=a[b]=this.getWindowHeight(),this.setHeight(d)),this.fireMaximizeEvent()},function(){Ext.Logger.error("Timeout waiting for window.innerHeight to change",this),d=a[b]=this.getWindowHeight(),this.setHeight(d),this.fireMaximizeEvent()},50,1e3))},getScreenHeight:function(){return window.screen[this.orientation===this.PORTRAIT?"height":"width"]},onElementFocus:function(){this.getAutoMaximize()&&!this.isFullscreen()&&clearTimeout(this.scrollToTopTimer),this.callParent(arguments)},onElementBlur:function(){this.getAutoMaximize()&&!this.isFullscreen()&&(this.scrollToTopTimer=setTimeout(this.scrollToTop,500)),this.callParent(arguments)},onTouchStart:function(){this.focusedElement===null&&this.scrollToTop()},scrollToTop:function(){window.scrollTo(0,0)}},function(){if(!Ext.os.is.iOS)return;Ext.os.version.lt("3.2")&&this.override({constructor:function(){var a=this.stretchHeights={};return a[this.PORTRAIT]=416,a[this.LANDSCAPE]=268,this.callOverridden(arguments)}}),Ext.os.version.lt("5")&&this.override({fieldMaskClsTest:"-field-mask",doPreventZooming:function(a){var b=a.target;b&&b.nodeType===1&&!this.isInputRegex.test(b.tagName)&&b.className.indexOf(this.fieldMaskClsTest)==-1&&a.preventDefault()}}),Ext.os.is.iPad&&this.override({isFullscreen:function(){return!0}})}),Ext.define("Ext.viewport.Android",{extend:"Ext.viewport.Default",constructor:function(){return this.on("orientationchange","doFireOrientationChangeEvent",this,{prepend:!0}),this.on("orientationchange","hideKeyboardIfNeeded",this,{prepend:!0}),this.callParent(arguments)},getDummyInput:function(){var a=this.dummyInput,b=this.focusedElement,c=Ext.fly(b).getPageBox();return a||(this.dummyInput=a=document.createElement("input"),a.style.position="absolute",a.style.opacity="0",document.body.appendChild(a)),a.style.left=c.left+"px",a.style.top=c.top+"px",a.style.display="",a},doBlurInput:function(a){var b=a.target,c=this.focusedElement,d;c&&!this.isInputRegex.test(b.tagName)&&(d=this.getDummyInput(),delete this.focusedElement,d.focus(),setTimeout(function(){d.style.display="none"},100))},hideKeyboardIfNeeded:function(){var a=arguments[arguments.length-1],b=this.focusedElement;b&&(delete this.focusedElement,a.pause(),Ext.os.version.lt("4")?b.style.display="none":b.blur(),setTimeout(function(){b.style.display="",a.resume()},1e3))},doFireOrientationChangeEvent:function(){var a=arguments[arguments.length-1];return this.orientationChanging=!0,a.pause(),this.waitUntil(function(){return this.getWindowOuterHeight()!==this.windowOuterHeight},function(){this.windowOuterHeight=this.getWindowOuterHeight(),this.updateSize(),a.firingArguments[1]=this.windowWidth,a.firingArguments[2]=this.windowHeight,a.resume(),this.orientationChanging=!1},function(){Ext.Logger.error("Timeout waiting for viewport's outerHeight to change before firing orientationchange",this)}),this},applyAutoMaximize:function(a){this.callParent(arguments),this.on("add","fixSize",this,{single:!0}),a?(this.un("ready","fixSize",this),this.unAfter("orientationchange","doFixSize",this)):(this.on("ready","fixSize",this,{single:!0}),this.onAfter("orientationchange","doFixSize",this))},fixSize:function(){this.doFixSize()},doFixSize:function(){this.setHeight(this.getWindowHeight())},getActualWindowOuterHeight:function(){return Math.round(this.getWindowOuterHeight()/window.devicePixelRatio)},maximize:function(){var a=this.stretchHeights,b=this.orientation,c;c=a[b],c||(a[b]=c=this.getActualWindowOuterHeight()),this.addressBarHeight||(this.addressBarHeight=c-this.getWindowHeight()),this.setHeight(c);var d=Ext.Function.bind(this.isHeightMaximized,this,[c]);this.scrollToTop(),this.waitUntil(d,this.fireMaximizeEvent,this.fireMaximizeEvent)},isHeightMaximized:function(a){return this.scrollToTop(),this.getWindowHeight()===a}},function(){if(!Ext.os.is.Android)return;var a=Ext.os.version,b=Ext.browser.userAgent,c=/(htc|desire|incredible|ADR6300)/i.test(b)&&a.lt("2.3");c&&this.override({constructor:function(a){return a||(a={}),a.autoMaximize=!1,this.watchDogTick=Ext.Function.bind(this.watchDogTick,this),setInterval(this.watchDogTick,1e3),this.callParent([a])},watchDogTick:function(){this.watchDogLastTick=Ext.Date.now()},doPreventPanning:function(){var a=Ext.Date.now(),b=this.watchDogLastTick,c=a-b;if(c>=2e3)return;return this.callParent(arguments)},doPreventZooming:function(){var a=Ext.Date.now(),b=this.watchDogLastTick,c=a-b;if(c>=2e3)return;return this.callParent(arguments)}}),a.match("2")?this.override({onReady:function(){this.addWindowListener("resize",Ext.Function.bind(this.onWindowResize,this)),this.callParent(arguments)},scrollToTop:function(){document.body.scrollTop=100},onWindowResize:function(){var a=this.windowWidth,b=this.windowHeight,c=this.getWindowWidth(),d=this.getWindowHeight();this.getAutoMaximize()&&!this.isMaximizing&&!this.orientationChanging&&window.scrollY===0&&a===c&&d<b&&(d>=b-this.addressBarHeight||!this.focusedElement)&&this.scrollToTop()},fixSize:function(){var a=this.getOrientation(),b=window.outerHeight,c=window.outerWidth,d;a==="landscape"&&b<c||a==="portrait"&&b>=c?d=this.getActualWindowOuterHeight():d=this.getWindowHeight(),this.waitUntil(function(){return d>this.getWindowHeight()},this.doFixSize,this.doFixSize,50,1e3)}}):a.gtEq("3.1")?this.override({isHeightMaximized:function(a){return this.scrollToTop(),this.getWindowHeight()===a-1}}):a.match("3")&&this.override({isHeightMaximized:function(){return this.scrollToTop(),!0}}),a.gtEq("4")&&this.override({doBlurInput:Ext.emptyFn})}),Ext.define("Ext.viewport.Viewport",{requires:["Ext.viewport.Ios","Ext.viewport.Android"],constructor:function(a){var b=Ext.os.name,c,d;switch(b){case"Android":c="Android";break;case"iOS":c="Ios";break;default:c="Default"}return d=Ext.create("Ext.viewport."+c,a),d}}),Ext.define("Ext.app.Controller",{mixins:{observable:"Ext.mixin.Observable"},config:{refs:{},routes:{},control:{},before:{},application:{},stores:[],models:[],views:[]},constructor:function(a){this.initConfig(a),this.mixins.observable.constructor.call(this,a)},init:Ext.emptyFn,launch:Ext.emptyFn,redirectTo:function(a){return this.getApplication().redirectTo(a)},execute:function(a,b){a.setBeforeFilters(this.getBefore()[a.getAction()]),a.execute()},applyBefore:function(a){var b,c,d,e;for(c in a){b=Ext.Array.from(a[c]),d=b.length;for(e=0;e<d;e++)b[e]=this[b[e]];a[c]=b}return a},applyControl:function(a){return this.control(a,this),a},applyRefs:function(a){return Ext.isArray(a)&&Ext.Logger.deprecate("In Sencha Touch 2 the refs config accepts an object but you have passed it an array."),this.ref(a),a},applyRoutes:function(a){var b=this instanceof Ext.app.Application?this:this.getApplication(),c=b.getRouter(),d,e,f;for(e in a)d=a[e],f={controller:this.$className},Ext.isString(d)?f.action=d:Ext.apply(f,d),c.connect(e,f);return a},applyStores:function(a){return this.getFullyQualified(a,"store")},applyModels:function(a){return this.getFullyQualified(a,"model")},applyViews:function(a){return this.getFullyQualified(a,"view")},getFullyQualified:function(a,b){var c=a.length,d=this.getApplication().getName(),e,f;for(f=0;f<c;f++)e=a[f],Ext.isString(e)&&(Ext.Loader.getPrefix(e)===""||e===d)&&(a[f]=d+"."+b+"."+e);return a},control:function(a){this.getApplication().control(a,this)},ref:function(a){var b,c,d,e;for(b in a)d=a[b],c="get"+Ext.String.capitalize(b),this[c]||(Ext.isString(a[b])?e={ref:b,selector:d}:e=a[b],this[c]=Ext.Function.pass(this.getRef,[b,e],this)),this.references=this.references||[],this.references.push(b.toLowerCase())},getRef:function(a,b,c){this.refCache=this.refCache||{},b=b||{},c=c||{},Ext.apply(b,c);if(b.forceCreate)return Ext.ComponentManager.create(b,"component");var d=this,e=d.refCache[a];return e||(d.refCache[a]=e=Ext.ComponentQuery.query(b.selector)[0],!e&&b.autoCreate&&(d.refCache[a]=e=Ext.ComponentManager.create(b,"component")),e&&e.on("destroy",function(){d.refCache[a]=null})),e},hasRef:function(a){return this.references&&this.references.indexOf(a.toLowerCase())!==-1},onClassExtended:function(a,b){var c=this.prototype,d=c.config,e=b.config||{},f=b.refs,g={},h=b.stores,i=b.views,j=Ext.String.format,k,l,m,n,o;for(l in d)if(l in b&&l!="control"){if(l=="refs"){for(n=0;n<f.length;n++)k=f[n],g[k.ref]=k;e.refs=g}else e[l]=b[l];delete b[l],Ext.Logger.deprecate(l+" is deprecated as a property directly on the "+this.$className+" prototype. Please put it inside the config object.")}if(h){m=h.length,e.stores=h,Ext.Logger.deprecate("'stores' is deprecated as a property directly on the "+this.$className+" prototype. Please move it "+"to Ext.application({ stores: ... }) instead");for(n=0;n<m;n++)o=j("get{0}Store",Ext.String.capitalize(h[n])),c[o]=function(a){return function(){return Ext.StoreManager.lookup(a)}}(h[n])}if(i){m=i.length,e.views=i,Ext.Logger.deprecate("'views' is deprecated as a property directly on the "+this.$className+" prototype. Please move it "+"to Ext.application({ views: ... }) instead");for(n=0;n<m;n++)o=j("get{0}View",i[n]),c[o]=function(a){return function(){return Ext.ClassManager.classes[j("{0}.view.{1}",this.getApplication().getName(),a)]}}(i[n])}b.config=e},getModel:function(a){Ext.Logger.deprecate("getModel() is deprecated and considered bad practice - please just use the Model name instead (e.g. MyApp.model.User vs this.getModel('User'))");var b=this.getApplication().getName(),c=Ext.ClassManager.classes;return c[b+".model."+a]},getController:function(a,b){return Ext.Logger.deprecate("Ext.app.Controller#getController is deprecated and considered bad practice - please use this.getApplication().getController('someController') instead"),this.getApplication().getController(a,b)}},function(){Ext.regController=function(a,b){Ext.apply(b,{extend:"Ext.app.Controller"}),Ext.Logger.deprecate("[Ext.app.Controller] Ext.regController is deprecated, please use Ext.define to define a Controller as with any other class. For more information see the Touch 1.x -> 2.x migration guide"),Ext.define("controller."+a,b)}}),Ext.define("Ext.app.History",{mixins:["Ext.mixin.Observable"],config:{actions:[],updateUrl:!0,token:""},constructor:function(a){Ext.feature.has.History?window.addEventListener("hashchange",Ext.bind(this.detectStateChange,this)):setInterval(Ext.bind(this.detectStateChange,this),50),this.initConfig(a)},add:function(a,b){this.getActions().push(Ext.factory(a,Ext.app.Action));var c=a.getUrl();this.getUpdateUrl()&&(this.setToken(c),window.location.hash=c),b!==!0&&this.fireEvent("change",c),this.setToken(c)},back:function(){this.getActions().pop().run()},applyToken:function(a){return a[0]=="#"?a.substr(1):a},detectStateChange:function(){var a=this.applyToken(window.location.hash),b=this.getToken();a!=b&&(this.onStateChange(),this.setToken(a))},onStateChange:function(){this.fireEvent("change",window.location.hash.substr(1))}}),Ext.define("Ext.app.Profile",{mixins:{observable:"Ext.mixin.Observable"},config:{namespace:"auto",name:"auto",controllers:[],models:[],views:[],stores:[],application:null},constructor:function(a){this.initConfig(a),this.mixins.observable.constructor.apply(this,arguments)},isActive:function(){return!1},launch:Ext.emptyFn,applyNamespace:function(a){return a=="auto"&&(a=this.getName()),a.toLowerCase()},applyName:function(a){if(a=="auto"){var b=this.$className.split(".");a=b[b.length-1]}return a},getDependencies:function(){var a=[],b=Ext.String.format,c=this.getApplication().getName(),d=this.getNamespace(),e={model:this.getModels(),view:this.getViews(),controller:this.getControllers(),store:this.getStores()},f,g,h;for(f in e)g=[],Ext.each(e[f],function(b){Ext.isString(b)&&(Ext.isString(b)&&(Ext.Loader.getPrefix(b)===""||b===c)&&(b=c+"."+f+"."+d+"."+b),g.push(b),a.push(b))},this),e[f]=g;return e.all=a,e}}),Ext.define("Ext.app.Action",{config:{scope:null,application:null,controller:null,action:null,args:[],url:undefined,data:{},title:null,beforeFilters:[],currentFilterIndex:-1},constructor:function(a){this.initConfig(a),this.getUrl()},execute:function(){this.resume()},resume:function(){var a=this.getCurrentFilterIndex()+1,b=this.getBeforeFilters(),c=this.getController(),d=b[a];d?(this.setCurrentFilterIndex(a),d.call(c,this)):c[this.getAction()].apply(c,this.getArgs())},applyUrl:function(a){if(a===null||a===undefined)a=this.urlEncode();return a},applyController:function(a){var b=this.getApplication(),c=b.getCurrentProfile();return Ext.isString(a)&&(a=b.getController(a,c?c.getNamespace():null)),a},urlEncode:function(){var a=this.getController(),b;return a instanceof Ext.app.Controller&&(b=a.$className.split("."),a=b[b.length-1]),a+"/"+this.getAction()}}),Ext.define("Ext.app.Route",{config:{conditions:{},url:null,controller:null,action:null,initialized:!1},constructor:function(a){this.initConfig(a)},recognize:function(a){this.getInitialized()||this.initialize();if(this.recognizes(a)){var b=this.matchesFor(a),c=a.match(this.matcherRegex);return c.shift(),Ext.applyIf(b,{controller:this.getController(),action:this.getAction(),historyUrl:a,args:c})}},initialize:function(){this.paramMatchingRegex=new RegExp(/:([0-9A-Za-z\_]*)/g),this.paramsInMatchString=this.getUrl().match(this.paramMatchingRegex)||[],this.matcherRegex=this.createMatcherRegex(this.getUrl()),this.setInitialized(!0)},recognizes:function(a){return this.matcherRegex.test(a)},matchesFor:function(a){var b={},c=this.paramsInMatchString,d=a.match(this.matcherRegex),e=c.length,f;d.shift();for(f=0;f<e;f++)b[c[f].replace(":","")]=d[f];return b},argsFor:function(a){var b=[],c=this.paramsInMatchString,d=a.match(this.matcherRegex),e=c.length,f;d.shift();for(f=0;f<e;f++)b.push(c[f].replace(":","")),params[c[f].replace(":","")]=d[f];return params},urlFor:function(a){var b=this.getUrl();for(var c in a)b=b.replace(":"+c,a[c]);return b},createMatcherRegex:function(a){var b=this.paramsInMatchString,c=b.length,d,e,f;for(d=0;d<c;d++)e=this.getConditions()[b[d]],f=Ext.util.Format.format("({0})",e||"[%a-zA-Z0-9-\\_\\s,]+"),a=a.replace(new RegExp(b[d]),f);return new RegExp("^"+a+"$")}}),Ext.define("Ext.app.Router",{requires:["Ext.app.Route"],config:{routes:[],defaults:{action:"index"}},constructor:function(a){this.initConfig(a)},connect:function(a,b){b=Ext.apply({url:a},b||{},this.getDefaults());var c=Ext.create("Ext.app.Route",b);return this.getRoutes().push(c),c},recognize:function(a){var b=this.getRoutes(),c=b.length,d,e;for(d=0;d<c;d++){e=b[d].recognize(a);if(e!==undefined)return e}return undefined},draw:function(a){a.call(this,this)},clear:function(){this.setRoutes([])}},function(){Ext.Router={};var a=[];Ext.Router.setAppInstance=function(b){Ext.Router.appInstance=b,a.length>0&&Ext.each(a,Ext.Router.draw)},Ext.Router.draw=function(b){Ext.Logger.deprecate("Ext.Router.map is deprecated, please define your routes inline inside each Controller. Please see the 1.x -> 2.x migration guide for more details.");var c=Ext.Router.appInstance,d;c?(d=c.getRouter(),b(d)):a.push(b)}}),Ext.define("Ext.app.Application",{extend:"Ext.app.Controller",requires:["Ext.app.History","Ext.app.Profile","Ext.app.Router","Ext.app.Action"],config:{profiles:[],controllers:[],history:{},name:null,appFolder:"app",router:{},controllerInstances:[],profileInstances:[],currentProfile:null,launch:Ext.emptyFn,enableLoader:!0,requires:[]},constructor:function(a){a=a||{},Ext.applyIf(a,{application:this}),this.initConfig(a);for(var b in a)this[b]=a[b];a.autoCreateViewport&&Ext.Logger.deprecate('[Ext.app.Application] autoCreateViewport has been deprecated in Sencha Touch 2. Please implement a launch function on your Application instead and use Ext.create("MyApp.view.Main") to create your initial UI.'),Ext.Loader.setConfig({enabled:!0}),Ext.require(this.getRequires(),function(){this.getEnableLoader()!==!1&&Ext.require(this.getProfiles(),this.onProfilesLoaded,this)},this)},dispatch:function(a,b){a=a||{},Ext.applyIf(a,{application:this}),a=Ext.factory(a,Ext.app.Action);if(a){var c=this.getCurrentProfile(),d=c?c.getNamespace():undefined,e=this.getController(a.getController(),d);e&&(b!==!1&&this.getHistory().add(a,!0),e.execute(a))}},redirectTo:function(a){if(Ext.data&&Ext.data.Model&&a instanceof Ext.data.Model){var b=a;a=b.toUrl()}var c=this.getRouter().recognize(a);if(c)return c.url=a,b&&(c.data={},c.data.record=b),this.dispatch(c)},control:function(a,b){b=b||this;var c=this.getEventDispatcher(),d=b?b.getRefs():{},e,f,g,h,i;for(e in a)if(a.hasOwnProperty(e)){h=a[e],i=d[e],i&&(e=i.selector||i);for(f in h)g=h[f],Ext.isString(g)&&(g=b[g]),c.addListener("component",e,f,g,b)}},getController:function(a,b){var c=this.getControllerInstances(),d=this.getName(),e=Ext.String.format,f;return a instanceof Ext.app.Controller?a:c[a]?c[a]:(f=e("{0}.controller.{1}",d,a),b=e("{0}.controller.{1}.{2}",d,b,a),c[b]||c[f])},onProfilesLoaded:function(){var a=this.getProfiles(),b=a.length,c=[],d=this.gatherDependencies(),e,f,g;for(f=0;f<b;f++)c[f]=Ext.create(a[f],{application:this}),g=c[f].getDependencies(),d=d.concat(g.all),c[f].isActive()&&!e&&(e=c[f],this.setCurrentProfile(e),this.setControllers(this.getControllers().concat(g.controller)),this.setModels(this.getModels().concat(g.model)),this.setViews(this.getViews().concat(g.view)),this.setStores(this.getStores().concat(g.store)));this.setProfileInstances(c),Ext.require(d,this.loadControllerDependencies,this)},loadControllerDependencies:function(){this.instantiateControllers();var a=this.getControllerInstances(),b=[],c=[],d,e,f,g;for(g in a)e=a[g],f=e.getStores(),c=c.concat(f),b=b.concat(e.getModels().concat(e.getViews()).concat(f));this.setStores(this.getStores().concat(c)),Ext.require(b,this.onDependenciesLoaded,this)},onDependenciesLoaded:function(){var a=this,b=this.getCurrentProfile(),c=this.getLaunch(),d,e;this.instantiateStores(),Ext.app.Application.appInstance=this,Ext.Router&&Ext.Router.setAppInstance(this),d=this.getControllerInstances();for(e in d)d[e].init(this);b&&b.launch(),c.call(a);for(e in d)!d[e]||d[e]instanceof Ext.app.Controller?d[e].launch(this):Ext.Logger.warn("The controller '"+e+"' doesn't have a launch method. Are you sure it extends from Ext.app.Controller?");a.redirectTo(window.location.hash.substr(1))},gatherDependencies:function(){var a=this.getModels().concat(this.getViews()).concat(this.getControllers());return Ext.each(this.getStores(),function(b){Ext.isString(b)&&a.push(b)},this),a},instantiateStores:function(){var a=this.getStores(),b=a.length,c,d,e,f,g;for(g=0;g<b;g++)c=a[g],Ext.data&&Ext.data.Store&&!(c instanceof Ext.data.Store)&&(Ext.isString(c)&&(e=c,d=Ext.ClassManager.classes[c],c={xclass:c},d.prototype.defaultConfig.storeId===undefined&&(f=e.split("."),c.id=f[f.length-1])),a[g]=Ext.factory(c,Ext.data.Store));this.setStores(a)},instantiateControllers:function(){var a=this.getControllers(),b={},c=a.length,d,e;for(e=0;e<c;e++)d=a[e],b[d]=Ext.create(d,{application:this});return this.setControllerInstances(b)},applyControllers:function(a){return this.getFullyQualified(a,"controller")},applyProfiles:function(a){return this.getFullyQualified(a,"profile")},applyName:function(a){var b;return a&&a.match(/ /g)&&(b=a,a=a.replace(/ /g,""),Ext.Logger.warn('Attempting to create an application with a name which contains whitespace ("'+b+'"). Renamed to "'+a+'".')),a},updateName:function(a){Ext.ClassManager.setNamespace(a+".app",this),Ext.Loader.config.paths[a]||Ext.Loader.setPath(a,this.getAppFolder())},applyRouter:function(a){return Ext.factory(a,Ext.app.Router,this.getRouter())},applyHistory:function(a){var b=Ext.factory(a,Ext.app.History,this.getHistory());return b.on("change",this.onHistoryChange,this),b},onHistoryChange:function(a){this.dispatch(this.getRouter().recognize(a),!1)}},function(){Ext.regApplication=function(a){Ext.Logger.deprecate("[Ext.app.Application] Ext.regApplication() is deprecated, please replace it with Ext.application()");var b=a.name,c=Ext.String.format;Ext.ns(b,c("{0}.controllers",b),c("{0}.models",b),c("{0}.views",b)),Ext.application(a)},Ext.define("Ext.data.ProxyMgr",{singleton:!0,registerType:function(a,b){Ext.Logger.deprecate('Ext.data.ProxyMgr no longer exists - instead of calling Ext.data.ProxyMgr.registerType just update your custom Proxy class to set alias: "proxy.'+a+'"'),Ext.ClassManager.setAlias(b,"proxy."+a)}}),Ext.reg=function(a,b){Ext.Logger.deprecate('Ext.reg is deprecated, please set xtype: "'+a+'" directly in your subclass instead'),Ext.ClassManager.setAlias(b,a)},Ext.redirect=function(){var a=Ext.app.Application.appInstance;Ext.Logger.deprecate("[Ext.app.Application] Ext.redirect is deprecated, please use YourApp.redirectTo instead"),a&&a.redirectTo.apply(a,arguments)},Ext.dispatch=function(){var a=Ext.app.Application.appInstance;Ext.Logger.deprecate("[Ext.app.Application] Ext.dispatch is deprecated, please use YourApp.dispatch instead"),a&&a.dispatch.apply(a,arguments)}}),Ext.define("Ext.data.ArrayStore",{extend:"Ext.data.Store",alias:"store.array",uses:["Ext.data.reader.Array"],config:{proxy:{type:"memory",reader:"array"}},loadData:function(a,b){this.callParent([a,b])}},function(){Ext.data.SimpleStore=Ext.data.ArrayStore}),Ext.define("Ext.data.reader.Array",{extend:"Ext.data.reader.Json",alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",config:{totalProperty:undefined,successProperty:undefined},createFieldAccessExpression:function(a,b,c){var d=this,e=a.getMapping(),f=e==null?d.getModel().getFields().indexOf(a):e,g;return typeof f=="function"?g=b+".getMapping()("+c+", this)":(isNaN(f)&&(f='"'+f+'"'),g=c+"["+f+"]"),g}}),Ext.define("SayloMobile.config",{singleton:!0,config:{coords:{}},constructor:function(a){this.initConfig(a),this.callParent([a])}}),Ext.define("SayloMobile.controller.Main",{extend:"Ext.app.Controller",views:["ChannelList","Channel","Settings"],init:function(){console.log("inited")}}),Ext.define("Ext.ActionSheet",{extend:"Ext.Sheet",alias:"widget.actionsheet",requires:["Ext.Button"],config:{baseCls:Ext.baseCSSPrefix+"sheet-action",left:0,right:0,bottom:0,centered:!1,height:"auto",defaultType:"button"}}),Ext.define("Ext.tab.Tab",{extend:"Ext.Button",xtype:"tab",alternateClassName:"Ext.Tab",isTab:!0,config:{baseCls:Ext.baseCSSPrefix+"tab",pressedCls:Ext.baseCSSPrefix+"tab-pressed",activeCls:Ext.baseCSSPrefix+"tab-active",active:!1,title:"&nbsp;"},template:[{tag:"span",reference:"badgeElement",hidden:!0},{tag:"span",className:Ext.baseCSSPrefix+"button-icon",reference:"iconElement",style:"visibility: hidden !important"},{tag:"span",reference:"textElement",hidden:!0}],updateTitle:function(a){this.setText(a)},hideIconElement:function(){this.iconElement.dom.style.setProperty("visibility","hidden","!important")},showIconElement:function(){this.iconElement.dom.style.setProperty("visibility","visible","!important")},updateActive:function(a,b){var c=this.getActiveCls();a&&!b?(this.element.addCls(c),this.fireEvent("activate",this)):b&&(this.element.removeCls(c),this.fireEvent("deactivate",this))}},function(){this.override({activate:function(){this.setActive(!0)},deactivate:function(){this.setActive(!1)}})}),Ext.define("Ext.picker.Slot",{extend:"Ext.DataView",xtype:"pickerslot",alternateClassName:"Ext.Picker.Slot",requires:["Ext.XTemplate","Ext.data.Store","Ext.Component","Ext.data.StoreManager"],isSlot:!0,config:{title:null,showTitle:!0,cls:Ext.baseCSSPrefix+"picker-slot",name:null,value:null,flex:1,align:"left",displayField:"text",valueField:"value",scrollable:{direction:"vertical",indicators:!1,momentumEasing:{minVelocity:2},slotSnapEasing:{duration:100}}},constructor:function(){this.selectedIndex=0,this.callParent(arguments)},applyTitle:function(a){return a&&(a=Ext.create("Ext.Component",{cls:Ext.baseCSSPrefix+"picker-slot-title",docked:"top",html:a})),a},updateTitle:function(a,b){a&&(this.add(a),this.setupBar()),b&&this.remove(b)},updateShowTitle:function(a){var b=this.getTitle();b&&(b[a?"show":"hide"](),this.setupBar())},updateDisplayField:function(a){this.setItemTpl('<div class="'+Ext.baseCSSPrefix+'picker-item {cls} <tpl if="extra">'+Ext.baseCSSPrefix+'picker-invalid</tpl>">{'+a+"}</div>")},updateAlign:function(a,b){var c=this.element;c.addCls(Ext.baseCSSPrefix+"picker-"+a),c.removeCls(Ext.baseCSSPrefix+"picker-"+b)},applyData:function(a){var b=[],c=a&&a.length,d,e,f;if(a&&Ext.isArray(a)&&c)for(d=0;d<c;d++)e=a[d],f={},Ext.isArray(e)?(f[this.valueField]=e[0],f[this.displayField]=e[1]):Ext.isString(e)?(f[this.valueField]=e,f[this.displayField]=e):Ext.isObject(e)&&(f=e),b.push(f);return a},updateData:function(a){this.setStore(Ext.create("Ext.data.Store",{model:"x-textvalue",data:a}))},initialize:function(){this.callParent();var a=this.getScrollable().getScroller();this.on({scope:this,painted:"onPainted",itemtap:"doItemTap"}),a.on({scope:this,scrollend:"onScrollEnd"})},onPainted:function(){this.setupBar()},getPicker:function(){return this.picker||(this.picker=this.getParent()),this.picker},setupBar:function(){if(!this.rendered)return;var a=this.element,b=this.innerElement,c=this.getPicker(),d=c.bar,e=this.getValue(),f=this.getShowTitle(),g=this.getTitle(),h=this.getScrollable(),i=h.getScroller(),j=0,k,l,m,n,o;k=d.getY(),l=a.getY(),f&&g&&(l+=g.element.getHeight()),m=d.getHeight(),f&&g&&(j=g.element.getHeight()),n=Math.ceil((a.getHeight()-j-m)/2),this.slotPadding=n,b.setStyle({padding:n+"px 0 "+n+"px"}),i.refresh(),i.setSlotSnapSize(m),this.setValue(e)},doItemTap:function(a,b,c,d){var e=this;e.selectedIndex=b,e.selectedNode=c,e.scrollToItem(c,!0),e.fireEvent("slotpick",e,e.getValue(),e.selectedNode)},scrollToItem:function(a,b){var c=a.getY(),d=a.parent(),e=d.getY(),f=this.getScrollable(),g=f.getScroller(),h;h=c-e,g.scrollTo(0,h,b)},onScrollEnd:function(a,b,c){var d=this,e=Math.round(c/d.picker.bar.getHeight()),f=d.getViewItems(),g=f[e];g&&(d.selectedIndex=e,d.selectedNode=g,d.fireEvent("slotpick",d,d.getValue(),d.selectedNode))},getValue:function(){var a=this.getStore(),b,c;if(!a)return;return this.rendered?this._value===!1?null:(b=a.getAt(this.selectedIndex),c=b?b.get(this.getValueField()):null,this._value=c,c):this._value},setValue:function(a){if(!Ext.isDefined(a))return;if(!this.rendered||!a){this._value=a;return}var b=this.getStore(),c=this.getViewItems(),d=this.getValueField(),e,f;e=b.find(d,a),e!=-1&&(f=Ext.get(c[e]),this.selectedIndex=e,this.scrollToItem(f),this._value=a)},setValueAnimated:function(a){if(!a)return;if(!this.rendered){this._value=a;return}var b=this.getStore(),c=this.getViewItems(),d=this.getValueField(),e,f;e=b.find(d,a),e!=-1&&(f=Ext.get(c[e]),this.selectedIndex=e,this.scrollToItem(f,{duration:100}),this._value=a)}}),Ext.define("Ext.tab.Bar",{extend:"Ext.Toolbar",alternateClassName:"Ext.TabBar",xtype:"tabbar",requires:["Ext.tab.Tab"],config:{baseCls:Ext.baseCSSPrefix+"tabbar",defaultType:"tab",layout:{type:"hbox",align:"middle"}},eventedConfig:{activeTab:null},initialize:function(){var a=this;a.callParent(),a.on({tap:"onTabTap",delegate:"> tab",scope:a})},onTabTap:function(a){this.setActiveTab(a)},applyActiveTab:function(a,b){if(!a&&a!==0)return;var c=this.parseActiveTab(a);if(!c){b&&Ext.Logger.warn("Trying to set a non-existent activeTab");return}return c},doSetDocked:function(a){var b=this.getLayout(),c=a=="bottom"?"center":"left";b.isLayout?b.setPack(c):b.pack=b&&b.pack?b.pack:c},doSetActiveTab:function(a,b){a&&a.setActive(!0),b&&b.setActive(!1)},parseActiveTab:function(a){return typeof a=="number"?this.getInnerItems()[a]:(typeof a=="string"&&(a=Ext.getCmp(a)),a)}}),Ext.define("Ext.tab.Panel",{extend:"Ext.Container",xtype:"tabpanel",alternateClassName:"Ext.TabPanel",requires:["Ext.tab.Bar"],config:{ui:"dark",tabBar:!0,tabBarPosition:"top",layout:{type:"card",animation:{type:"slide",direction:"left"}},cls:Ext.baseCSSPrefix+"tabpanel"},delegateListeners:{delegate:"> component",centeredchange:"onItemCenteredChange",dockedchange:"onItemDockedChange",floatingchange:"onItemFloatingChange",disabledchange:"onItemDisabledChange"},initialize:function(){this.callParent(),this.on({order:"before",activetabchange:"doTabChange",delegate:"> tabbar",scope:this});var a=this.getLayout();a&&!a.isCard&&Ext.Logger.error("The base layout for a TabPanel must always be a Card Layout")},applyScrollable:function(){return!1},updateUi:function(a,b){this.callParent(arguments),this.initialized&&this.getTabBar().setUi(a)},doSetActiveItem:function(a,b){if(a){var c=this.getInnerItems(),d=c.indexOf(b),e=c.indexOf(a),f=d>e,g=this.getLayout().getAnimation(),h=this.getTabBar(),i=h.parseActiveTab(d),j=h.parseActiveTab(e);g&&g.setReverse&&g.setReverse(f),this.callParent(arguments),e!=-1&&(this.getTabBar().setActiveTab(e),i&&i.setActive(!1),j&&j.setActive(!0))}},doTabChange:function(a,b){this.setActiveItem(a.indexOf(b))},applyTabBar:function(a){return a===!0&&(a={}),a&&Ext.applyIf(a,{ui:this.getUi(),docked:this.getTabBarPosition()}),Ext.factory(a,Ext.tab.Bar,this.getTabBar())},updateTabBar:function(a){a&&(this.add(a),this.setTabBarPosition(a.getDocked()))},updateTabBarPosition:function(a){var b=this.getTabBar();b&&b.setDocked(a)},onItemAdd:function(a){var b=this;if(!a.isInnerItem())return b.callParent(arguments);var c=b.getTabBar(),d=a.getInitialConfig(),e=d.tab||{},f=d.title,g=d.iconCls,h=d.hidden,i=d.disabled,j=d.badgeText,k=b.getInnerItems(),l=k.indexOf(a),m=c.getItems(),n=b.getInnerItems(),o=m.length>=n.length&&m.getAt(l),p;f&&!e.title&&(e.title=f),g&&!e.iconCls&&(e.iconCls=g),h&&!e.hidden&&(e.hidden=h),i&&!e.disabled&&(e.disabled=i),j&&!e.badgeText&&(e.badgeText=j),!o&&!e.title&&!e.iconCls&&!e.title&&!e.iconCls&&Ext.Logger.error("Adding a card to a tab container without specifying any tab configuration"),p=Ext.factory(e,Ext.tab.Tab,o),o||c.insert(l,p),a.tab=p,b.callParent(arguments)},onItemDisabledChange:function(a,b){a&&a.tab&&a.tab.setDisabled(b)},onItemRemove:function(a,b){this.getTabBar().remove(a.tab,this.getAutoDestroy()),this.callParent(arguments)}},function(){Ext.deprecateProperty(this,"tabBarDock","tabBarPosition")}),Ext.define("Ext.picker.Picker",{extend:"Ext.Sheet",alias:"widget.picker",alternateClassName:"Ext.Picker",requires:["Ext.picker.Slot","Ext.Toolbar","Ext.data.Model"],isPicker:!0,config:{cls:Ext.baseCSSPrefix+"picker",doneButton:!0,cancelButton:!0,useTitles:!1,slots:null,value:null,height:220,layout:{type:"hbox",align:"stretch"},centered:!1,left:0,right:0,bottom:0,defaultType:"pickerslot",toolbar:!0},initElement:function(){this.callParent(arguments);var a=this,b=Ext.baseCSSPrefix,c=this.innerElement;this.mask=c.createChild({cls:b+"picker-mask"}),this.bar=this.mask.createChild({cls:b+"picker-bar"}),a.on({scope:this,delegate:"pickerslot",slotpick:"onSlotPick"}),a.on({scope:this,show:"onShow"})},applyToolbar:function(a){return a===!0&&(a={}),Ext.applyIf(a,{docked:"top"}),Ext.factory(a,"Ext.TitleBar",this.getToolbar())},updateToolbar:function(a,b){a&&this.add(a),b&&this.remove(b)},applyDoneButton:function(a){return a&&(Ext.isBoolean(a)&&(a={}),typeof a=="string"&&(a={text:a}),Ext.applyIf(a,{ui:"action",align:"right",text:"Done"})),Ext.factory(a,"Ext.Button",this.getDoneButton())},updateDoneButton:function(a,b){var c=this.getToolbar();a?(c.add(a),a.on("tap",this.onDoneButtonTap,this)):b&&c.remove(b)},applyCancelButton:function(a){return a&&(Ext.isBoolean(a)&&(a={}),typeof a=="string"&&(a={text:a}),Ext.applyIf(a,{align:"left",text:"Cancel"})),Ext.factory(a,"Ext.Button",this.getCancelButton())},updateCancelButton:function(a,b){var c=this.getToolbar();a?(c.add(a),a.on("tap",this.onCancelButtonTap,this)):b&&c.remove(b)},updateUseTitles:function(a){var b=this.getInnerItems(),c=b.length,d=Ext.baseCSSPrefix+"use-titles",e,f;a?this.addCls(d):this.removeCls(d);for(e=0;e<c;e++)f=b[e],f.isSlot&&f.setShowTitle(a)},applySlots:function(a){if(a){var b=a.length,c;for(c=0;c<b;c++)a[c].picker=this}return a},updateSlots:function(a){var b=Ext.baseCSSPrefix,c;this.removeAll(),a&&this.add(a),c=this.getInnerItems(),c.length>0&&(c[0].addCls(b+"first"),c[c.length-1].addCls(b+"last")),this.updateUseTitles(this.getUseTitles())},onDoneButtonTap:function(){var a=this._value,b=this.getValue();b!=a&&this.fireEvent("change",this,b),this.hide()},onCancelButtonTap:function(){this.fireEvent("cancel",this),this.hide()},onSlotPick:function(a,b,c){this.fireEvent("pick",this,this.getValue(),a)},onShow:function(){this.isHidden()||this.setValue(this._value)},setValue:function(a,b){var c=this,d=c.getInnerItems(),e=d.length,f,g,h,i;if(!a){a={};for(i=0;i<e;i++)a[d[i].config.name]=!1}for(f in a){value=a[f];for(i=0;i<d.length;i++){h=d[i];if(h.config.name==f){g=h;break}}g&&(b?g.setValueAnimated(value):g.setValue(value))}return c._value=this.getValue(),c._values=c._value,c},setValueAnimated:function(a){this.setValue(a,!0)},getValue:function(){var a={},b=this.getItems().items,c=b.length,d,e;for(e=0;e<c;e++)d=b[e],d&&d.isSlot&&(a[d.getName()]=d.getValue());return this._values=a,this._values},getValues:function(){return this.getValue()},destroy:function(){this.callParent(),Ext.destroy(this.mask,this.bar)}},function(){Ext.deprecateProperty(this,"activeCls",null,"Ext.picker.Picker.activeCls has been removed"),Ext.deprecateClassMethod(this,"getCard","getActiveItem"),Ext.deprecateClassMethod(this,"setCard","setActiveItem"),Ext.define("x-textvalue",{extend:"Ext.data.Model",config:{fields:["text","value"]}})}),Ext.define("Ext.field.Select",{extend:"Ext.field.Text",xtype:"selectfield",alternateClassName:"Ext.form.Select",requires:["Ext.Panel","Ext.picker.Picker","Ext.data.Store","Ext.data.StoreManager","Ext.List"],config:{ui:"select",valueField:"value",displayField:"text",store:null,options:null,hiddenName:null,component:{useMask:!0},clearIcon:!1,usePicker:"auto",defaultPhonePickerConfig:null,defaultTabletPickerConfig:null,name:"picker"},constructor:function(a){a=a||{},a.store||(a.store=!0),this.callParent([a])},initialize:function(){var a=this,b=a.getComponent();a.callParent(),b.on({scope:a,masktap:"onMaskTap"}),b.input.dom.disabled=!0},updateDefaultPhonePickerConfig:function(a){var b=this.picker;b&&b.setConfig(a)},updateDefaultTabletPickerConfig:function(a){var b=this.listPanel;b&&b.setConfig(a)},applyUsePicker:function(a){return a=="auto"&&(a=Ext.os.deviceType=="Phone"),Boolean(a)},syncEmptyCls:Ext.emptyFn,applyValue:function(a){var b=a,c;return this.getOptions(),a instanceof Ext.data.Model||(c=this.getStore().find(this.getValueField(),a,null,null,null,!0),c==-1&&(c=this.getStore().find(this.getDisplayField(),a,null,null,null,!0)),b=this.getStore().getAt(c)),b},updateValue:function(a,b){this.previousRecord=b,this.record=a,this.callParent([a?a.get(this.getDisplayField()):""]),b!==a&&this.initialized&&this.fireEvent("change",this,a,b)},getValue:function(){var a=this.record;return a?a.get(this.getValueField()):null},getRecord:function(){return this.record},getPhonePicker:function(){var a=this.getDefaultPhonePickerConfig();return this.picker||(this.picker=Ext.create("Ext.picker.Picker",Ext.apply({slots:[{align:"center",name:this.getName(),valueField:this.getValueField(),displayField:this.getDisplayField(),value:this.getValue(),store:this.getStore()}],listeners:{change:this.onPickerChange,scope:this}},a))),this.picker},getTabletPicker:function(){var a=this.getDefaultTabletPickerConfig();return this.listPanel||(this.listPanel=Ext.create("Ext.Panel",Ext.apply({centered:!0,modal:!0,cls:Ext.baseCSSPrefix+"select-overlay",layout:"fit",hideOnMaskTap:!0,items:{xtype:"list",store:this.getStore(),itemTpl:'<span class="x-list-label">{'+this.getDisplayField()+"}</span>",listeners:{select:this.onListSelect,itemtap:this.onListTap,scope:this}}},a))),this.listPanel},onMaskTap:function(){return this.getDisabled()?!1:(this.showPicker(),!1)},showPicker:function(){if(this.getStore().getCount()===0)return;if(this.getReadOnly())return;this.isFocused=!0;if(this.getUsePicker()){var a=this.getPhonePicker(),b=this.getName(),c={};c[b]=this.record.get(this.getValueField()),a.setValue(c),a.getParent()||Ext.Viewport.add(a),a.show()}else{var d=this.getTabletPicker(),e=d.down("list"),f=e.getStore(),g=f.find(this.getValueField(),this.getValue(),null,null,null,!0),h=f.getAt(g==-1?0:g);d.getParent()||Ext.Viewport.add(d),d.showBy(this.getComponent()),e.select(h,null,!0)}},onListSelect:function(a,b){var c=this;b&&c.setValue(b)},onListTap:function(){this.listPanel.hide({type:"fade",out:!0,scope:this})},onPickerChange:function(a,b){var c=this,d=b[c.getName()],e=c.getStore(),f=e.find(c.getValueField(),d,null,null,null,!0),g=e.getAt(f);c.setValue(g)},updateOptions:function(a){var b=this.getStore();a?(b.setData(a),this.onStoreDataChanged(b)):b.clearData()},applyStore:function(a){return a===!0&&(a=Ext.create("Ext.data.Store",{fields:[this.getValueField(),this.getDisplayField()]})),a&&(a=Ext.data.StoreManager.lookup(a),a.on({scope:this,addrecords:this.onStoreDataChanged,removerecords:this.onStoreDataChanged,updaterecord:this.onStoreDataChanged,refresh:this.onStoreDataChanged})),a},updateStore:function(a){a&&this.onStoreDataChanged(a)},onStoreDataChanged:function(a){var b=this.getInitialConfig(),c=this.getValue();Ext.isDefined(c)&&this.updateValue(this.applyValue(c)),this.getValue()===null&&(b.hasOwnProperty("value")&&this.setValue(b.value),this.getValue()===null&&a.getCount()>0&&this.setValue(a.getAt(0)))},doSetDisabled:function(a){Ext.Component.prototype.doSetDisabled.apply(this,arguments)},setDisabled:function(){Ext.Component.prototype.setDisabled.apply(this,arguments)},reset:function(){var a=this.getStore(),b=this.originalValue?this.originalValue:a.getAt(0);return a&&b&&this.setValue(b),this},onFocus:function(a){this.fireEvent("focus",this,a),this.isFocused=!0,this.showPicker()},destroy:function(){this.callParent(arguments),Ext.destroy(this.listPanel,this.picker,this.hiddenField)}});var dsRoomList,dsStaticRooms,myStartTime,convoMode="local",activeChannel,listChannelHold=!1,scrollToEnd=!0,chanBadgeCount=0,chanListBadgeCount=0,noChannelSelected=!0,isFiltered=!1,reconnectLastMsgId,currPrivatePass,enterPasswordPanel,newChannelPanel,inviteWallPanel,currentLocation;Ext.define("modelChannel",{extend:"Ext.data.Model",config:{idProperty:"id",fields:["id","name","rangeLabel","userCount","isLocked","isPrivate","age","distance","distanceLabel","score","updated"]}}),Ext.define("modelMessage",{extend:"Ext.data.Model",config:{fields:["id","thumb","text","username","time","location","isOwn"]}}),Ext.define("modelUser",{extend:"Ext.data.Model",config:{fields:["name","area","thumb"]}});var storeChannelList=Ext.create("Ext.data.Store",{model:"modelChannel"}),storeMessageList=Ext.create("Ext.data.Store",{model:"modelMessage"}),storeUserList=Ext.create("Ext.data.Store",{model:"modelUser"}),tplChatMessage='<tpl if="isOwn==true"><img style="float: left;" src="{thumb}" /><div class="channelTextLeft"><div class="channelLine2" style="font-size: 65%;">{username}<tpl if="location!=undefined"> ({location})</tpl></div><div style="font-size: 65%; font-weight: normal; font-style: italic;">{time}</div>{text}</div></tpl><tpl if="!isOwn"><img style="float: right;" src="{thumb}" /><div class="channelTextRight"><div class="channelLine2" style="font-size: 65%;">{username}<tpl if="location!=undefined"> ({location})</tpl></div><div style="font-size: 65%; font-weight: normal; font-style: italic;">{time}</div>{text}</div></tpl>',tplChanList='<div class="channelName">{name}</div><div class="channelListLine2"><div class="left" style="width:80px;display: inline-block;"><span class="count" data-original-title="">{distance}</span><label> {distanceLabel}</label></div><div class="left" style="width:80px;display: inline-block;"><span class="count" data-original-title="">{userCount}</span><label> people</label></div><tpl if="isPrivate==true"><tpl if="isLocked==true"><span class="locked lock"></span><label> locked</label></tpl><tpl if="isLocked==false"><span class="unlocked lock"></span><label> unlocked</label></tpl></tpl></div>',tplUserList='<img style="float: left; margin-top: -4px;" src="{thumb}" /><div class="channelTextLeft">{name}<div class="channelLine2">{area}</div></div>';Ext.define("SayloMobile.view.Main",{extend:"Ext.tab.Panel",requires:["Ext.dataview.List","Ext.field.Select","Ext.ActionSheet","Ext.Panel"],alias:"widget.main",config:{id:"tabpanelMain",ui:"dark",tabBarPosition:"top",tabBar:{layout:{pack:"center"}},listeners:{initialize:function(a){enterPasswordPanel||(enterPasswordPanel=Ext.Viewport.add({xtype:"panel",id:"pnlEnterPassword",modal:!0,centered:!0,hideOnMaskTap:!1,width:"90%",layout:{type:"vbox",align:"center",pack:"center"},listeners:{show:function(a){Ext.getCmp("tfEnterPass").setValue(""),Ext.getCmp("lblInvalidPassword").setHtml("")}},items:[{xtype:"toolbar",docked:"top",title:"Unlock Private Channel"},{xtype:"textfield",id:"tfEnterPass",cls:"tfPopups",style:"margin-top: 10px;",placeHolder:"Enter password",width:"80%"},{xtype:"container",id:"lblInvalidPassword",style:"font-weight: bold; text-align: center; margin-top: 10px; color: red;",width:"80%"},{xtype:"container",style:"margin-top: 20px; margin-bottom: 20px;",width:"80%",layout:{type:"hbox"},items:[{xtype:"button",id:"enterPassOK",ui:"confirm",flex:4,text:"OK",handler:function(a){Ext.getCmp("tfEnterPass").getValue()!=""&&now.reqJoin({cid:enterPasswordPanel.cid,password:Ext.getCmp("tfEnterPass").getValue(),form:"frmEnterPassword"})}},{xtype:"spacer",flex:2},{xtype:"button",id:"enterPassCancel",flex:4,text:"Cancel",handler:function(a){enterPasswordPanel.hide()}}]}]})),enterPasswordPanel.hide()},activeitemchange:defaultActiveItemChange},items:[{xtype:"channelList"},{xtype:"channelPage"},{xtype:"settingsPage"}]}},function(){}),Ext.onReady(function(){$.getScript("/nowjs/now.js",function(a,b,c){sayloApi.setup({fnRecConvoList:RecConvoList,fnRecStaticConvos:RecStaticConvos,fnRecMessages:RecMessages,fnRecUpdRoom:RecUpdRoom,fnRecActionSuccess:RecActionSuccess,fnRecActionError:RecActionError,fnRecRoomCreate:RecRoomCreate,fnRecRoomAdd:RecRoomAdd,fnRecUpdUser:RecUpdUser,fnRecUserInfo:RecUserInfo,fnRecMsgAdd:RecMsgAdd,fnRecInviteOnly:RecInviteOnly,fnRecUsers:RecUsers}),console.log(now),now.ready(nowReady)})});var ScrollToEnd=function(a,b){var c=b;b==undefined&&(c=400),Ext.defer(function(){Ext.getCmp(a).getScrollable().getScroller().scrollToEnd()},c,this)},RecStaticConvos=function(a){dsStaticRooms=new DataStore(a),now.reqSubs(dsStaticRooms.getKeys())},RecRoomAdd=function(a){var b=a[0];b.global?dsStaticConvos.add(b):dsRoomList.add(b),processConvoList()},RecActionSuccess=function(a){if(a.form!=undefined)switch(a.form){case"frmCreateAccount":case"frmLogin":sayMenu.close();break;case"frmJoinPrivate":Ext.getCmp("btnLemmeIn").setText("Loading..."),Ext.getCmp("btnLemmeIn").setDisabled(!0),$(".frmJoinPrivate .btnSubmit").attr("disabled","disabled"),$(".frmJoinPrivate .btnSubmit").css("color","#DDD"),pendingRoom=a.result.cid,sayMap.getMap().panTo(new google.maps.LatLng(a.result.latitude,a.result.longitude)),google.maps.event.addListenerOnce(sayMap.getMap(),"idle",function(){requestRoomsByBounds()}),setTimeout("saylover.close(true);",800)}if(a.action!=undefined)switch(a.action){case"logout":switch(a.result.type){case"fb":FB.logout(function(a){window.location=window.location.href.substring(0,window.location.href.indexOf("mobile"))});break;case"li":IN.User.logout(function(){window.location=window.location.href.substring(0,window.location.href.indexOf("mobile"))})}break;case"join":noChannelSelected=!1,enterPasswordPanel.hide(),activeChannel!=undefined&&a.result.cid!=activeChannel&&now.reqLeave([activeChannel]),reconnectLastMsgId==undefined&&storeMessageList.removeAll(),Ext.getCmp("tbChannelName").setHtml(getRoom(a.result.cid)!=undefined?getRoom(a.result.cid).name:dsRoomList.data[a.result.cid].name),Ext.getCmp("tabpanelMain").on("activeitemchange",function(a,b,c){b.id=="tabChannel"&&ScrollToEnd("listChannel")});var b={cid:a.result.cid};reconnectLastMsgId!=undefined&&(b.after=reconnectLastMsgId),now.reqMessages(b),reconnectLastMsgId!=undefined&&(reconnectLastMsgId=undefined),activeChannel=a.result.cid}},RecActionError=function(a){if(a.form!=undefined)switch(a.form){case"frmEnterPassword":Ext.getCmp("lblInvalidPassword").setHtml("Invalid password!");break;default:var b=$("."+a.form);b.find(".errServer").html(a.error)}if(a.action!=undefined)switch(a.action){case"join":switch(a.result.error){case"need_pass":enterPasswordPanel.show(),enterPasswordPanel.cid=a.result.cid}break;case"post":$(".divConvo[id="+a.result.cid+"] .txtSay").val(a.result.error),$(".divConvo[id="+a.result.cid+"] .txtSay").attr("disabled","disabled"),$(".divConvo[id="+a.result.cid+"] .btnSay").attr("disabled","disabled");break;case"create":var c=Ext.getCmp("tfChannelName"),d=Ext.getCmp("tfChannelPass"),e=Ext.getCmp("btnNewConvoSubmit"),f=Ext.getCmp("cbfPrivate")}},RecUpdRoom=function(a){var b=storeChannelList.findExact("id",a.id);if(dsRoomList.contains(a.id)||dsStaticRooms.contains(a.id))dsRoomList.contains(a.id)&&(dsRoomList.data[a.id].userCount=a.users),dsStaticRooms.contains(a.id)&&(dsStaticRooms.data[a.id].userCount=a.users);b>-1&&storeChannelList.getAt(b).set("userCount",a.users)},RecMessages=function(a){var b;for(b=0;b<a.length;b++){var c=a[b];addMsg(c)}Ext.getCmp("tabpanelMain").getActiveItem().id=="listChannel"?ScrollToEnd("listChannel"):Ext.getCmp("tabpanelMain").setActiveItem(1),Ext.getCmp("tabpanelMain").on("activeitemchange",defaultActiveItemChange)},RecConvoList=function(a){dsRoomList=new DataStore(a),now.reqSubs(dsRoomList.getKeys()),processConvoList()},RecRoomCreate=function(a){newChannelPanel.hide();var b=a[0];now.reqSubs([b.id]),currPrivatePass!=undefined?(now.reqJoin({cid:b.id,password:currPrivatePass}),currPrivatePass=undefined,Ext.getCmp("sfChannelType").setValue("private")):(now.reqJoin({cid:b.id}),Ext.getCmp("sfChannelType").setValue("local")),dsRoomList.add(b),processConvoList()},RecUpdUser=function(a){a.auth==undefined,a.start&&(myStartTime!=undefined&&myStartTime!=a.start?location.reload():myStartTime=a.start),a.init!=undefined&&(now.reqConvos({history:!0,global:!0}),currentLocation==undefined&&navigator.geolocation.getCurrentPosition(geoSuccess,geoFail,{enableHighAccuracy:!0}),typeof now.reqUserInfo!="undefined"&&now.reqUserInfo(),activeChannel!=undefined&&(reconnectLastMsgId=storeMessageList.last().data.id,typeof now.reqJoin!="undefined"&&now.reqJoin({cid:activeChannel}))),a.thumb==undefined,a.volume==undefined,a.mode==undefined,a.location!=undefined&&(Ext.getCmp("listChannelList").setEmptyText('<div style="text-align: center;">There are no channels around you. Be the first to create one!</div>'),currentLocation=a.location.area,Ext.getCmp("tbCityLabel").setHtml(a.location.area)),a.display==undefined},RecUserInfo=function(a){Ext.getCmp("txtEmail").setValue(a.email),Ext.getCmp("txtFirst").setValue(a.first),Ext.getCmp("txtLast").setValue(a.last),Ext.getCmp("imgProfilePic").setHtml('<img src="'+a.thumb+'"/>')},RecInviteOnly=function(a){},RecUsers=function(a){var b;storeUserList.removeAll();for(b=0;b<a.users.length;b++){var c=a.users[b];storeUserList.add({name:c.name,area:c.area,thumb:c.thumb})}Ext.getCmp("tabChannel").animateActiveItem(1,{type:"slide",direction:"left"})},RecMsgAdd=function(a){var b=a[0];if(activeChannel!=undefined&&activeChannel==b.cid){addMsg(b),(scrollToEnd||b.isOwn)&&ScrollToEnd("listChannel"),Ext.getCmp("tabpanelMain").getActiveItem().getId()!=="tabChannel"&&(chanBadgeCount++,Ext.getCmp("tabChannel").tab.setBadgeText(chanBadgeCount));if(b.isOwn){dsStaticRooms.contains(b.cid)||(dsRoomList.data[b.cid].history=!0,dsStaticRooms.add(dsRoomList.data[b.cid])),dsRoomList.data[b.cid].score=dsRoomList.data[b.cid].distance/10;var c=storeChannelList.findExact("id",b.cid);storeChannelList.getAt(c).set("score",dsRoomList.data[b.cid].score)}}};Ext.define("SayloMobile.view.ChannelList",{extend:"Ext.List",xtype:"channelList",config:{title:"Channel List",id:"listChannelList",itemCls:"liChannelList",disableSelection:!0,store:storeChannelList,itemTpl:tplChanList,emptyText:"<div style=\"text-align: center;\"><br><br><b>SOMETHING STRANGE IS AFOOT</b><br><br>We are currently retrieving your location.... <br><br>If you continue to see this message, please check your browser's and phone's location settings and then refresh the page to try again.<br><br></div>",listeners:{initialize:function(a){}},onItemDisclosure:function(a,b,c){this.setDisableSelection(!1),this.select(c),this.setDisableSelection(!0),now.reqJoin({cid:a.data.id})},items:[{xtype:"toolbar",docked:"top",ui:"dark",layout:{type:"hbox"},items:[{xtype:"container",cls:"tbLabel",id:"tbCityLabel",flex:60},{xtype:"selectfield",id:"sfChannelType",style:"font-size: 75%",flex:40,options:[{text:" Local",value:"local"},{text:" Private",value:"private"},{text:" Global",value:"global"},{text:" My History",value:"history"}],listeners:{change:function(a,b,c){convoMode=b.data.value,processConvoList()}}}]},{xtype:"toolbar",docked:"bottom",ui:"neutral",layout:{type:"hbox",align:"center",pack:"center"},items:[{xtype:"container",flex:1,layout:{type:"hbox",align:"center",pack:"start"},items:[{xtype:"image",src:"resources/images/refresh.png",style:"margin-left: 10px;",width:"20px",height:"20px",listeners:{tap:function(){navigator.geolocation.getCurrentPosition(geoSuccess,geoFail,{enableHighAccuracy:!0}),Ext.Msg.alert("Location updated","")}}}]},{xtype:"button",text:"Create New Channel",id:"btnCreateNew",flex:1,handler:function(){newChannelPanel||(newChannelPanel=Ext.Viewport.add({xtype:"panel",id:"pnlCreateNewChannel",modal:!0,centered:!0,hideOnMaskTap:!0,width:"90%",layout:{type:"vbox",align:"center",pack:"center"},listeners:{show:function(a){Ext.getCmp("tfChannelNameNew").setValue(""),Ext.getCmp("tfChannelPassNew").setValue(""),convoMode=="private"?(Ext.getCmp("tfChannelPassNew").setDisabled(!1),Ext.getCmp("cbfPrivate").setChecked(!0)):(Ext.getCmp("tfChannelPassNew").setDisabled(!0),Ext.getCmp("cbfPrivate").setChecked(!1))}},items:[{xtype:"toolbar",docked:"top",title:"Create New Channel"},{xtype:"textfield",id:"tfChannelNameNew",cls:"tfPopups",style:"margin-top: 20px;",placeHolder:"Channel name",width:"80%"},{xtype:"checkboxfield",id:"cbfPrivate",style:"margin-top: 10px;",label:"Make private?",labelWidth:"80%",width:"80%",listeners:{check:function(){Ext.getCmp("tfChannelPassNew").setDisabled(!1)},uncheck:function(){Ext.getCmp("tfChannelPassNew").setDisabled(!0)}}},{xtype:"textfield",id:"tfChannelPassNew",disabled:!0,disabledCls:"tfPopups_disabled",cls:"tfPopups",style:"margin-top: 10px;",placeHolder:"Channel password",width:"80%"},{xtype:"container",style:"margin-top: 20px; margin-bottom: 20px;",width:"80%",layout:{type:"hbox"},items:[{xtype:"button",id:"createNewOK",ui:"confirm",flex:4,text:"OK",handler:function(a){var b=Ext.getCmp("tfChannelNameNew").getValue(),c=Ext.getCmp("tfChannelPassNew").getValue();if(b!=""){var d={name:b,form:"frmNewConvo"};c!=""&&(currPrivatePass=c,d.password=c),now.reqConvoCreate(d)}}},{xtype:"spacer",flex:2},{xtype:"button",id:"createNewCancel",flex:4,text:"Cancel",handler:function(a){newChannelPanel.hide()}}]}]})),newChannelPanel.show()}},{xtype:"container",flex:1,layout:{type:"hbox",align:"center",pack:"end"},items:[{xtype:"image",id:"searchButton",src:"resources/images/search.png",style:"margin-right: 10px;",width:"24px",height:"24px",listeners:{tap:function(){isFiltered?(Ext.getCmp("searchButton").setSrc("resources/images/search.png"),storeChannelList.clearFilter(),isFiltered=!1):Ext.Msg.prompt("Search",null,function(a,b){if(a=="ok"&&b!=""){var c=new RegExp(b,"i");storeChannelList.filter("name",c),isFiltered=!0,Ext.getCmp("searchButton").setSrc("resources/images/search-x.png")}},null,!1,null,{placeHolder:"Channel name"})}}}]}]}]}}),Ext.define("SayloMobile.view.Channel",{extend:"Ext.Panel",xtype:"channelPage",config:{title:"Channel",id:"tabChannel",layout:"card",listeners:{activate:function(){noChannelSelected&&Ext.Msg.alert("No Channel Selected","Please select a channel from the channel list first.",function(){Ext.getCmp("tabpanelMain").setActiveItem(0)})},painted:function(){chanBadgeCount=0,Ext.getCmp("tabChannel").tab.setBadgeText("")}},items:[{xtype:"list",id:"listChannel",itemCls:"liChannel",allowDeselect:!0,store:storeMessageList,itemTpl:tplChatMessage,listeners:{itemtouchstart:function(){listChannelHold=!0,scrollToEnd=!1},itemtouchend:function(){listChannelHold=!1,Ext.defer(function(){listChannelHold||(scrollToEnd=!0)},5e3,this)},selectionchange:function(a,b){record=b,this.actions||(this.actions=Ext.Viewport.add({xtype:"actionsheet",hideOnMaskTap:!0,items:[{text:"Reply",scope:this,handler:function(){Ext.getCmp("tfMessage").setValue("@"+record[0].data.username+" - "),Ext.getCmp("tfMessage").focus(),Ext.getCmp("listChannel").deselectAll(),this.actions.hide()}},{text:"Quote",scope:this,handler:function(){Ext.getCmp("tfMessage").setValue("@"+record[0].data.username+' "'+record[0].data.text+'" - '),Ext.getCmp("tfMessage").focus(),Ext.getCmp("listChannel").deselectAll(),this.actions.hide()}},{text:"Cancel",ui:"decline",scope:this,handler:function(){Ext.getCmp("listChannel").deselectAll(),this.actions.hide()}}]})),this.actions.show()},painted:function(){}},items:[{xtype:"toolbar",docked:"top",ui:"dark",items:[{xtype:"container",html:"Channel Name",id:"tbChannelName",cls:"tbLabel"},{xtype:"spacer"},{xtype:"button",ui:"forward",id:"btnUserList",text:"User List",handler:function(){now.reqUsers({cid:activeChannel})}}]},{xtype:"toolbar",docked:"bottom",ui:"neutral",layout:{type:"hbox"},items:[{xtype:"textfield",id:"tfMessage",flex:85,placeHolder:"Type here...",listeners:{keyup:function(a,b,c){b.event.keyCode==13&&(postMsg(activeChannel,Ext.getCmp("tfMessage").getValue()),Ext.getCmp("tfMessage").setValue(""))}}},{xtype:"button",flex:15,text:"Say",id:"btnSay",handler:function(){postMsg(activeChannel,Ext.getCmp("tfMessage").getValue()),Ext.getCmp("tfMessage").setValue("")}}]}]},{xtype:"list",id:"listUserList",disableSelection:!0,ui:"dark",itemCls:"liUserList",store:storeUserList,itemTpl:tplUserList,items:[{xtype:"toolbar",docked:"top",ui:"dark",items:[{xtype:"button",ui:"back",text:"Channel",handler:function(){Ext.getCmp("tabChannel").animateActiveItem(0,{type:"slide",direction:"right"})}},{xtype:"spacer"},{xtype:"container",html:"User List",cls:"tbLabel"}]}]}]}}),Ext.define("SayloMobile.view.Settings",{extend:"Ext.Panel",xtype:"settingsPage",config:{title:"Settings",id:"tabSettings",scrollable:"vertical",layout:{type:"vbox",align:"start"},items:[{xtype:"container",style:"background-color: black; margin-top: 20px; margin-left: 10px;",width:"50px",height:"50px",id:"imgProfilePic"},{xtype:"container",style:"margin-top: 20px; margin-left: 10px;",html:"Email"},{xtype:"textfield",disabled:!0,width:"90%",id:"txtEmail",style:"margin-top: 5px; margin-left: 10px;"},{xtype:"container",style:"margin-top: 10px; margin-left: 10px;",html:"First Name"},{xtype:"textfield",disabled:!0,id:"txtFirst",width:"90%",style:"margin-top: 5px; margin-left: 10px;"},{xtype:"container",style:"margin-top: 10px; margin-left: 10px;",html:"Last Name"},{xtype:"textfield",disabled:!0,id:"txtLast",width:"90%",style:"margin-top: 5px; margin-left: 10px;"},{xtype:"container",width:"100%",layout:{type:"vbox",pack:"center",align:"center"},items:[{xtype:"button",style:"margin-top: 30px; margin-bottom: 10px;",ui:"decline",text:"Sign Out",handler:function(){now.reqLogout()}}]}]}})